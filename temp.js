


<style>
 .displaynone {display: none !important;}body.eMobilePopup{overflow:hidden;position:fixed;}.ec-base-label{display:inline-block;margin-right:5px;}.ec-base-label img{vertical-align:middle;}.gridContainer .gridItem {min-width:0;}.ec-solution-box{padding:20px;border:5px solid #e8e8e8;color:#404040;}.ec-solution-box.gHalf{position:relative;padding:20px 0;}.ec-solution-box.gHalf:before{position:absolute;top:0;left:50%;display:block;content:"";width:1px;height:100%;background-color:#e6e6e6;}.ec-solution-box.typeBg{background-color:#fbfafa;}.ec-solution-box.typeThin{border-width:1px;border-color:#d7d5d5;}.ec-solution-box.typeThinBg{border-width:1px;border-color:#d7d5d5;background-color:#fbfafa;}.ec-solution-box.typeThinBg > .agree{padding:20px;border:1px solid #e6e6e6;background:#fff;}.ec-solution-box.typeThinBg > .agree p{padding:0 0 17px;}.ec-solution-box.typeMember{padding:0;}.ec-solution-box.typeMember .information{display:table;table-layout:fixed;padding:10px 0;width:100%;box-sizing:border-box;}.ec-solution-box.typeMember .information > .title,.ec-solution-box.typeMember .information > .thumbnail{display:table-cell;padding:0 15px;width:70px;text-align:center;vertical-align:middle;}.ec-solution-box.typeMember .information > .title{vertical-align:middle;}.ec-solution-box.typeMember .information > .thumbnail img{max-width:70px;}.ec-solution-box.typeMember .information .description{display:table-cell;padding:0 10px;width:auto;line-height:1.5em;border-left:1px solid #e8e8e8;vertical-align:middle;}.ec-solution-box.typeMember.gMessage{border-width:1px;border-color:#d7d5d5;}.ec-solution-box .message{display:block;padding:10px 0 10px 35px;border-bottom:1px solid #e8e7e7;background:#fbfbfb url("//img.echosting.cafe24.com/skin/base/common/ico_info.gif") no-repeat 10px center;}.ec-solution-box.typeProduct{display:table;table-layout:fixed;padding:15px 0;width:100%;box-sizing:border-box;}.ec-solution-box.typeProduct .thumbnail,.ec-solution-box.typeProduct .information{display:table-cell;padding:0 20px;vertical-align:middle;}.ec-solution-box.typeProduct .thumbnail{width:100px;}.ec-solution-box.typeProduct .thumbnail img{max-width:90px;border:1px solid #d7d5d5;}.ec-solution-box.typeProduct .information{padding-left:0;}.ec-solution-button{padding:10px 0;text-align:center;}.ec-solution-button.justify{position:relative;}.ec-solution-button:after{display:block;content:"";clear:both;}.ec-solution-button .gLeft{float:left;text-align:left;}.ec-solution-button .gRight{float:right;text-align:right;}.ec-solution-button.justify .gLeft{position:absolute;left:0;}.ec-solution-button.justify .gRight{position:absolute;right:0;}.ec-solution-button .text{margin:0 6px 0 10px;color:#353535;line-height:24px;}.ec-solution-button.typeBorder{margin-top:-1px;padding:10px 20px;border:1px solid #d7d5d5;}.ec-solution-button.typeBG{padding:10px 20px;border:1px solid #d7d5d5;background:#fbfafa;}.ec-solution-layer li{list-style:none;}.ec-solution-layer table{width:100%;border:0;border-spacing:0;border-collapse:collapse;}.ec-solution-layer caption{display:none;}.ec-solution-layer h1,.ec-solution-layer h3{margin:0;}.ec-solution-layer{position:absolute;z-index:100;border:1px solid #757575;background:#fff;}.ec-solution-layer .header{padding:7px 35px 7px 19px;color:#fff;background:#495164;}.ec-solution-layer .header > h1,.ec-solution-layer .header > h3{font-size:14px;line-height:1.5;}.ec-solution-layer .content{padding:20px;font-size:12px;}.ec-solution-layer div.ec-solution-help{margin-top:0;}.ec-solution-layer .ec-solution-button{padding:9px;border-top:1px solid #d7d5d5;text-align:center;background:#fbfafa;}.ec-solution-layer .close{position:absolute;right:0;top:0;padding:11px 20px;cursor:pointer;}#popup .ec-solution-layer{position:relative;border:0;}#popup .ec-solution-layer .header{padding:12px 35px 12px 19px;}#popup .ec-solution-layer .close{top:5px;}.ec-solution-layer .content > .ec-solution-table table:first-child{margin-top:0;}.ec-solution-layer .ec-solution-table table{line-height:1.4;}.ec-solution-layer .ec-solution-table thead th{padding:9px 0 8px;}.ec-solution-layer .ec-solution-table tbody th{padding:9px 0 8px 10px;}.ec-solution-layer .ec-solution-table td{padding:9px 10px 8px;}.ec-solution-layer .ec-solution-table.typeWrite td{padding:5px 10px 4px;}.ec-solution-layer .ec-solution-table.typeList tfoot td{padding:10px 10px 12px;}.ec-solution-layer .ec-solution-table.typeBorder tfoot td{padding:10px 10px 12px;}.ec-solution-table table{position:relative;margin:10px 0 0;border:1px solid #d7d5d5;border-top-color:#fff;color:#fff;line-height:1.5;}.ec-solution-table.gLayoutFixed table{table-layout:fixed;}.ec-solution-table.gLayoutFixed .gLayoutAuto table{table-layout:auto;}.ec-solution-table table:before{position:absolute;top:1px;left:0;display:block;content:"";width:100%;height:1px;background:#d7d5d5;}.ec-solution-table thead th{padding:11px 0 10px;border-left:1px solid #dfdfdf;border-bottom:1px solid #dfdfdf;color:#353535;vertical-align:middle;font-weight:normal;background:#fbfafa;}.ec-solution-table tbody th{padding:11px 0 10px 18px;border:1px solid #dfdfdf;border-bottom-width:0;color:#353535;text-align:left;font-weight:normal;background-color:#fbfafa;}.ec-solution-table th:first-child{border-left:0;}.ec-solution-table td{padding:11px 10px 10px;border-top:1px solid #dfdfdf;color:#353535;vertical-align:middle;}.ec-solution-table td.clear{padding:0 !important;border:0 !important;}.ec-solution-table.typeWrite td{padding:8px 10px 7px;}.ec-solution-table.typeList table{border-top-color:#d7d5d5;}.ec-solution-table.typeList table:before{display:none;}.ec-solution-table.typeList td{padding:8px 10px 7px;}.ec-solution-table.typeList tfoot td{padding:15px 10px 17px;background:#fbfafa;}.ec-solution-table .message{border:1px solid #d7d5d5;padding:50px 0;text-align:center;color:#757575;font-weight:bold;}.ec-solution-table table + .message{margin:-1px 0 0;}.ec-solution-table table td.message{padding:50px 0;}.ec-solution-table .scroll .message{border:0;}.ec-solution-table.typeList .head td{padding:11px 0 10px;border-left:1px solid #dfdfdf;border-bottom:1px solid #dfdfdf;color:#353535;vertical-align:middle;text-align:center;background:#fbfafa;}.ec-solution-table.typeList .head td:first-child{border-left:0;}.ec-solution-table.typeList .scroll{position:relative;overflow-x:hidden;overflow-y:scroll;max-height:185px;min-height:100px;border:1px solid #d7d5d5;border-top-width:0;margin-top:-1px;}.ec-solution-table.typeList .scroll table{border:0;margin:0;}.ec-solution-table.typeList .scroll table:before{display:none;}.ec-solution-table.typeList .scroll .message{border:0;}.ec-solution-table thead.blind,.ec-solution-table thead.blind th{display:none;}.ec-solution-table thead.blind + tbody tr:first-child th,.ec-solution-table thead.blind + tbody tr:first-child td{border-top-width:0;}.ec-solution-table.typeList.gLine table{border-width:0;border-bottom-width:1px;}.ec-solution-table.typeClear table:before{display:none;}.ec-solution-table.typeClear table,.ec-solution-table.typeClear th,.ec-solution-table.typeClear td{border:0 none;background:none;}.ec-solution-table.typeClear th{font-weight:bold;}.ec-solution-table.gBorder td{border-left:1px solid #dfdfdf;}.ec-solution-table.gBorder td:first-child{border-left:0;}.ec-solution-table .left{text-align:left;}.ec-solution-table .center{text-align:center;}.ec-solution-table .right{text-align:right;}.ec-solution-table.typeList .center td,.ec-solution-table.typeList td.center{padding-left:0;padding-right:0;}.ec-solution-table.typeList .center td.left{padding-left:10px;}.ec-solution-table.typeList .center td.right{padding-right:10px;}.ec-solution-table .top th,.ec-solution-table th.top,.ec-solution-table .top td,.ec-solution-table td.top{vertical-align:top;}.ec-solution-table .middle th,.ec-solution-table th.middle,.ec-solution-table .middle td,.ec-solution-table td.middle{vertical-align:middle;}.ec-solution-table img{vertical-align:middle;}@media print{.ec-solution-table table:before{display:none;}}.xans-product-detail{font-size:12px }.xans-product-detail .strike{text-decoration:line-through;}.xans-product-detail .byte{font-size:11px;vertical-align:middle;}.xans-product-detail .byte strong{color:#333;}.disp_custom0{display:none;}.xans-product-detail p.prdIcon{margin:15px 0px 7px;}.xans-product-detail p.prdIcon img{margin:7px 4px 0 0;}.xans-product-detail p.prdIcon .icon_img{margin:0px 0 0 0;}.xans-product-detail h1.name{margin:0px;font-size:14px;}.xans-product-detail .overview{padding:14px;font-size:12px;}.xans-product-detail .overview .prdImgView{position:relative;min-height:100px;text-align:center;}.xans-product-detail .overview .prdImg{font-size:0;line-height:0;}.xans-product-detail .overview .prdImg img{width:100%;}.xans-product-detail .overview .prdIcon{position:relative;top:0;left:0;width:100%;height:100%;background-repeat:no-repeat;background-size:25% auto;}.xans-product-detail .overview .color{overflow:hidden;margin:7px 1px 0;}.xans-product-detail .overview .chips{float:left;width:20px;height:4px;margin:0 3px 3px 0;font-size:0;line-height:0;border:1px solid #e3e3e3;}.xans-product-detail .overview .topLogo{overflow:hidden;padding:0 0 14px;}.xans-product-detail .overview .topLogo span{float:left;padding:0 14px 0 0;font-weight:bold;font-size:20px;line-height:26px;}.xans-product-detail .overview .topLogo span img{max-height:20px;}.xans-product-detail .overview .topLogo a{float:left;}.xans-product-detail .overview .topLogo a img{max-height:26px;}.xans-product-detail .prdDesc .ec-base-table{margin:0 7px;padding:0;border:0;}.xans-product-detail .prdDesc .ec-base-table table{margin:10px 0 10px;border:1px solid #d5d5d5;}.xans-product-detail .prdDesc .ec-base-table:first-of-type table{margin:0;}.xans-product-detail .ec-base-table tbody.priceArea{}.xans-product-detail .ec-base-table tbody.priceArea th{font-weight:bold;}.xans-product-detail .ec-base-table tbody.priceArea tr.price td{text-decoration:line-through;}.xans-product-detail .ec-base-table td select{width:100%;}.xans-product-detail .ec-base-table td select#delivery_cost_prepaid{margin:0 0 7px;}.xans-product-detail .ec-base-table .mileage td p{display:inline-block;}.xans-product-detail .gap{}.xans-product-detail .ec-base-table.typeWrite td select{width:100%;}.xans-product-detail .ec-base-table.typeWrite td.selectButton{text-align:right;}.xans-product-detail .ec-base-table.typeWrite td.fileInfo input{width:95%;}.xans-product-detail .ec-base-table.typeWrite #ul_file_option li{margin:4px 0 0;color:#757575;font-size:11px;}.xans-product-detail .ec-base-table.typeWrite #ul_file_option .btnDelete{overflow:hidden;display:inline-block;text-indent:-999px;width:21px;height:20px;border:0;cursor:pointer;background:url("//img.echosting.cafe24.com/skin/mobile_ko_KR/product/btn_delete.png") no-repeat 0 0;background-size:100% 100%;}.xans-product-detail .ec-base-table.typeWrite img{vertical-align:middle;cursor:pointer;}.xans-product-detail .btnRestockMail{display:inline-block;padding:3px 7px;border:1px solid #d5d5d5;border-radius:2px;color:#1b1b1b;font-size:11px;background:#fff;}.xans-product-detail .btnRestockSms{display:inline-block;padding:3px 7px;border:1px solid #d5d5d5;border-radius:2px;color:#1b1b1b;font-size:11px;background:#fff;}.xans-product-detail .sizeGuide{margin:0 7px;padding:7px 0 14px 27px;background:url("//img.echosting.cafe24.com/skin/mobile_ko_KR/product/ico_sizeGuide.png") no-repeat 7px 9px;background-size:auto 10px;}.xans-product-detail .sizeGuide a{display:inline-block;padding:0 14px 0 0;font-weight:bold;color:#1b1b1b;font-size:13px;background:url("//img.echosting.cafe24.com/skin/mobile_ko_KR/product/btn_sizeguide.png") no-repeat 100% 50%;background-size:auto 12px;}.xans-product-detail .likeButton{position:absolute;top:20px;right:20px;display:table;margin:0 auto;text-align:center;}.xans-product-detail .likeButton button{padding:0 9px;background:#fff;border:1px solid #e6e6e6;border-radius:1px;font-family: 'Lato',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;opacity:0.9;filter:Alpha(opacity=99);-webkit-opacity:0.9;-moz-opacity:0.9;}.xans-product-detail .likeButton span{display:inline-block;font-size:12px;line-height:25px;color:#737373;}.xans-product-detail .likeButton .count{margin:0 0 0 3px;background:none;}.xans-product-detail .likeButton .title{margin:0 5px 0 0px;}.xans-product-detail .likeButton .like_icon{position:relative;top:-2px;}.xans-product-detail .likeButton .like_icon img{width:14px;}.xans-coupon-productdetail.ec-base-fold{margin:0 7px 7px;}.xans-coupon-productdetail .contents{background:#fff;}.xans-coupon-productdetail .contents li{padding:14px;border-top:1px solid #ececec;}.xans-coupon-productdetail .contents li:first-child{border-top:0;}.xans-coupon-productdetail .coupon{width:196px;height:110px;margin:10px auto;font-size:12px;line-height:1.5;text-align:center;font-family: 'Lato',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;padding:0px 0 0px 35px;font-size:12px;line-height:1.5;text-align:center;background:#f7f7f7;border:5px solid #cfc3b5;background:url("/web/upload/m_market103/layout/coupon_bg.jpg") no-repeat;background-size:contain;}.xans-coupon-productdetail .coupon .title{display:block;padding:8px 0 0;font-size:10px;line-height:15px;text-align:center;font-weight:normal;font-family: 'Lato',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;}.xans-coupon-productdetail .coupon .discount{font-size:18px;line-height:28px;font-weight:bold;text-align:center;letter-spacing:-1px;font-family: 'Lato',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;text-decoration:none;}.xans-coupon-productdetail .coupon .discount span{font-size:22px;font-family: 'Lato',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;}.xans-coupon-productdetail .coupon .period{font-size:11px;line-height:13px;font-weight:bold;text-align:center;font-family: 'Lato',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;letter-spacing:-1px;}.xans-coupon-productdetail .coupon .button{margin:5px auto 0px;text-align:center;}#dCouponDetail{position:absolute;z-index:100;min-width:303px;margin:0 7px;border:1px solid #353535;border-radius:4px;background:#f1f1f1;}#dCouponDetail.active{display:block;}#dCouponDetail h4{font-size:14px;box-sizing:border-box;padding:10px 14px;background:#353535;color:#fff;}#dCouponDetail .couponInfo{margin:14px 7px 7px;background:#fff;border:1px solid #d5d5d5;}#dCouponDetail .couponInfo li{padding:12px;border-top:1px solid #ededed;}#dCouponDetail .couponInfo li:first-child{border-top:0;}#dCouponDetail .mButton{text-align:center;padding:0 0 7px;}#dCouponDetail .mButton a{display:inline-block;height:28px;line-height:28px;margin:0;padding:0 9px;font-size:13px;cursor:pointer;vertical-align:middle;font-family:Verdana,"맑은 고딕",Malgun Gothic,"돋움",Dotum,sans-serif;font-weight:400;border:0;border-radius:2px;-moz-box-sizing:border-box;box-sizing:border-box;}#dCouponDetail .mButton .tSubmit1{color:#fff;background:#222;margin:0 7px 0 0;}#dCouponDetail .mButton .tSubmit2{color:#1b1b1b;border:1px solid #bcbcbc;background:#fff;}#detail_event{width:100%;margin:70px auto 70px !important;}#detail_event img{width:100% !important;height:auto !important;}.xans-product-action{margin:0 7px;padding:0;border:0;}.xans-product-action.fixed{position:fixed;z-index:120;left:0;bottom:0;width:100%;box-sizing:border-box;margin:0;padding:7px 13px;background-color:#dbdbdb;-webkit-box-shadow:0px -4px 4px 0px rgba(0,0,0,0.3);-moz-box-shadow:0px -4px 4px 0px rgba(0,0,0,0.3);box-shadow:0px -4px 4px 0px rgba(0,0,0,0.3);}.xans-product-action .detail_button{width:100%;margin:10px auto 10px;text-align:center;font-size:0px;letter-spacing:0px;word-spacing:0px;}.xans-product-action .detail_button .d_normal_btn{width:49%;height:45px;line-height:45px;color:#1b1b1b;font-size:12px;font-family: 'Lato',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;border:1px solid #cfcfcf;background:#fff;border-radius:2px;-moz-box-sizing:border-box;box-sizing:border-box;}.xans-product-action .detail_button .d_strong_btn{display:block;width:100%;height:45px;line-height:45px;margin:0 auto 7px;text-align:center;color:#fff;font-size:12px;font-family: 'Lato',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;background:#222;border-radius:2px;-moz-box-sizing:border-box;box-sizing:border-box;}.xans-product-action .detail_button .l_btn{margin:0 3px 0 0px;}.xans-product-action .detail_button .r_btn{margin:0 0px 0 3px;}.xans-product-action .fix_btn_01{position:fixed;left:0px;bottom:0px;width:100%;height:53px;margin:0 auto;text-align:center;border-top:1px solid #dcdcdc;border-bottom:1px solid #dcdcdc;background:#fff;font-size:0px;letter-spacing:0px;word-spacing:0px;opacity:0.9;filter:Alpha(opacity=99);-webkit-opacity:0.9;-moz-opacity:0.9;z-index:120;}.xans-product-action .fix_btn_01 p{display:inline-block;width:20%;height:53px;padding:10px 0 10px;color:#1b1b1b;font-size:11px;font-family: 'Lato',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;background:none;-moz-box-sizing:border-box;box-sizing:border-box;}.xans-product-action .fix_btn_01 p:last-child{border:0px;}.xans-product-action .fix_btn_02{position:fixed;left:0px;bottom:0px;width:100%;height:53px;margin:0 auto;text-align:center;border-top:1px solid #dcdcdc;border-bottom:1px solid #dcdcdc;background:#fff;font-size:0px;letter-spacing:0px;word-spacing:0px;opacity:0.9;filter:Alpha(opacity=99);-webkit-opacity:0.9;-moz-opacity:0.9;z-index:120;}.xans-product-action .fix_btn_02 p{display:inline-block;width:25%;height:53px;padding:10px 0 10px;color:#1b1b1b;font-size:12px;font-family: 'Lato',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;background:none;-moz-box-sizing:border-box;box-sizing:border-box;}.xans-product-action .fix_btn_02 p:last-child{border:0px;}.xans-product-action .icon{display:block;margin:0 auto 5px;font-size:13px;color:#1b1b1b;}.snsLink{display:none;padding:0 15px 20px;font-size:0;text-align:center;}.snsLink:after{content:"";display:block;clear:both;}.snsLink .xans-product-customsns{display:inline-block;margin:0 6px;line-height:1;vertical-align:middle;}.snsLink img{font-size:12px;cursor:pointer;}.snsLink > img{margin:0 6px;}.xans-product-detail .productSet{margin:0 7px 7px;}.xans-product-detail .productSet .product > li{padding:14px;background:#fff;border-top:1px solid #ededed;}.xans-product-detail .productSet .product > li:first-child{border-top:0;}.xans-product-detail .productSet .product .information{min-height:73px;padding:0;}.xans-product-detail .productSet .product .information:after{display:block;content:"";clear:both;}.xans-product-detail .productSet .product .thumbnail{float:left;width:71px;padding:0 14px 14px 0;}.xans-product-detail .productSet .product .thumbnail img{max-width:100%;}.xans-product-detail .productSet .product .name{margin:0 0 7px;font-size:14px;color:#757575;line-height:1.25em;}.xans-product-detail .productSet .product .name a{color:#757575;word-wrap:break-word;}.xans-product-detail .productSet .product .price{margin:0 0 14px;font-size:14px;font-family:Tahoma,sans-serif;color:#000;line-height:1.25em;word-wrap:break-word;}.xans-product-detail .productSet .product .qty{font-size:11px;color:#8f8f91;}.xans-product-detail .productSet .product .salePrice{font-size:13px;font-family:Tahoma,sans-serif;font-weight:bold;color:#66676a;}.xans-product-detail .productSet .product .option{margin:5px 0 0;padding:0 6px 6px;border:1px solid #d5d5d5;background:#f1f1f1;}.xans-product-detail .productSet .product .option table{width:100%;}.xans-product-detail .productSet .product .option th,.xans-product-detail .productSet .product .option td{padding:7px 0 0;line-height:29px;font-size:12px;}.xans-product-detail .productSet .product .option th{color:#757575;font-weight:normal;text-align:left;}.xans-product-detail .productSet .product .option td .fText{width:45%;padding:3px;}.xans-product-detail .productSet .product .sizeGuide{margin:0;padding:7px 14px 0 27px;background-position:7px 17px;}.xans-product-detail .productSet .product .sizeGuide a{padding:7px 14px 7px 0;}.xans-product-detail .productSet.hide .title span{display:block;padding:0;font-size:12px;}.xans-product-detail .productSet.hide .product{display:none;}.xans-product-detail .productSet select{width:100%;white-space:nowrap;}.xans-product-detail .productSet input[type="text"],.xans-product-detail .productSet input[type="password"]{margin-bottom:2px;}.xans-product-detail .productSet #quantity{width:49px;}.xans-product-detail .productSet .quantity img{width:auto;}.xans-product-detail .productSet .quantity.set{padding:14px 14px;border-top:1px solid #ccc;background:#fff;}.xans-product-detail .productSet .quantity.set dt,.xans-product-detail .productSet .quantity.set dd{display:inline-block;vertical-align:middle;}.xans-product-detail .productSet .quantity.set dt{width:104px;padding:0 0 0 6px;font-size:13px;color:#757575;}.xans-product-detail .productSet td img{width:26px;vertical-align:middle;cursor:pointer;}.xans-product-detail .productSet .selectButton{margin:14px 0 0;width:100%;text-align:right;}.xans-product-detail .productSet.xans-product-setproduct .product .thumbnail{padding:0 7px 14px 0;}.xans-product-detail .productSet .description.selected .content .ec-base-table table{border:none;}.xans-product-detail .xans-product-option .value{color:#767479;word-break:break-all;}.xans-product-detail .xans-product-option .value .ec-product-value{color:#363437;}.xans-product-detail .xans-product-option .ec-product-button li{position:relative;overflow:hidden;display:inline-block;margin:0 3px 3px 0;vertical-align:top;border:1px solid #c8c8c8;border-radius:2px;background:#fff;}.xans-product-detail .xans-product-option .ec-product-button li:last-child{margin-right:0;}.xans-product-detail .xans-product-option .ec-product-button li a{display:block;min-width:30px;line-height:18px;text-align:center;text-decoration:none;word-break:break-all;}.xans-product-detail .xans-product-option .ec-product-button li a span{display:inline-block;padding:6px 5px;box-sizing:border-box;word-break:break-all;}.xans-product-detail .xans-product-option .ec-product-button.ec-product-preview li{padding:3px;}.xans-product-detail .xans-product-option .ec-product-button.ec-product-preview li a{min-width:24px;width:24px;height:24px;}.xans-product-detail .xans-product-option .ec-product-button.ec-product-preview li a img{max-width:100%;max-height:100%;vertical-align:top;}.xans-product-detail .xans-product-option .ec-product-button.ec-product-preview li a span{overflow:hidden;line-height:0;font-size:0;padding:0;text-indent:120%;white-space:nowrap;}.xans-product-detail .xans-product-option .ec-product-button.ec-product-preview .ec-product-soldout span,.xans-product-detail .xans-product-option .ec-product-button.ec-product-preview .ec-product-disabled span{position:absolute;left:0;top:0;z-index:1;}.xans-product-detail .xans-product-option .ec-product-button.ec-product-preview .ec-product-soldout span{background:url("//img.echosting.cafe24.com/skin/mobile/product/soldout_bg.png") repeat;background-size:28px auto;}.xans-product-detail .xans-product-option .ec-product-button .ec-product-soldout{border-style:dashed;}.xans-product-detail .xans-product-option .ec-product-button .ec-product-soldout a span{display:inline-block;width:100%;height:100%;cursor:not-allowed;color:#c8c8c8;}.xans-product-detail .xans-product-option .ec-product-button .ec-product-soldout.ec-product-selected{border-style:dashed;}.xans-product-detail .xans-product-option .ec-product-button .ec-product-disabled a span{display:inline-block;width:100%;height:100%;background:rgba(0,0,0,0.3);}.xans-product-detail .xans-product-option .ec-product-button .ec-product-selected{border:2px solid #616161;border-radius:2px;}.xans-product-detail .xans-product-option .ec-product-button .ec-product-selected a{margin:-1px;}.xans-product-detail .xans-product-option .ec-product-radio > li{display:inline-block;margin:0 10px 0 0;}.xans-product-detail .xans-product-option .ec-product-radio .ec-product-disabled,.xans-product-detail .xans-product-option .ec-product-radio .ec-product-soldout{color:#d7d7d7;}#totalProducts{margin:7px;}#totalProducts table{margin:0;border-collapse:collapse;}#totalProducts tbody tr{border-top:1px solid #d5d5d5;}#totalProducts tbody tr:first-child{border-top:0;}#totalProducts thead{display:none;}#totalProducts tbody td{padding:14px;font-size:12px;color:#5f5f5f;line-height:16px;background:#fff;vertical-align:middle;word-wrap:break-word;word-break:break-all;}#totalProducts tbody td img{vertical-align:middle;}#totalProducts tbody tr td:nth-child(2){padding:0;text-align:right;}#totalProducts tbody tr td:nth-child(3){padding:0 14px 0 7px;text-align:center;}#totalProducts tbody td p{margin:0;}#totalProducts tbody td p.option,#totalProducts tbody td p.product{padding:0 0 14px;}#totalProducts tbody td p.option strong,#totalProducts tbody td p.product strong{font-weight:normal;color:#1c1c1c }#totalProducts input.quantity_opt,#totalProducts input[readonly]{width:50px;}#totalProducts tbody td .quantity input{width:23px;height:19px;padding:0 5px;line-height:19px;border:1px solid #e9e9e9;border-top:1px solid #c5c5c5;border-left:1px solid #c5c5c5;*margin-top:-1px;}#totalProducts tbody td .price{display:block;margin:0 0 6px;font-weight:bold;font-size:13px;font-family:Tahoma,sans-serif;color:#333;}#totalProducts tbody td .mileage{display:block;font-size:11px;color:#2d2d2d;white-space:nowrap;}#totalProducts tbody td .soldOut{color:#ef3535;}.totalPrice{margin:7px 7px 0px;padding:14px;font-size:12px;line-height:15px;vertical-align:middle;border:1px solid #d5d5d5;background:transparent;}.totalPrice > strong{color:#1b1b1b;}.totalPrice .total{font-size:15px;float:right;font-family: 'Lato',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;color:#333;}.totalPrice .total strong{font-weight:bold;}.differentialShipping{display:inline-block;position:relative;width:13px;height:13px;vertical-align:middle;}.differentialShipping .btnHelp{display:inline-block;overflow:hidden;width:13px;height:13px;font-size:0;vertical-align:top;background:url("//img.echosting.cafe24.com/skin/mobile_ko_KR/layout/ico_help2.png") no-repeat 50% 50%;background-size:13px 13px;}.differentialShipping .layerShipping{display:none;z-index:1000;position:fixed;left:7px;width:100%;top:100px;box-sizing:border-box;margin:0;padding:0 14px 0 0;}.differentialShipping .layerShipping p{padding:12px;color:#fff;background-color:#353535;border:1px solid #353535;border-bottom:0;border-radius:4px 4px 0 0;}.differentialShipping .layerShipping p strong{font-weight:normal;font-size:13px;}.differentialShipping .layerShipping ul{padding:14px 7px;border:1px solid #353535;border-top:0;border-radius:0 0 4px 4px;background-color:#f0f0f0;}.differentialShipping .layerShipping li{padding:12px;overflow:hidden;font-size:11px;background:#fff;border:1px solid #d5d5d5;border-top:0;}.differentialShipping .layerShipping li:first-child{border-top:1px solid #d5d5d5;;}.differentialShipping .layerShipping li strong{float:left;font-weight:normal;color:#757575;}.differentialShipping .layerShipping li .price{float:right;font-weight:bold;font-family:Tahoma,sans-serif;color:#353535;}.differentialShipping .layerShipping .btnClose{position:absolute;right:24px;top:12px;overflow:hidden;width:18px;height:18px;font-size:0;background:url("//img.echosting.cafe24.com/skin/mobile_ko_KR/layout/ico_close_white.png") no-repeat 50% 50%;background-size:20px 20px;}.supplyInfo{margin:14px 7px;}.supplyInfo h3{padding:14px 13px;margin:0 0 -10px 0;border:1px solid #d5d5d5;border-bottom:0;color:#333;font-size:12px;background-color:#f0f0f0;}.xans-product-detaildesign td ul.discountMember:after{content:"";display:block;clear:both;}.xans-product-detaildesign td > span > ul.discountMember > li{float:left;}.xans-product-detaildesign td ul.discountMember li a{float:left;margin:0 5px 5px 0;}.xans-product-detaildesign .discount_layer{margin:3px auto 0;padding:0 14px 14px;}.xans-product-detaildesign .discount_layer h3{display:block;font-size:15px;color:#000;line-height:43px;}.xans-product-detaildesign .discount_layer p,.xans-product-detaildesign .discount_layer ul{margin:7px 0;}.xans-product-detaildesign .discount_layer p.bullet,.xans-product-detaildesign .discount_layer ul.bullet li{padding:0 0 0 14px;font-size:12px;background:url("//img.echosting.cafe24.com/skin/mobile/common/ico_dot.png") no-repeat 3px 6px;background-size:4px auto;}.xans-product-detaildesign .discount_layer .info{color:#757575;font-size:12px;}.xans-product-detaildesign .discount_layer table{border:1px solid #ececec !important;background:#fff;}.xans-product-detaildesign .discount_layer thead{display:table-column;}.xans-product-detaildesign .discount_layer thead th{padding:0;height:0;font-size:0;line-height:0;border:0;}.xans-product-detaildesign .discount_layer tbody th{padding:7px 3px 7px 7px;}.xans-product-detaildesign .discount_layer tbody th,.xans-product-detaildesign .discount_layer tbody td{font-size:12px;border-top:1px solid #ececec !important;}.xans-product-detaildesign .discount_layer tbody td{padding:7px 7px 7px 0;text-align:right;}.xans-product-detaildesign .discount_layer tbody td .addMobile{display:block;}.xans-product-detaildesign .discount_layer .gCenter{text-align:center;}.xans-product-detail .productSet .description{margin:0 -14px;}.xans-product-detail .productSet .description h3{height:0;line-height:0;font-size:0;}.xans-product-detail .productSet .description.eToggle .inner{display:none;}.xans-product-detail .productSet .description.eToggle.selected .inner{display:block;margin:9px 0 0;}.xans-product-detail .productSet .description .content{display:none;padding:0;}.xans-product-detail .productSet .description.selected .content{display:block;}.xans-product-detail .productSet .description td img{width:auto;}.xans-product-detail .productSet .description .color td{font-size:0;line-height:0;}.xans-product-detail .productSet .description .chips{display:inline-block;width:20px;height:16px;margin:0 2px 3px 0;border:1px solid #e3e3e3;}.xans-product-detail .productSet .description .discountMember img{width:auto;height:26px;}.xans-product-detail .productSet .description .ec-base-button{margin-bottom:0;}.xans-product-detail .productSet .description .btnBasic{width:100%;max-width:320px;color:#757575;font-weight:bold;}.xans-product-detail .productSet .description .btnBasic.icoToggle span{display:inline-block;padding:0 20px 0 0;background: url("/web/upload/m_market103/layout/ico_toggle_arow_down2.png") no-repeat right 10px;background-size:13px auto;}.xans-product-detail .productSet .description.selected .btnBasic.icoToggle span{background-image: url("/web/upload/m_market103/layout/ico_toggle_arow_up2.png");}.xans-product-detail .productSet .description .xans-product-stocklayer .layer .content{padding:20px 10px;}@media all and (min-width:569px){.xans-product-detail{overflow:hidden;margin:0 0 14px;}.xans-product-detail .overview{float:left;padding:0 1% 0 2%;width:50%;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;}.xans-product-detail .prdDesc{float:right;margin:0 0 10px;width:50%;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;}.xans-product-action{padding:0;}}.regularDelivery .shippingCycle{background:#f1f1f1;font-family: 'Lato',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;}.regularDelivery .shippingCycle .title{display:inline-block;padding:5px 0;font-size:12px;font-weight:bold;color:#1b1b1b;}.regularDelivery .shippingCycle .icoSave{display:inline-block;position:relative;top:-1px;height:11px;padding:0 4px;border:1px solid #ff5454;border-radius:2px;line-height:10px;color:#ff5454;font-size:11px;}.regularDelivery .shippingCycle .info > li{line-height:16px;color:#757575;font-size:11px;}.regularDelivery .shippingCycle .info .icoDown{display:inline-block;position:relative;overflow:hidden;width:5px;height:10px;margin:0 0 0 2px;line-height:10px;text-indent:-9999px;}.regularDelivery .shippingCycle .info .icoDown:before{content:"";display:inline-block;position:absolute;top:0;left:2px;width:1px;height:10px;background-color:#ff5454;}.regularDelivery .shippingCycle .info .icoDown:after{content:"";display:inline-block;position:absolute;bottom:2px;left:-2px;padding:4px;border:solid #ff5454;border-width:0 1px 1px 0;transform:rotate(45deg);-webkit-transform:rotate(45deg);}.regularDelivery .badge{display:inline-block;z-index:1;position:relative;top:-1px;width:auto;height:18px;padding:0 6px;border-radius:10px;line-height:18px;font-size:11px;color:#fff;background-color:#555;}.regularDelivery .badge .icoDown{display:inline-block;position:relative;top:1px;overflow:hidden;width:8px;height:12px;border-radius:50%;line-height:10px;text-indent:-9999px;}.regularDelivery .badge .icoDown:before{content:"";display:inline-block;position:absolute;top:3px;left:2px;width:4px;height:4px;background-color:#fff;}.regularDelivery .badge .icoDown:after{content:"";display:inline-block;position:absolute;bottom:1px;left:0;width:0;height:0;border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid #fff;}.xans-product-mobileimage{margin:0;}.xans-product-mobileimage li{vertical-align:middle;}.xans-product-mobileimage .thumbnail{display:inline-block;position:relative;}.xans-product-mobileimage img{max-width:100%;max-height:100%;}.xans-product-mobileimage .ec-base-paginate{margin:15px 0 0;}.xans-product-additional,.faq{margin:0;padding:0 0 7px;background-color:#f0f0f0;}.xans-product-additional .faq .toggle{margin:0 7px 7px;border:1px solid #d5d5d5;background-color:#fff;}.xans-product-additional .faq .toggle > .title{position:relative;padding:14px;color:#333;-webkit-tap-highlight-color: rgba(255,255,255,0);cursor:pointer;background-color:#f0f0f0;}.xans-product-additional .faq .toggle > .title:after{display:block;position:absolute;top:0;right:0;content:"";width:40px;height:100%;background-repeat:no-repeat;background-size:13px 8px;background-position:center;background-image:url("//img.echosting.cafe24.com/skin/mobile_ko_KR/product/ico_toggle_arow_down.png");}.xans-product-additional .faq .toggle.selected > .title:after{background-image:url("//img.echosting.cafe24.com/skin/mobile_ko_KR/product/ico_toggle_arow_up.png");}.xans-product-additional .faq .toggle.disable > .title:after{background-image:none !important;}.xans-product-additional .faq .toggle .contents{display:none;border-top:1px solid #ddd;padding:14px;color:#777;}.xans-product-additional .faq .toggle.selected > .contents,.xans-product-additional .faq .toggle.disable > .contents{display:block;}.xans-product-additional{margin:0;padding:0;background:#fff;}.xans-product-additional #prdDetail{margin:0 auto;text-align:center;}.xans-product-additional #prdDetail .button{text-align:center;padding:12px 0;}.xans-product-additional #prdDetail .ico{position:relative;top:2px;display:inline-block;width:13px;height:13px;background-image:url("//img.echosting.cafe24.com/skin/mobile_ko_KR/product/ico_expand.png");background-size:13px 13px;}.xans-product-additional #prdDetail img{margin:0px;max-width:100%;height:auto!important;}.xans-product-additional #prdDetail div *{max-width:100%;line-height:1.2;}.xans-product-additional .btnMore{position:relative;margin:0 auto;width:100%;}.xans-product-additional .btnMore a{display:block;padding:12px 0;border-top:1px solid #e6e6e6;border-bottom:1px solid #e6e6e6;color:#757575;text-align:center;font-weight:bold;background:#fff;}.xans-product-additional .btnMore span.icoMore{display:inline-block;margin:0 0 0 8px;width:12px;height:7px;font-size:0;line-height:0;vertical-align:middle;background:url("//img.echosting.cafe24.com/skin/mobile_ko_KR/product/ico_toggle_arow_down.png") no-repeat 50% 50%;background-size:12px 7px;}.xans-product-additional .detail_zoom{padding:10px 0px 10px;margin:20px 2px 0px;border:1px solid #d5d5d5;border-radius:1px;}.xans-product-additional .detail_zoom img{margin:0px;width:100%;}.animate{-webkit-animation-duration:4s;-moz-animation-duration:4s;-o-animation-duration:4s;animation-duration:4s;-webkit-animation-fill-mode:both;-moz-animation-fill-mode:both;-o-animation-fill-mode:both;animation-fill-mode:both;}@-webkit-keyframes pop{10%{-webkit-transform-origin:50% 50%;-webkit-transform: rotate(5deg);}25%{-webkit-transform-origin:50% 50%;-webkit-transform: scale(1.87,1.87) translateY(50px);}90%{-webkit-transform-origin:50% 50%;-webkit-transform: scale(1.87,1.87) translateY(-30px);}100%{-webkit-transform-origin:50% 50%;-webkit-transform: scale(1,1);}}@-moz-keyframes pop{10%{-webkit-transform-origin:50% 50%;-webkit-transform: rotate(5deg);}25%{-webkit-transform-origin:50% 50%;-webkit-transform: scale(1.87,1.87) translateY(50px);}90%{-webkit-transform-origin:50% 50%;-webkit-transform: scale(1.87,1.87) translateY(-30px);}100%{-webkit-transform-origin:50% 50%;-webkit-transform: scale(1,1);}}@-o-keyframes pop{10%{-webkit-transform-origin:50% 50%;-webkit-transform: rotate(5deg);}25%{-webkit-transform-origin:50% 50%;-webkit-transform: scale(1.87,1.87) translateY(50px);}90%{-webkit-transform-origin:50% 50%;-webkit-transform: scale(1.87,1.87) translateY(-30px);}100%{-webkit-transform-origin:50% 50%;-webkit-transform: scale(1,1);}}@keyframes pop{10%{-webkit-transform-origin:50% 50%;-webkit-transform: rotate(5deg);}25%{-webkit-transform-origin:50% 50%;-webkit-transform: scale(1.87,1.87) translateY(50px);}90%{-webkit-transform-origin:50% 50%;-webkit-transform: scale(1.87,1.87) translateY(-30px);}100%{-webkit-transform-origin:50% 50%;-webkit-transform: scale(1,1);}}.pop{-webkit-transform-origin: top center;-moz-transform-origin: top center;-o-transform-origin: top center;transform-origin: top center;-webkit-animation-name: pop;-moz-animation-name: pop;-o-animation-name: pop;animation-name: pop;}#prdInfo{display:none;}.xans-product-detaildesign{display:none;padding:14px 7px 7px;background:#fff;}.xans-product-detaildesign > .ec-base-table input#quantity,.xans-product-detaildesign > .ec-base-table img.QuantityUp,.xans-product-detaildesign > .ec-base-table img.QuantityDown{display:none;}.xans-product-detaildesign > .ec-base-table img#qrcode{width:70px;margin-right:-20px;margin-top:15px;}.xans-product-detaildesign > .ec-base-table .discount{display:block;font-size:11px;color:#1c1c1c;}.xans-product-detaildesign > .ec-base-table .period{display:block;}.xans-product-detaildesign > .ec-base-table #delivery_cost_prepaid{display:block;}.xans-product-detaildesign > .ec-base-table #btn_email_restock img{width:auto;height:26px;}#prdInfo .faq{margin:20px;padding:20px;border:1px solid #e6e6e6;background:#fefefe;-webkit-box-shadow:0.1px 0.1px 0.2px 0.1px rgba(234,234,234,234);box-shadow:0.1px 0.1px 0.2px 0.2px rgba(234,234,234,234);border-radius:5px;-moz-border-radius:5px;-webkit-border-radius:5px;}#prdInfo .faq .title{margin:0 0 10px;font-size:12px;color:#222;}#prdInfo .faq .title .icon{margin:0 5px 0 0px;}#prdInfo .contents{margin:0 0 25px;font-size:11px;color:#8b8b8b;}#prdReview{display:none;}#prdReview h3{display:none;}#prdReview .board > .ec-base-button{padding:14px 17px;margin:0 0 0 -4px;}#prdReview .nodata{padding:14px 0;text-align:center;}.xans-product-review .writeNotiArea{padding:0 14px;background:#fff;}.xans-product-review .writeNotiArea:after{content:"";display:block;clear:both;}.xans-product-review .writeNotiArea p{float:left;margin:7px 0;}.xans-product-review .writeNotiArea div.gRight{float:right;margin:7px 0 0;}.xans-product-review .noAccess{margin:14px 0;font-size:14px;text-align:center;}.xans-product-review .minor{padding:108px 0 28px;text-align:center;background:url("//img.echosting.cafe24.com/skin/mobile_ko_KR/intro/bg_adult.png") center 14px no-repeat;background-size:80px 80px;border-top:1px solid #d5d5d5;border-bottom:1px solid #d5d5d5;}.xans-product-review .minor p{font-size:13px;margin:0 0 14px;}.xans-product-review .boardSort{padding:7px 14px;font-size:13px;background:#f1f1f1;}.xans-product-review .boardSort:after{content:"";display:block;clear:both;}.xans-product-review .boardSort span{float:left;margin:0 14px 0 0;}.xans-product-review{margin:-1px 0 0;font-size:11px;background:#fff;}.xans-product-review > ul > li{overflow:hidden;position:relative;padding:14px 0;min-height:43px;color:#757575;border-bottom:1px solid #d5d5d5;}.xans-product-review > ul > li:first-child{border-top:1px solid #d5d5d5;}.xans-product-review .descriptions{position:relative;margin:0 0 0 7px;padding:0 7px;}.xans-product-review .descriptions a{display:block;color:#757575;font-size:0;}.xans-product-review .descriptions a .summary{display:block;padding:0 15px 10px 0;color:#1b1b1b;font-size:11px;line-height:1.3em;font-weight:normal;}.xans-product-review .descriptions a .id{padding:0 7px 0 0;}.xans-product-review .descriptions a span{position:relative;display:inline-block;padding:0 7px 0 8px;font-size:11px;}.xans-product-review .contentView{margin:0;padding:0;min-height:0;background:#f9f9f9;color:#757575;font-size:11px;text-align:left;word-wrap:break-word;}.xans-product-review .contentView .view{margin:0;padding:14px;}.xans-product-review .contentView .view.secret{padding:14px 28px;}.xans-product-review .contentView .view.secret .alert{display:block;margin:0 0 14px;padding:0 0 0 31px;color:#353535;font-size:13px;line-height:1.2em;background:url("//img.echosting.cafe24.com/skin/mobile_ko_KR/board/ico_secret.png") 4px 4px no-repeat;background-size:17px 20px;}.xans-product-review .contentView .view.secret p{position:relative;padding:0 46px 0 0;}.xans-product-review .contentView .view.secret p input[type="password"]{width:100%;}.xans-product-review .contentView .view.secret p input[type="button"]{position:absolute;top:0;right:0;}.xans-product-review .contentView .attach{max-width:100%;text-align:center;}.xans-product-review .contentView .attach img{max-width:100%;margin:0 0 14px;border:1px solid #dedede;}.xans-product-review .contentView p{color:#1b1b1b;}.xans-product-review .contentView .ec-base-button{margin:0;padding:0 14px 14px;}.xans-product-review .contentView .ec-base-button a em{color:#333;}.xans-product-review .contentView .ec-base-button .ico.write{position:relative;top:2px;display:inline-block;width:13px;height:13px;background-image:url("//img.echosting.cafe24.com/skin/mobile_ko_KR/board/ico_comment.png");background-size:13px 13px;}.xans-product-review .contentView .boardComment li{padding:0 0 0 14px;border-top:1px solid #d5d5d5;background:#f1f1f1;}.xans-product-review .contentView .boardComment li .ec-base-button .gLeft{margin-left:-4px;}.xans-product-review .contentView .boardComment li .ec-base-button .gLeft a,.xans-product-review .contentView .boardComment li .ec-base-button .gLeft button{margin-left:4px;}.xans-product-review .contentView .boardComment li .commentInfo{padding:14px 14px 0;font-size:12px;color:#757575;background:url("//img.echosting.cafe24.com/skin/mobile_ko_KR/product/ico_bullet.png") 0 16px no-repeat;background-size:8px 8px;}.xans-product-review .contentView .boardComment li .commentInfo .name{padding:0 8px 0 0;font-weight:normal;}.xans-product-review .contentView .boardComment li .commentInfo span{position:relative;padding:0 8px;}.xans-product-review .contentView .boardComment li .commentInfo span:before{position:absolute;top:1px;left:0;display:inline-block;content:"";width:1px;height:11px;background:#ccc;}.xans-product-review .contentView .boardComment li .commentInfo .grade img{width:50px;height:8px;}.xans-product-review .contentView .boardComment p.comment{padding:14px;color:#1b1b1b;}.xans-product-review .contentView .boardComment .replyArea{padding:0 0 0 28px;border-top:0;background:#f1f1f1;background-size:8px 8px;}.xans-product-review .contentView .boardComment .replyArea .commentInfo{border-top:1px solid #d5d5d5;}.xans-product-review .contentView .memoCont{padding:7px 0 0;border-top:1px solid #d5d5d5;}.xans-product-review .contentView .memoCont .label{padding:0 7px 0 0;color:#757575;font-weight:normal;vertical-align:middle;letter-spacing:-1px;}.xans-product-review .contentView .memoCont .label.hide{display:none;}.xans-product-review .contentView .memoCont .info{padding:0 14px;}.xans-product-review .contentView .memoCont .info:after{content:"";display:block;clear:both;}.xans-product-review .contentView .memoCont .info p{position:relative;box-sizing:border-box;width:50%;}.xans-product-review .contentView .memoCont .info p .label{position:absolute;left:0;padding:0;text-align:center;font-size:12px;line-height:29px;letter-spacing:0;}.xans-product-review .contentView .memoCont .info p.name{float:left;padding:0 0 0 45px }.xans-product-review .contentView .memoCont .info p.name .label{width:45px;}.xans-product-review .contentView .memoCont .info p.password{float:right;padding:0 0 0 65px }.xans-product-review .contentView .memoCont .info p.password .label{width:65px;}.xans-product-review .contentView .memoCont .info p.name input[type="text"],.xans-product-review .contentView .memoCont .info p.password input[type="password"]{width:100%;margin:0;}.xans-product-review .contentView .memoCont .info p.password .label{margin:0;}.xans-product-review .contentView .memoCont .ec-base-help{margin:8px 0 0 24px;}.xans-product-review .contentView .memoCont .admin{margin:10px 0 0;}.xans-product-review .contentView .memoCont .admin a{display:block;text-align:center;}.xans-product-review .contentView .memoCont .comment{margin:14px 14px 0;}.xans-product-review .contentView .memoCont .comment textarea#comment{width:100%;height:50px;margin:0 0 7px 0;-webkit-box-sizing:border-box;-o-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;box-sizing:border-box;}.xans-product-review .contentView .memoCont .byteRating{margin:5px 0 0;}.xans-product-review .contentView .memoCont .byteRating:after{content:"";display:block;clear:both;}.xans-product-review .contentView .memoCont .rating{float:left;padding:7px 14px;box-sizing:border-box;}.xans-product-review .contentView .memoCont .rating .label{display:inline-block;width:45px;padding:0;line-height:29px;text-align:center;font-size:12px;letter-spacing:0;}.xans-product-review .contentView .memoCont .byte{float:right;text-align:right;}.xans-product-review .contentView .memoCont .submit{text-align:right;padding:0 14px 7px;}.xans-product-review .contentView .memoCont .captcha{overflow:hidden;margin:0 14px;padding:10px 0 10px 114px;border-top:1px solid #ededed;}.xans-product-review .contentView .memoCont .captcha .form{float:left;position:relative;}.xans-product-review .contentView .memoCont .captcha img{position:absolute;left:-30px;margin-right:-30px;}.xans-product-review .contentView .memoCont .captcha img:first-child{left:-114px;margin-right:-114px;}.xans-product-review .contentView .memoCont .captcha .form{width:100%;}.xans-product-review .contentView .memoCont .captcha .form p{margin:14px 0 0;padding:0 0 0 20px;font-size:11px;background:url("//img.echosting.cafe24.com/skin/mobile_ko_KR/board/ico_important.png") no-repeat 0 50%;background-size:13px 13px;}.xans-product-review .contentView .memoCont .mButton{margin:10px 0 0;}.xans-product-review .contentView .memoCont #captcha{margin:2px 0 0 0;width:100%;}.xans-product-review .contentView .memoCont .boardCommentAuthority{padding:14px;text-align:center;background:#fff;}#prdQnA{display:none;}#prdQnA h3{display:none;}#prdQnA .board > .ec-base-button{padding:14px 17px;margin:0 0 0 -4px;}#prdQnA .nodata{padding:14px 0;text-align:center;}.xans-product-qna .writeNotiArea{padding:0 14px;background:#fff;}.xans-product-qna .writeNotiArea:after{content:"";display:block;clear:both;}.xans-product-qna .writeNotiArea p{float:left;margin:7px 0;}.xans-product-qna .writeNotiArea div.gRight{float:right;margin:7px 0 0;}.xans-product-qna .noAccess{margin:14px 0;text-align:center;}.xans-product-qna .minor{padding:108px 0 28px;text-align:center;background:url("//img.echosting.cafe24.com/skin/mobile_ko_KR/intro/bg_adult.png") center 14px no-repeat;background-size:80px 80px;border-top:1px solid #d5d5d5;border-bottom:1px solid #d5d5d5;}.xans-product-qna .minor p{font-size:13px;margin:0 0 14px;}.xans-product-qna .boardSort{padding:7px 14px;font-size:13px;background:#f1f1f1;}.xans-product-qna .boardSort:after{content:"";display:block;clear:both;}.xans-product-qna .boardSort span{float:left;margin:0 14px 0 0;}.xans-product-qna{margin:-1px 0 0;font-size:11px;background:#fff;}.xans-product-qna > ul > li{overflow:hidden;position:relative;padding:14px 0;min-height:43px;color:#757575;border-bottom:1px solid #d5d5d5;}.xans-product-qna > ul > li:first-child{border-top:1px solid #d5d5d5;}.xans-product-qna .descriptions{position:relative;margin:0 0 0 7px;padding:0 7px;}.xans-product-qna .descriptions a{display:block;color:#757575;font-size:0;}.xans-product-qna .descriptions a .summary{display:block;padding:0 15px 10px 0;color:#1b1b1b;font-size:11px;line-height:1.3em;font-weight:normal;}.xans-product-qna .descriptions a .id{padding:0 7px 0 0;}.xans-product-qna .descriptions a span{position:relative;display:inline-block;padding:0 7px 0 8px;font-size:11px;}.xans-product-qna .contentView{margin:0;padding:0;min-height:0;background:#f9f9f9;color:#757575;font-size:11px;text-align:left;word-wrap:break-word;}.xans-product-qna .contentView .view{margin:0;padding:14px;}.xans-product-qna .contentView .view.secret{padding:14px 28px;}.xans-product-qna .contentView .view.secret .alert{display:block;margin:0 0 14px;padding:0 0 0 31px;color:#353535;font-size:13px;line-height:1.2em;background:url("//img.echosting.cafe24.com/skin/mobile_ko_KR/board/ico_secret.png") 4px 4px no-repeat;background-size:17px 20px;}.xans-product-qna .contentView .view.secret p{position:relative;padding:0 51px 0 0;}.xans-product-qna .contentView .view.secret p input[type="password"]{width:100%;}.xans-product-qna .contentView .view.secret p input[type="button"]{position:absolute;top:0;right:0;}.xans-product-qna .contentView .attach{max-width:100%;text-align:center;}.xans-product-qna .contentView .attach img{max-width:100%;margin:0 0 14px;border:1px solid #dedede;}.xans-product-qna .contentView p{color:#1b1b1b;}.xans-product-qna .contentView .ec-base-button{margin:0;padding:0 14px 14px;}.xans-product-qna .contentView .ec-base-button a em{color:#333;}.xans-product-qna .contentView .ec-base-button .ico.write{position:relative;top:2px;display:inline-block;width:13px;height:13px;background-image:url("//img.echosting.cafe24.com/skin/mobile_ko_KR/board/ico_comment.png");background-size:13px 13px;}.xans-product-qna .contentView .boardComment li{padding:0 0 0 14px;border-top:1px solid #d5d5d5;background:#f1f1f1;}.xans-product-qna .contentView .boardComment li .ec-base-button .gLeft{margin-left:-4px;}.xans-product-qna .contentView .boardComment li .ec-base-button .gLeft a,.xans-product-qna .contentView .boardComment li .ec-base-button .gLeft button{margin-left:4px;}.xans-product-qna .contentView .boardComment li .commentInfo{padding:14px 14px 0;font-size:12px;color:#757575;background:url("//img.echosting.cafe24.com/skin/mobile_ko_KR/product/ico_bullet.png") 0 16px no-repeat;background-size:8px 8px;}.xans-product-qna .contentView .boardComment li .commentInfo .name{padding:0 8px 0 0;font-weight:normal;}.xans-product-qna .contentView .boardComment li .commentInfo span{position:relative;padding:0 8px;}.xans-product-qna .contentView .boardComment li .commentInfo span:before{position:absolute;top:1px;left:0;display:inline-block;content:"";width:1px;height:11px;background:#ccc;}.xans-product-qna .contentView .boardComment li span img{width:50px;height:10px;vertical-align:baseline;}.xans-product-qna .contentView .boardComment p.comment{padding:14px;color:#1b1b1b;}.xans-product-qna .contentView .boardComment .replyArea{padding:0 0 0 28px;border-top:0;background:#f1f1f1;background-size:8px 8px;}.xans-product-qna .contentView .boardComment .replyArea .commentInfo{border-top:1px solid #d5d5d5;}.xans-product-qna .contentView .memoCont{padding:7px 0 0;border-top:1px solid #d5d5d5;}.xans-product-qna .contentView .memoCont .label{padding:0 7px 0 0;color:#757575;font-weight:normal;vertical-align:middle;letter-spacing:-1px;}.xans-product-qna .contentView .memoCont .label.hide{display:none;}.xans-product-qna .contentView .memoCont .info{padding:0 14px;}.xans-product-qna .contentView .memoCont .info:after{content:"";display:block;clear:both;}.xans-product-qna .contentView .memoCont .info p{position:relative;box-sizing:border-box;width:50%;}.xans-product-qna .contentView .memoCont .info p .label{position:absolute;left:0;padding:0;text-align:center;font-size:12px;line-height:29px;letter-spacing:0;}.xans-product-qna .contentView .memoCont .info p.name{float:left;padding:0 0 0 45px }.xans-product-qna .contentView .memoCont .info p.name .label{width:45px;}.xans-product-qna .contentView .memoCont .info p.password{float:right;padding:0 0 0 65px }.xans-product-qna .contentView .memoCont .info p.password .label{width:65px;}.xans-product-qna .contentView .memoCont .info p.name input[type="text"],.xans-product-qna .contentView .memoCont .info p.password input[type="password"]{width:100%;margin:0;}.xans-product-qna .contentView .memoCont .info p.password .label{margin:0;}.xans-product-qna .contentView .memoCont .ec-base-help{margin:8px 0 0 24px;}.xans-product-qna .contentView .memoCont .admin a{display:block;text-align:center;}.xans-product-qna .contentView .memoCont .comment{margin:14px 14px 0;}.xans-product-qna .contentView .memoCont .comment textarea#comment{width:100%;height:50px;margin:0 0 7px 0;-webkit-box-sizing:border-box;-o-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;box-sizing:border-box;}.xans-product-qna .contentView .memoCont .byteRating{margin:5px 0 0;border-bottom:1px solid #ededed;}.xans-product-qna .contentView .memoCont .byteRating:after{content:"";display:block;clear:both;}.xans-product-qna .contentView .memoCont .rating{float:left;padding:7px 14px;box-sizing:border-box;}.xans-product-qna .contentView .memoCont .rating .label{display:inline-block;width:45px;padding:0;line-height:29px;text-align:center;font-size:12px;letter-spacing:0;}.xans-product-qna .contentView .memoCont .byte{float:right;text-align:right;}.xans-product-qna .contentView .memoCont .submit{text-align:right;padding:0 14px 7px;}.xans-product-qna .contentView .memoCont .captcha{overflow:hidden;margin:0 14px;padding:10px 0 10px 114px;border-top:1px solid #ededed;}.xans-product-qna .contentView .memoCont .captcha .form{float:left;position:relative;}.xans-product-qna .contentView .memoCont .captcha img{position:absolute;left:-30px;margin-right:-30px;}.xans-product-qna .contentView .memoCont .captcha img:first-child{left:-114px;margin-right:-114px;}.xans-product-qna .contentView .memoCont .captcha .form{width:100%;}.xans-product-qna .contentView .memoCont .captcha .form p{margin:14px 0 0;padding:0 0 0 20px;font-size:11px;background:url("//img.echosting.cafe24.com/skin/mobile_ko_KR/board/ico_important.png") no-repeat 0 50%;background-size:13px 13px;}.xans-product-qna .contentView .memoCont .mButton{margin:10px 0 0;}.xans-product-qna .contentView .memoCont #captcha{margin:2px 0 0 0;width:100%;}.xans-product-qna .contentView .memoCont .boardCommentAuthority{padding:14px;text-align:center;background:#fff;}.xans-product-relation{margin:60px 0 0px;background:#fff;}.xans-product-relation ul{max-height:330px;overflow-y:auto;overflow-x:hidden;}.xans-product-relation:first-child h2{border-top:0;}.xans-product-relation .relation_title{width:100%;margin:0 auto 30px;padding:0px 0 0px;line-height:22px;text-align:center;color:#333;font-size:15px;font-family: 'Lato',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;letter-spacing:1px;}.xans-product-relation .relation_title span{color:#888;font-size:11px;font-family: 'Lato',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;}.xans-product-relation .xans-product-relationlist.typeCheckRelation{margin:0 7px;border:1px solid #d5d5d5;}.xans-product-relation .xans-product-relationlist.typeCheckRelation li{padding:7px 14px 0;margin:0;border-top:1px solid #d5d5d5;background-color:#fff;}.xans-product-relation .xans-product-relationlist.typeCheckRelation li:first-child{border-top:0;}.xans-product-relation .xans-product-relationlist.typeCheckRelation .infoBox{min-height:80px;padding:7px 0 0 0;}.xans-product-relation .xans-product-relationlist.typeCheckRelation .infoBox:after{content:"";display:block;clear:both;}.xans-product-relation .xans-product-relationlist.typeCheckRelation .infoBox .thumbnail{float:left;width:71px;}.xans-product-relation .xans-product-relationlist.typeCheckRelation .infoBox .thumbnail img{max-width:100%;border:1px solid #d5d5d5;}.xans-product-relation .xans-product-relationlist.typeCheckRelation .infoBox .info{padding:0 0 0 90px;}.xans-product-relation .xans-product-relationlist.typeCheckRelation .infoBox .info .prdName a{display:block;margin:0 0 14px;font-weight:bold;}.xans-product-relation .xans-product-relationlist.typeCheckRelation .infoBox .info .price{margin:0 0 10px;color:#000;font-family:Tahoma;font-size:13px;line-height:1.25em;font-weight:bold;}.xans-product-relation .xans-product-relationlist.typeCheckRelation .infoBox .info .strike{text-decoration:line-through;}.xans-product-relation .xans-product-relationlist.typeCheckRelation .prdOption table tbody th,.xans-product-relation .xans-product-relationlist.typeCheckRelation .prdOption table tbody td{padding:7px 0;border-top:1px solid #ececec;text-align:left;}.xans-product-relation .xans-product-relationlist.typeCheckRelation .prdOption table tbody tr:first-child th,.xans-product-relation .xans-product-relationlist.typeCheckRelation .prdOption table tbody tr:first-child td{border-top:0;}.xans-product-relation .xans-product-relationlist.typeCheckRelation .prdOption table tbody th{font-weight:normal;color:#757575;}.xans-product-relation .xans-product-relationlist.typeCheckRelation .prdOption table .quantity td .RelationQuantity{width:49px;}.xans-product-relation .xans-product-relationlist.typeCheckRelation .prdOption table tbody td select,.xans-product-relation .xans-product-relationlist.typeCheckRelation .prdOption table tbody td input{width:100%;}.xans-product-relation .btnArea.type1 button{margin:0 0 7px;height:32px;line-height:32px;font-size:12px;}.xans-product-relation .btnArea{margin:20px auto 10px;text-align:center;}html,body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,textarea,button,p,blockquote,th,td{margin:0;padding:0;-webkit-tap-highlight-color: rgba(0,0,0,0);}html{width:100%;height:100%;}body,code{min-width:320px;font-size:13px;line-height:1.2em;color:#1b1b1b;background:#fff;-webkit-text-size-adjust:none;}code{background:none;display:block;}ul li{list-style:none;}ol{list-style-position:inside;}img,fieldset{ border:none;}img{vertical-align:middle;}hr.layout{display:none;}em,address{font-style:normal;}ins{text-decoration:none;}a{text-decoration:none;color:#000;}a:active{text-decoration:none;}table{width:100%;table-layout:fixed;border:0 none;border-spacing:0;border-collapse:collapse;}table caption{display:none;}th,td{border:0;line-height:18px;}legend{height:0;width:0;display:block;text-indent:-9999em;}label{cursor:pointer;}button::-moz-focus-inner{padding:0;border:0;}object,del,sub,var{margin:0;padding:0;}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block;}#capp-shop-new-product-optionselect-layer{height:550px!important;}.ec-base-product .description .price{color:#777 !important;}.likeButton,.wish{display: none !important;}.period{display: none !important;}.ec-base-product .description .name a {display:flex !important;font-size:16px !important;font-weight:bold !important;line-height:22px !important;margin-bottom:13px !important;}.ec-base-product .prdList .description .name {text-align:center !important;}.ec-base-product .spec li {text-align:center !important;line-height:24px;}.ec-base-product .description .icon img {display: none !important;}.ec-base-product .description .simple{line-height:23px !important;font-size:14px !important;}.ec-base-product .description .price{line-height:17px !important;font-size:14px !important;}.ec-base-product .description .name a {justify-content:center;}#span_product_price_mobile_d_line{display: none;}#header{position:relative;margin:35px 0 0px;text-align:center;vertical-align:top;z-index:300;}#header .header{position:relative;width:100%;height:115px;z-index:49;vertical-align:top;transition:background-color 0.1s ease;}.top_fixed{position:absolute;top:31px;margin:0 auto;padding:0px;width:100%;height:84px;text-align:center;background-color:rgba( 255,255,255,0.9 );}.fixed_top{position:fixed;top:35px;width:100%;}#header .category{position:absolute;left:0%;top:25px;width:10%;height:30px;vertical-align:middle;}#header .category a{display:inline-block;overflow:hidden;width:100%;height:100%;text-indent:100%;white-space:nowrap;background:url("/web/upload/m_market103/layout/btn_category.png") no-repeat 0px -5px;background-size:47px 43px;}#header .search{position:absolute;right:0%;top:31.5px;width:30px;height:30px;vertical-align:middle;}#header .search button{display:inline-block;overflow:hidden;width:100%;height:100%;padding:0;text-indent:100%;text-align:left;white-space:nowrap;cursor:pointer;border:0;background:url("/web/upload/m_market103/layout/fixed_menu_search.png") no-repeat 0 0;background-size:18px 18px;}#f_cs{margin:0 0 55px;}#contents{position:relative;margin:20px 0 0px;background-color:#fff;}#mobileQuickLink{z-index:301 !important;}#mobileBtnQuickLink{z-index:100 !important;}.dimmed{display:none;position:fixed;left:0px;top:0;right:0px;bottom:0px;z-index:150;background:rgba(0,0,0,0.7);}#dimmedSlider{display:none;position:fixed;left:0px;top:0;right:0px;bottom:0px;z-index:500;background:rgba(0,0,0,0.7);}#titleArea{position:relative;background-color:#fff;font-family: 'Lato',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;}#titleArea h2{padding:10px 0px 10px;line-height:43px;font-size:15px;color:#2e2e2e;text-align:center;}#titleArea span{visibility:hidden;position:absolute;top:6px;left:14px;}.myshopMain{padding:14px 7px;font-size:13px;}.paginate.typeSwipe .prev,.paginate.typeSwipe .next{display:none;}.txtWarn{color:#f45b55;}.txtEm{color:#333;}.gBlank5{display:block;margin-top:5px;}.gBlank7{display:block;margin-top:7px;}.gBlank10{display:block;margin-top:10px;}.gBlank20{display:block;margin-top:20px;}.gBlank30{display:block;margin-top:30px;}.gIndent10{margin-left:10px;}.gIndent20{margin-left:20px;}.gSpace10{margin-right:10px;}.gSpace20{margin-right:20px;}.gBreak5{display:block;margin-bottom:5px;}.gBreak7{display:block;margin-bottom:7px;}.gMerge{position:relative;z-index:1;margin-top:-1px;}.ec-base-qty [type="text"]{width:49px;}.ec-base-qty [type="tel"]{width:49px;text-align:right;}.ec-base-qty button{margin:0;padding:0;border:0;vertical-align:top;background:transparent;}.ec-base-field{display:-webkit-flex;display:-ms-flex;display:flex;}.ec-base-field input[type="text"]{-webkit-flex:1;-ms-flex:1;flex:1;}.ec-base-field input ~ [class*='btn']{margin-left:5px;}input,textarea,select{max-width:100%;font-size:13px;font-family: 'Lato',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;color:#333;vertical-align:middle;outline:0;border-radius:0;}input[type=text],input[type=password],input[type=number],input[type=tel],textarea{padding:10px;font-size:13px;line-height:13px;font-weight:inherit;color:#353535;border:1px solid #d7d5d5;border-radius:2px;outline-style:none;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;}input[type=text],input[type=password],input[type=number],input[type=tel]{height:29px;}input[type="file"]{overflow:hidden;max-width:100%;}input[type="button"],input[type="text"],input[type="password"],input[type="tel"],input[type="image"],textarea{-webkit-appearance:none;}select{max-width:100%;height:29px;margin:0;padding:0 20px 0 8px;line-height:29px;font-size:13px;color:#333;word-break:break-all;font-weight:inherit;border:1px solid #d7d5d5;border-radius:0;background:#fff url("/web/upload/m_market103/layout/ico_select.gif") no-repeat 100% 49%;background-size:auto 40px;-webkit-appearance:none;}select.disabled,select:disabled,textarea.disabled,textarea:disabled{color:#bcbcbc;}textarea{resize:none;line-height:1.2em;}textarea.disabled{background-color:#ffffff;color:#bfbfbf;}input[type="checkbox"]{width:18px;height:18px;border:0;background:url("/web/upload/m_market103/layout/bg_checkbox.png") no-repeat 0 0;background-size:18px 18px;-webkit-appearance:none;}input[type="radio"]{width:18px;height:18px;border:0;border-radius:50%;background:url("/web/upload/m_market103/layout/bg_radio.png") no-repeat 0 0;background-size:18px 18px;-webkit-appearance:none;}input[type="checkbox"]:checked{background-image:url("/web/upload/m_market103/layout/bg_checkbox_checked.png");-webkit-appearance:none;}input[type="radio"]:checked{background-image:url("/web/upload/m_market103/layout/bg_radio_checked.png");-webkit-appearance:none;}label{display:inline-block;margin:0 7px 0 0;min-height:20px;line-height:20px;font-size:13px;vertical-align:middle;cursor:pointer;}input[type=radio] + label,input[type=checkbox] + label{margin:0 7px 0 4px;}label input[type=radio],label input[type=checkbox]{margin:0 4px 0 0;}label:last-child,input[type=radio] + label:last-child,input[type=checkbox] + label:last-child{margin-right:0;}.ec-base-label{display:inline-block;margin:0 7px 0 0;}.ec-base-label input[type=radio] + label,.ec-base-label input[type=checkbox] + label{margin-right:0;}.fList.typeHor .gLabel{margin-right:20px;}.fList.typeVer .gLabel{display:block;}.ec-base-paginate{text-align:center;font-family: 'Lato',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;}.ec-base-paginate.typeList{padding:14px 0;font-size:0;line-height:0;}.ec-base-paginate.typeList ol{margin:0 14px;}.ec-base-paginate.typeList ol,.ec-base-paginate.typeList ol li{display:inline-block;vertical-align:middle;}.ec-base-paginate.typeList ol li:not(:first-child){margin:0 0 0 7px;}.ec-base-paginate.typeList ol li a{display:inline-block;width:31px;height:27px;border-bottom:1px solid #fff;font-size:15px;line-height:27px;color:#1b1b1b;vertical-align:middle;background:none;}.ec-base-paginate.typeList ol li .this{border-color:#333;color:#333;border-bottom:1px solid #333;}.ec-base-paginate.typeList [class*='btn']{display:inline-block;overflow:hidden;width:31px;height:27px;font-size:1px;line-height:0;text-indent:-150%;vertical-align:middle;background:none;background-repeat:no-repeat;background-position:50% 50%;background-size:7px auto;}.ec-base-paginate.typeList .btnPrev{background-image:url("/web/upload/m_market103/layout/btn_prev.png");}.ec-base-paginate.typeList .btnNext{background-image:url("/web/upload/m_market103/layout/btn_next.png");}.ec-base-paginate.typeMoreview{margin:0 auto;}.ec-base-paginate.typeMoreview .btnMore{display:block;width:60%;margin:30px auto 30px;padding:12px 0;border:1px solid #e6e6e6;border-bottom:1px solid #d5d5d5;color:#757575;font-size:11px;font-weight:normal;background:#fff;}.ec-base-paginate.typeSwipe{font-size:0;line-height:0;}.ec-base-paginate.typeSwipe button.circle{overflow:hidden;margin:0 3px 0 4px;width:13px;height:13px;border:0;border-radius:13px;cursor:pointer;background-color:#bbb;}.ec-base-paginate.typeSwipe button.circle.selected{background-color:#222;}.ec-base-paginate.typeSwipe span{overflow:hidden;font-size:1px;line-height:0;color:transparent;text-indent:-150%;}.ec-base-paginate.typeSwipe button.prev,.ec-base-paginate.typeSwipe button.next{width:31px;font-size:15px;line-height:1.2em;border:0;cursor:pointer;background:url("/web/upload/m_market103/layout/btn_prev.png") no-repeat 50% 50%;background-size:7px auto;}.ec-base-paginate.typeSwipe button.next{background:url("/web/upload/m_market103/layout/btn_next.png") no-repeat 50% 50%;background-size:7px auto;}.ec-base-paginate.typeSwipe .prev,.ec-base-paginate.typeSwipe .next{display:none;}.ec-base-paginate.typeZoom .btnPrev,.ec-base-paginate.typeZoom .btnNext{overflow:hidden;width:31px;height:27px;border:1px solid #d9d9d9;border-radius:2px;font-size:1px;line-height:0;color:transparent;text-indent:-150%;background:url("/web/upload/m_market103/layout/btn_prev.png") no-repeat 50% 50%;background-size:7px auto;}.ec-base-paginate.typeZoom .btnNext{background:url("/web/upload/m_market103/layout/btn_next.png") no-repeat 50% 50%;background-size:7px auto;}.paginate.typeTotal{color:#696969;}.paginate.typeTotal > span{margin:0 8px;font-weight:bold;}.paginate.typeTotal p{display:inline-block;vertical-align:middle;}.paginate.typeTotal .icoPrev,.paginate.typeTotal .icoNext{width:7px;height:13px;font-size:15px;line-height:1.2em;background:url("/web/upload/m_market103/layout/btn_prev.png") no-repeat 50% 50%;background-size:7px auto;}.paginate.typeTotal .icoNext{background:url("/web/upload/m_market103/layout/btn_next.png") no-repeat 50% 50%;background-size:7px auto;}.paginate.typeTotal p span{overflow:hidden;display:block;width:29px;text-indent:-999px;}.paginate.typeTotal strong{color:#333;}.ec-base-help{margin:8px 4px;font-size:12px;color:#757575;font-family: 'Lato',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;}p.ec-base-help,div.ec-base-help,ul.ec-base-help li,ol.ec-base-help li{padding:0 0 2px 18px;line-height:1.5;text-align:left;background:url("//img.echosting.cafe24.com/skin/mobile/common/ico_help.png") no-repeat 0 2px;background-size:14px auto;}ol{list-style:none;}ol.ec-base-help{counter-reset:rank 0;}ol.ec-base-help li{position:relative;padding:0 0 0 13px;background:none;}ol.ec-base-help li:before{counter-increment:rank 1;content:counter(rank)'.';position:absolute;top:0;left:0;}p.ec-base-help.typeDash,ul.ec-base-help.typeDash li{position:relative;padding:0 0 0 10px;background:none;}p.ec-base-help.typeDash:before,ul.ec-base-help.typeDash li:before{content:"";position:absolute;top:9px;left:0;width:5px;height:1px;background:#757575;}.ec-base-product{margin:0 0 30px;padding:0;background-color:#fff;font-family: 'Nanum Square','Lato',Arial,"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;}.ec-base-product .prd_title{width:100%;margin:0 auto 10px;text-align:center;color:#171717;font-size:14px;line-height:43px;letter-spacing:1px;font-family: 'Roboto',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;font-weight:500;text-overflow:ellipsis;white-space:nowrap;}.ec-base-product h2{max-height:43px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:15px;line-height:43px;padding:0 42px 0 14px;background:url("/web/upload/m_market103/layout/bg_title_close.gif") no-repeat right 14px top 50%;background-size:13px 8px;cursor:pointer;}.ec-base-product h3{margin-bottom:14px;}.ec-base-product img{max-width:100%;}.ec-base-product > ul{padding:14px 0 0;}.ec-base-product li{vertical-align:top;}.ec-base-product [class*="grid"]{display:table;table-layout:fixed;width:100%;box-sizing:border-box;padding:0 0px 7px;font-size:0;line-height:0;}.ec-base-product [class*="grid"] > li{display:inline-block;margin:0 0 14px;vertical-align:top;text-align:center;font-size:12px;line-height:1.4;}.ec-base-product .thumbnail{position:relative;margin:0 0 14px;padding:0 5px 0px 5px;}.ec-base-product .thumbnail a{display:block;}.ec-base-product .thumbnail a img{display:block;width:100%;vertical-align:top;}.ec-base-product .thumbnail .prdIcon{position:absolute;top:0;left:5px;width:100%;height:100%;background-repeat:no-repeat;background-size:30% auto;}.ec-base-product .thumbnail .prdIcon_best{position:absolute;top:17px;left:5px;width:100%;height:100%;background-repeat:no-repeat;background-size:30% auto;}.ec-base-product .thumbnail .thumb_icon{position:absolute;bottom:7px;right:15px;z-index:10;}.ec-base-product .thumbnail .thumb_icon span{margin:0 0 0 3px;}.ec-base-product .description{min-height:10px;margin:0 7px;line-height:1.1em;text-align:left;}.ec-base-product .description ul{}.ec-base-product .description ul li{font-size:12px;margin:4px 0 0px;}.ec-base-product .description .name{word-wrap:break-word;}.ec-base-product .description .name a{color:#555;font-size:12px;line-height:16px;}.ec-base-product .description .custom{color:#555;font-size:12px;line-height:10px;}.ec-base-product .description .price{color:#e35454;font-size:12px;line-height:10px;}.ec-base-product .description .simple{color:#555;font-size:12px;line-height:16px;}.ec-base-product .description .summary{color:#555;font-size:12px;line-height:16px;}.ec-base-product .description .prd_info{color:#555;font-size:12px;line-height:14px;}.ec-base-product .description .icon{margin:5px 0 5px;}.ec-base-product .description .icon img{margin:0 4px 4px 0;}.ec-base-product .description .icon .icon_img{margin:0 0 2px;}.ec-base-product .description .prd_show{font-size:12px;margin:0 0 5px;line-height:14px;}.ec-base-product .description .strike,.ec-base-product .description .mPriceStrike{text-decoration:line-through;}.ec-base-product .description li.cart{margin:0 0 7px;}.ec-base-product .description .color{overflow:hidden;margin:0;}.ec-base-product .description .color .chips{float:left;width:13px;height:4px;margin:6px 2px 7px 0;font-size:0;line-height:0;border:1px solid #e3e3e3;}.ec-base-product .description .likeButton button{border:0;background:none;}.ec-base-product .description .likeButton button strong{margin:0 0 0 3px;font-size:11px;line-height:20px;color:#757575;}.ec-base-product .description .likeButton.selected button strong{line-height:20px;color:#2e2e2e;}.ec-base-product .description strong{font-weight:normal;}.ec-base-product .more_view{margin:7px 4px 0;}.ec-base-product .more_view a{display:block;padding:0 0 0 0;background:#d4d4d6;}.ec-base-product .more_view a span{overflow:hidden;display:block;width:100%;height:30px;text-indent:120%;background:url("//img.echosting.cafe24.com/skin/mobile_ko_KR/product/bg_togglebar_show.png") no-repeat 50% 50%;background-size:12px 12px;}.ec-base-product .best{position:relative;width:100%;height:20px;line-height:20px;font-size:11px;letter-spacing:1px;text-align:center;color:#333;border-top:1px solid #e6e6e6;background:none;font-family: 'Roboto',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;}.ec-base-product .thumbnail .likeButton button{width:16px;height:16px;border:0;background:none;}.ec-base-product .thumbnail .likeButton button img{width:16px;height:16px;}.ec-base-product .thumbnail .wish img{width:16px;height:16px;border:0;background:none;}.ec-base-product .thumbnail .cart img{width:16px;height:16px;border:0;background:none;}.sub_cate_btn{position:relative;right:10px;bottom:39px;float:right;}.ec-base-product.typeDesc{margin:0;background:#fff;}.ec-base-product.typeDesc .prdList:after{display:block;content:"";clear:both;}.ec-base-product.typeDesc .prdList > li{margin:0;padding:14px;width:100%;box-sizing:border-box;border-top:1px solid #ececec;}.ec-base-product.typeDesc .prdList > li:first-child{padding:0 14px 14px;border-top:0;}.ec-base-product.typeDesc .prdList > li:after{display:block;content:"";clear:both;}.ec-base-product.typeDesc .thumbnail{float:left;margin:0;padding:0;width:87px;}.ec-base-product.typeDesc .thumbnail .wish{right:4px;}.ec-base-product.typeDesc .description{padding:0 0 0 103px;}.ec-base-product.typeDesc .description .price{color:#494949;font-size:13px;}.ec-base-product.typeDesc .description .price.sale{color:#000;font-size:15px;}.ec-base-product.typeDesc .description .color{margin:0 0 10px;}.ec-base-product.typeDesc .description .summary{font-size:11px;color:#757575;margin:0 0 10px;}.ec-base-product.typeGallery{margin:0;}.ec-base-product.typeGallery ul{display:table;table-layout:fixed;padding:0 14px 0 12px;font-size:0;line-height:0;}.ec-base-product.typeGallery li{position:relative;display:inline-block;margin:0 0 2px;padding:0;vertical-align:top;overflow:hidden;font-size:13px;line-height:1.2em;}.ec-base-product.typeGallery .thumbnail{margin:0 2px;}.ec-base-product.typeGallery .thumbnail .wish{top:3px;bottom:auto;}.ec-base-product.typeGallery .description{position:absolute;left:0;margin:0;padding:0 0 0 2px;width:100%;opacity:0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;}.ec-base-product.typeGallery .description a{overflow:hidden;display:block;padding:5px 38px 5px 5px;width:100%;height:100%;color:#fff;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;background:rgba(0,0,0,0.6);}.ec-base-product.typeGallery .description a .name:after{display:block;content:"";position:absolute;top:0;right:12px;width:20px;height:100%;background:url("//img.echosting.cafe24.com/skin/mobile_ko_KR/layout/ico_arrow_white.png") 0 center no-repeat;background-size:20px 20px;-webkit-transform: rotate(270deg);-moz-transform: rotate(270deg);transform: rotate(270deg);}.ec-base-product.typeGallery .description a .name{display:inline-block;margin:0;width:100%;}.ec-base-product.typeGallery .description a .name,.ec-base-product.typeGallery .description a p{overflow:hidden;line-height:1.5;text-overflow:ellipsis;white-space:nowrap;}.ec-base-product.typeGallery .description a .price{margin:0;font-weight:bold;}.ec-base-product.typeGallery .description a .price span{display:none;}.ec-base-product.typeGallery .description .likeButton{position:absolute;bottom:0;right:5px;background:rgba(255,255,255,0.8);}.ec-base-product .layerDiscountPeriod{display:none;position:absolute;z-index:100;left:0;width:100%;padding:11px 7px;box-sizing:border-box;}.ec-base-product .layerDiscountPeriod .inner{border:1px solid #353535;background:#f1f1f1;border-radius:4px;}.ec-base-product .layerDiscountPeriod .inner .title{display:block;padding:10px 14px;font-size:14px;background-color:#353535;color:#fff;}.ec-base-product .layerDiscountPeriod .inner .timeleft{padding:14px;color:#333;font-size:13px;font-weight:bold;text-align:center;}.ec-base-product .layerDiscountPeriod ul{margin:0 7px 14px;padding:0;border:1px solid #d5d5d5;background:#fff;}.ec-base-product .layerDiscountPeriod ul li{position:relative;padding:14px 13px 14px 100px;border-top:1px solid #ececec;color:#353535;}.ec-base-product .layerDiscountPeriod ul li:first-child{border-top:0;}.ec-base-product .layerDiscountPeriod ul li span{position:absolute;top:14px;left:13px;color:#757575;}.ec-base-product .layerDiscountPeriod .btnClose{position:absolute;top:8px;right:4px;display:block;width:40px;height:40px;text-indent:-9999px;font-size:0;background:url("//img.echosting.cafe24.com/skin/mobile_ko_KR/layout/ico_close_white.png") center center no-repeat;background-size:50% 50%;}.ec-product-bgLT{background-position:left top;}.ec-product-bgLC{background-position:left center;}.ec-product-bgLB{background-position:left bottom;}.ec-product-bgRT{background-position:right top;}.ec-product-bgRC{background-position:right center;}.ec-product-bgRB{background-position:right bottom;}.ec-product-bgCT{background-position:center top;}.ec-product-bgCC{background-position:center center;}.ec-product-bgCB{background-position:center bottom;}.ec-base-product .grid1 > li{width:100%;}.ec-base-product .grid2 > li{width:50%;}.ec-base-product .grid3 > li{width:33.333%;}.ec-base-product .grid4 > li{width:25%;}.ec-base-product .grid5 > li{width:20%;}@media all and (max-width:480px){.ec-base-product .prdList.grid1 > li{width:100%;}.ec-base-product .prdList.grid2 > li{width:50%;}.ec-base-product .prdList.grid3 > li{width:33.333%;}.ec-base-product .prdList.grid4 > li{width:25%;}.ec-base-product .prdList.grid5 > li{width:20%;}.ec-base-product .grid1 li .name{font-size:15px;}.ec-base-product .grid2 li .name,.ec-base-product .grid3 li .name{font-size:13px;}.ec-base-product .grid4 li .name{font-size:11px;}}@media all and (min-width:481px) and (max-width:767px){.ec-base-product .prdList.grid2 > li{width:33.333%;}.ec-base-product .prdList.grid3 > li,.ec-base-product .prdList.grid4 > li,.ec-base-product .prdList.grid5 > li{width:25%;}.ec-base-product [class*="grid"] li .name{font-size:13px;}}@media all and (min-width:768px){.ec-base-product .prdList.grid2 > li{width:25%;}.ec-base-product .prdList.grid3 > li,.ec-base-product .prdList.grid4 > li,.ec-base-product .prdList.grid5 > li{width:20%;}.ec-base-product [class*="grid"] li .name{font-size:15px;}}.btnNormal,.btnStrong,.btnBasic,.btnSubmit,.btnEm{display:inline-block;letter-spacing:0;text-align:center;font-family: 'Lato',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;border-radius:1px;-moz-box-sizing:border-box;box-sizing:border-box;}.btnNormal,.btnStrong,.btnBasic{height:29px;line-height:27px;padding:0 10px;vertical-align:middle;font-size:13px;}.btnNormal{color:#1b1b1b;border:1px solid #cfcfcf;border-bottom-color:#b5b5b5;background:#fff;}.btnStrong{color:#fff;border:1px solid #222;border-bottom-color:#484848;background:#222;}.btnSubmit{height:36px;line-height:36px;padding:0 10px;font-size:13px;color:#fff;border:1px solid #222;background:#222;}.btnEm{height:36px;line-height:34px;padding:0 10px;font-size:13px;border:1px solid #d5d5d5;background:#fff;}.btnBasic{color:#1b1b1b;border:1px solid #bcbcbc;background:#f0f0f0;}[class*="btn"].mini{height:26px;line-height:24px;font-size:11px;}.ec-base-button .soldout{cursor:default;}.btnIcon{max-width:12px;max-height:12px;background-size:100% 100%;}.emailCheck .btnBasic {vertical-align:top;}.ec-base-button{margin:10px auto;text-align:right;}.ec-base-button:after{content:"";display:block;clear:both;}.ec-base-button.typeMulti{margin:0 auto;padding:7px;}.ec-base-button.typeMulti .gTop:after,.ec-base-button.typeMulti .gBottom:after{content:"";display:block;clear:both;}.ec-base-button.typeMulti .gBottom{margin:7px 0 0;padding:7px 0 0;border-top:1px solid #d5d5d5;clear:both;}.ec-base-button.gLeft{text-align:left;}.ec-base-button.gCenter{text-align:center;}.ec-base-button.gRight{text-align:right;}.ec-base-button .gLeft{float:left;text-align:left;}.ec-base-button .gRight{float:right;}.ec-base-button[class*="gColumn"]{display:flex;margin:10px 0 10px -4px;}.ec-base-button[class*="gColumn"]:after{content:none;}.ec-base-button[class*="gColumn"] a,.ec-base-button[class*="gColumn"] button{flex:1;margin:0 0 0 4px;padding:0 3px;white-space:nowrap;}.ec-base-button[class*="gColumn"] .gFlex2{flex:2;}.ec-base-button[class*="gColumn"] .gFlex3{flex:3;}.ec-base-button[class*="gColumn"] .gFlex4{flex:4;}.ec-base-button.gFull{margin-bottom:3px;}.ec-base-button.gFull [class*="btn"],[class*="btn"].gFull{width:100%;}.ec-base-button.gFull [class*="btn"]{margin:0 0 7px;}.ec-base-button.gFixed{position:fixed;z-index:120;left:0;bottom:0;max-width:100%;width:100%;margin:0;padding:0 7px;box-sizing:border-box;background-color:#dbdbdb;-webkit-box-shadow:0px -4px 4px 0px rgba(120,120,120,0.5);-moz-box-shadow:0px -4px 4px 0px rgba(120,120,120,0.5);box-shadow:0px -4px 4px 0px rgba(120,120,120,0.5);}.ec-base-button.gFixed .state + .ec-base-button{margin-top:3px;}.ec-base-button.gFixed .state{overflow:hidden;margin:0 auto;font-size:11px;}.ec-base-button.gFixed .state .count{float:left;padding:7px 0;}.ec-base-button.gFixed .state .price{float:right;padding:7px 0;}.ec-base-button.gFixed .price strong{font-weight:normal;}.ec-base-button.gFixed .count strong,.ec-base-button.gFixed .price em{color:#333;font-weight:bold;}@media all and (min-width:768px){.btnSubmit{height:46px;line-height:44px;font-size:16px;}.btnEm{height:46px;line-height:44px;font-size:16px;}}.ec-base-box{padding:14px;margin:14px;border:1px solid #d5d5d5;line-height:1.6;color:#757575;background:#fff;}.ec-base-box.center{text-align:center;}#popup{height:100%;background:transparent;}.popup .ec-base-layer{position:relative;}.ec-base-layer{position:fixed;z-index:300;top:0;bottom:0;left:0;right:0;min-width:320px;width:100%;height:100%;display:-webkit-flex;display:-ms-flex;display:flex;background:#f1f1f1;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;font-family: 'Lato',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;}.ec-base-layer h1{width:100%;height:36px;text-align:center;font-size:15px;line-height:36px;color:#fff;box-sizing:border-box;background:#222;}.ec-base-layer .wrap{-webkit-flex:1;-moz-flex:1;-ms-flex:1;flex:1;height:100%;padding:14px;font-size:12px;overflow-x:auto;overflow-y:auto;box-sizing:border-box;-webkit-overflow-scrolling:touch;}.ec-base-layer .btnClose{overflow:hidden;position:absolute;right:0;top:0;z-index:510;width:36px;height:36px;border:0;padding:0;font-size:0;text-indent:-150%;background:url("/web/upload/m_market103/layout/btn_close_white.png") center center no-repeat;background-size:14px 14px;}.ec-base-layer[class*="theme1"] .wrap{background:#fff;}.ec-base-layer.gClearFlex{display:block;padding:0 0 94px;box-sizing:border-box;}.ec-base-layer.gClearFlex .wrap{-webkit-flex:none;-moz-flex:none;-ms-flex:none;flex:none;height:auto;}.ec-base-layer.typeModal{overflow:hidden;z-index:500;top:50px;bottom:auto;left:0;right:0;min-width:280px;max-width:600px;width:92%;height:auto;margin:auto;border-radius:5px;-webkit-box-shadow:0px 0px 10px 2px rgba(0,0,0,0.75);-moz-box-shadow:0px 0px 10px 2px rgba(0,0,0,0.75);box-shadow:0px 0px 10px 2px rgba(0,0,0,0.75);}.ec-base-layer.typeModal h1{padding:0 14px;line-height:35px;font-size:13px;text-align:left;border-bottom:1px solid #ccc;color:#1b1b1b;background:#f1f1f1;border-radius:5px 5px 0 0;}.ec-base-layer.typeModal .wrap{max-height:200px;min-height:100px;padding:14px;background:#fff;}.ec-base-layer.typeModal .btnClose{background:url("/web/upload/m_market103/layout/btn_close_black.png") center center no-repeat;background-size:14px 14px;}.ec-base-layer.typeWide{background:#e8e8e8;}.ec-base-layer.typeWide h1{height:56px;padding:0 42px;line-height:56px;font-size:20px;font-weight:normal;box-sizing:border-box;}.ec-base-layer.typeWide .wrap{padding:0;font-size:16px;line-height:1.4em;letter-spacing:-0.4px;}.ec-base-layer.typeWide .btnClose{top:10px;right:10px;background-image:url("/web/upload/m_market103/layout/btn_close.png");background-size:21px 21px;}.ec-base-layer.typeWide > .ec-base-button.gFull{padding:15px 14px 8px;}.ec-base-layer .wrap + div > .ec-base-button,.ec-base-layer .wrap + .ec-base-button,.ec-base-layer > .ec-base-button{margin:0;padding:7px 14px 7px 10px;border-radius:0 0 5px 5px;box-sizing:border-box;}.ec-base-layer .ec-base-button.gFull{padding:7px 14px 0;}.ec-base-layer .ec-base-button.gFixed .ec-base-button{padding:0;border-top:0;}.ec-base-layer .wrap + .ec-base-button > .ec-base-button{padding:0;}.ec-base-tab{font-family: 'Lato',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;}.ec-base-tab:after{content:"";display:block;clear:both;}.ec-base-tab ul{display:flex;border-top:1px solid #ececec;font-size:12px;line-height:14px;word-break:break-all;}.ec-base-tab li{display:flex;flex:1;min-height:36px;border-left:1px solid #ececec;text-align:center;border-bottom:1px solid #202020;background:#f2f2f2;}.ec-base-tab .gFlex2{flex:2;}.ec-base-tab a{display:flex;flex-basis:100%;justify-content:center;flex-wrap:nowrap;align-items:center;padding:5px 10px;}.ec-base-tab a .number{display:inline-block;padding-left:5px;}.ec-base-tab li:first-child{border-left:0;}.ec-base-tab li.selected a{position:relative;top:0px;display:flex;margin:0 0 -1px;border-left:0;font-weight:bold;color:#404040;border:1px solid #202020;border-bottom:1px solid #fff;background:#fff;display:flex;}.ec-base-tab li:first-child a{display:flex;}.ec-base-tab.typeSub ul{border-top:1px solid #cfcfcf;border-bottom:1px solid #cfcfcf;}.ec-base-tab.typeSub ul > li{background:#f1f1f1;border-left:1px solid #cfcfcf;}.ec-base-tab.typeSub .selected a{margin:0 0 -1px;color:#333;background:#fff;}.ec-base-tooltip-area{display:inline-block;vertical-align:top;font-family: 'Lato',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;}.ec-base-tooltip-area.show{z-index:301;}.ec-base-tooltip-area .btnTip{overflow:hidden;padding:0 0 0 5px;margin:0;border:0;white-space:nowrap;width:14px;height:14px;font-size:1px;line-height:0;vertical-align:middle;color:transparent;text-indent:-150%;cursor:pointer;background:url("//img.echosting.cafe24.com/skin/mobile/common/ico_help.png") right center no-repeat;background-size:14px 14px;}.ec-base-tooltip{display:none;z-index:2;position:absolute;top:inherit !important;left:0 !important;right:0 !important;width:88%;margin:3px auto 0;padding:0 14px 14px;text-align:left;border:1px solid #ccc;border-radius:2px;letter-spacing:normal;background-color:#fff;}.ec-base-tooltip .title{display:block;padding:0 20px 0 0;font-size:15px;color:#000;line-height:43px;background:#fff;}.ec-base-tooltip ul{color:#757575;}.ec-base-tooltip ul li{font-size:13px;}.ec-base-tooltip .content table + .title{margin-top:14px;}.ec-base-tooltip p{float:none;font-size:12px;text-align:left;}.ec-base-tooltip p strong{font-weight:normal;font-size:13px;}.ec-base-tooltip .btnClose{overflow:hidden;position:absolute;right:10px;top:10px;width:25px;height:25px;margin:0 !important;font-size:1px;line-height:0;text-indent:150%;white-space:nowrap;border:0;background:url("/web/upload/m_market103/layout/btn_close.png") no-repeat 50% 50%;background-size:13px 13px;}.ec-base-tooltip.typeUpper{position:absolute;left:0px !important;width:200px;margin:0;padding:14px 28px 14px 14px;border:1px solid #ccc;border-radius:2px;-webkit-box-shadow:3px 3px 3px 0px rgba(0,0,0,0.15);-moz-box-shadow:3px 3px 3px 0px rgba(0,0,0,0.15);box-shadow:3px 3px 3px 0px rgba(0,0,0,0.15);}.ec-base-tooltip.typeUpper:before{content:"";position:absolute;left:40%;bottom:-5px;display:inline-block;width:0;height:0;margin:-3px 0 0;border-left:5px solid transparent;border-top:5px solid #ccc;border-right:5px solid transparent;}.ec-base-tooltip.typeUpper:after{content:"";position:absolute;left:40%;bottom:-4px;display:inline-block;width:0;height:0;margin:-3px 0 0;border-left:5px solid transparent;border-top:5px solid #fff;border-right:5px solid transparent;}.shippingFee{display:inline-block;position:static;vertical-align:middle;}.shippingFee > a.btnNormal{margin:-3px 0 0 5px;}.shippingFee .wrap{display:none;z-index:999;position:fixed;left:2%;width:96%;top:100px;margin:0;border:1px solid #d5d5d5;background:#fff;border-radius:5px;box-sizing:border-box;-webkit-box-shadow:0px 0px 10px 2px rgba(0,0,0,0.75);-moz-box-shadow:0px 0px 10px 2px rgba(0,0,0,0.75);box-shadow:0px 0px 10px 2px rgba(0,0,0,0.75);}.shippingFee .wrap h3{padding:0 14px;font-size:13px;line-height:36px;background-color:#f0f0f0;border-bottom:1px solid #d5d5d5;border-radius:5px 5px 0 0;}.shippingFee .wrap .content{padding:14px;}.shippingFee .wrap h4{position:relative;margin:0 7px 7px;}.shippingFee .wrap h4:before{display:inline-block;content:"";margin:0 5px 0 0;width:3px;height:3px;background:#666;vertical-align:middle;}.shippingFee .wrap table + h4{margin-top:14px;}.shippingFee .wrap p strong{font-weight:normal;font-size:13px;}.shippingFee .wrap table{background:#fff;}.shippingFee .wrap th,.shippingFee .wrap td{padding:7px;border:1px solid #d5d5d5;}.shippingFee .wrap th{width:80px;border-right-width:0;color:#353535;}.shippingFee .wrap td{border-left-width:0;}.shippingFee .wrap .txtEm{color:#333;}.shippingFee .wrap .info{margin:0;color:#757575;font-size:11px;}.shippingFee .wrap .btnClose{overflow:hidden;position:absolute;right:0;top:0;width:36px;height:36px;font-size:0;border:none;background:transparent url("/web/upload/m_market103/layout/btn_close.png") center center no-repeat;background-size:14px 14px;}.ec-base-table{border:1px solid #d5d5d5;word-break:break-all;word-wrap:break-word;color:#353535;background:#fff;font-family: 'Lato',Arial,'Nanum Square',"돋움",Dotum,'Apple SD Gothic Neo',AppleGothic,sans-serif;}.ec-base-table table{position:relative;}.ec-base-table table:after{position:absolute;top:0;left:0;display:block;content:"";width:100%;height:1px;background:#fff;}.ec-base-table th,.ec-base-table td{border-top:1px solid #ececec;font-size:13px;vertical-align:top;}.ec-base-table th{font-weight:normal;color:#757575;}.ec-base-table td{padding:12px 13px;}.ec-base-table tbody th{padding:12px 0 12px 13px;text-align:left;}.ec-base-table td.clear{padding:0 !important;}.ec-base-table.typeWrite td{padding:7px 13px 6px;}.ec-base-table.typeWrite tr td:first-child{padding:12px 13px;}.ec-base-table.typeWrite img{max-width:100% !important;height:auto !important;}.ec-base-table.gCellNarrow tbody th{padding:7px 0 7px 13px;}.ec-base-table.gCellNarrow td{padding:7px 13px;}.ec-base-table.gClearBorderTop{border-top-width:0;}.ec-base-table.gClearBorder{border-width:0;}.ec-base-table.gClearCell{padding:4px 0;}.ec-base-table.gClearCell table:after{display:none;}.ec-base-table.gClearCell th,.ec-base-table.gClearCell td,.ec-base-table.typeWrite.gClearCell th{border-width:0;padding-top:6px;padding-bottom:6px;}.ec-base-table.typeWrite.gClearCell td{padding-top:3px;padding-bottom:4px;}.ec-base-table .gLineTop{border-top:1px solid #ececec !important;}.ec-base-table.gClearCell tbody.gLineTop tr:first-child th,.ec-base-table.gClearCell tbody.gLineTop tr:first-child td{padding-top:10px;}.ec-base-table.typeList{border-width:0;}.ec-base-table.typeList table:after{display:none;}.ec-base-table.typeList thead th{text-align:center;background:#fafafa;}.ec-base-table.typeList th,.ec-base-table.typeList td{padding:9px 10px;vertical-align:middle;border:1px solid #d7d5d5;}.ec-base-table.typeList.gClearBorderTop thead th{border-top-width:0;}.ec-base-table .left{text-align:left;}.ec-base-table .center{text-align:center;}.ec-base-table .right{text-align:right;}.ec-base-table .top th,.ec-base-table th.top,.ec-base-table .top td,.ec-base-table td.top{vertical-align:top;}.ec-base-table .middle th,.ec-base-table th.middle,.ec-base-table .middle td,.ec-base-table td.middle{vertical-align:middle;}.ec-base-table img{vertical-align:middle;}.ec-base-table td.clear .ec-base-help{margin-left:13px;margin-right:13px;}
</style>
<script src ="https://m.drmamma.co.kr/ind-script/optimizer.php?filename=tVXbbtswDP0Bv-471OwC9HUp0KcVG1b0A2iJtplIokZJbdOvH5OuQ7LBSR0j8IMBguccmedQNgMHNIuPYjqBgE8sayOYuYpFs8qGFtexWeUP5lhfpQR2bVa_Ksrmz-tT86W5OgvZoG0iW46dJ1vOolg0n_U5Szyx33Tk_SE6CfdKcDCanIRi6U43OrY1YCy3LOGGYxH2HuU07oev-WtKSyHX4-n2TpTbPENU12JBSYLlPTJ7uIIheSgjYpCSueOWPJqfe3jLIXA0tZCfhAvsqpbyE6Vpgl2NtpBKap-rGpHAMpPhyCE8tebhNSn7FB5eNp7BTQKFWmCr-73NKI9j5oyA35_MV0cddlB92Y4gB5CyhBj_lTy5FfisGYrg89t-tD3tQHN5LPOaZrM40sXKOtE8lwkhU-znsgQs4KDAeBrvB04Htt7uzLrZLdHD0R0ag-rC9iybb5TLOHjJIO4ArdWm3VYnK2YEscOk8BboOh0PTf2ZJF970pvpETzpYFneJv23MJtwa2J0-X9iZUiaLLycwoA-4QW_YIDo_CUF9A4j9XWVfwM&type=js&k=6435d50c22be5632cbe30512562e0a41579bfe82&t=1603822875"></script>
<script>
    // 자식에게 메시지 전달
    function sendMsgToChild() {
        var my_member = JSON.parse(sessionStorage.getItem("member_1"));
        if (my_member) {
        var msg = {
        	member_id: my_member.data.member_id,
            member_name: my_member.data.name, 
        }
        child.contentWindow.postMessage(msg, '*');
        }
        
    }

    
    function sendMsgTrigger () {
		sendMsgToChild();    
    }   
</script>


<iframe id="doctorfit-frame" onload="sendMsgTrigger();" src="http://127.0.0.1:3000" frameborder="0" style="overflow:hidden;overflow-x:hidden;overflow-y:hidden;height:100%;width:100%;position:absolute;top:0px;left:0px;right:0px;bottom:0px" height="100%" width="100%"></iframe>





<!--
<div class="button" style="position: absolute; left: 100px; bottom: 300px;">
    <span class="cart">
        <img width="100px;" src="/web/upload/icon_202008041726454000.png" onclick="product_submit(1, '/exec/front/order/basket/', this)" alt="" class="ec-admin-icon cart">
    </span>
</div>
    
-->


<!--
<button id="re-fetch-btn">리페치 버튼!</button>
-->
<script>
    var btn = document.getElementById('re-fetch-btn');       // 메시지 전송 버튼
	var child = document.getElementById('doctorfit-frame');   // iframe
    // console.log(document.referrer);
  	// if (document.referrer.includes("login")) {
 	//    // 전 페이지가 로그인페이지였으면? // 
    //    setTimeout(() => {
    //        location.reload();
    //    } , 250);
    // }
    // var member = JSON.parse(sessionStorage.getItem("member_1"));
    // var member_id = member.data.member_id;
    // var member_name = member.data.name;
    
    // btn.addEventListener( 'click', function( e ) {
    	// sendMsgToChild( 'ㅑ냠냠! 뇸!' );
    // });

    
    
</script>
    
<script>
/**
 * 금액 포맷
 */

// var EC_SDE_SHOP_NUM = 0;

var SHOP_PRICE_FORMAT = {
    /**
     * iShopNo 쇼핑몰의 결제화폐에 맞도록 하고 포맷팅하여 리턴합니다.
     * @param float fPrice 금액
     * @param int iShopNo 쇼핑몰번호
     * @return string
     */
    toShopPrice: function(fPrice, iShopNo)
    {
        iShopNo = parseInt(iShopNo) || EC_SDE_SHOP_NUM;

        var aFormat = SHOP_CURRENCY_FORMAT.getShopCurrencyFormat(iShopNo);
        var sPrice = SHOP_PRICE.toShopPrice(fPrice, true, iShopNo);
        return aFormat.head + sPrice + aFormat.tail;
    },

    /**
     * iShopNo 쇼핑몰의 참조화폐에 맞도록 하고 포맷팅하여 리턴합니다.
     * @param float fPrice 금액
     * @param int iShopNo 쇼핑몰번호
     * @return string
     */
    toShopSubPrice: function(fPrice, iShopNo)
    {
        iShopNo = parseInt(iShopNo) || EC_SDE_SHOP_NUM;

        var aFormat = SHOP_CURRENCY_FORMAT.getShopSubCurrencyFormat(iShopNo);
        var sPrice = SHOP_PRICE.toShopSubPrice(fPrice, true, iShopNo);
        return aFormat.head + sPrice + aFormat.tail;
    },

    /**
     * 쇼핑몰의 기준화폐에 맞도록 하고 포맷팅하여 리턴합니다.
     * @param float fPrice 금액
     * @param int iShopNo 쇼핑몰번호
     * @return string
     */
    toBasePrice: function(fPrice, iShopNo)
    {
        iShopNo = parseInt(iShopNo) || EC_SDE_SHOP_NUM;

        var aFormat = SHOP_CURRENCY_FORMAT.getBaseCurrencyFormat(iShopNo);
        var sPrice = SHOP_PRICE.toBasePrice(fPrice, true, iShopNo);
        return aFormat.head + sPrice + aFormat.tail;
    },

    /**
     * 결제화폐 금액을 참조화폐 금액으로 변환하고 포맷팅하여 리턴합니다.
     * @param float fPrice 금액
     * @param int iShopNo 쇼핑몰번호
     * @return string
     */
    shopPriceToSubPrice: function(fPrice, iShopNo)
    {
        iShopNo = parseInt(iShopNo) || EC_SDE_SHOP_NUM;

        var aFormat = SHOP_CURRENCY_FORMAT.getShopSubCurrencyFormat(iShopNo);
        var sPrice = SHOP_PRICE.shopPriceToSubPrice(fPrice, true, iShopNo);
        return aFormat.head + sPrice + aFormat.tail;
    },
    

    /**
     * 금액을 적립금 단위 명칭 설정에 따라 반환
     * @param float fPrice 금액
     * @return float|string
     */
    toShopMileagePrice: function (fPrice, iShopNo) {
        iShopNo = parseInt(iShopNo) || EC_SDE_SHOP_NUM;
        
        var sPrice = SHOP_PRICE.toShopPrice(fPrice, true, iShopNo);
        if (typeof sMileageUnit != 'undefined' && $.trim(sMileageUnit) != '') {
            sConvertMileageUnit = sMileageUnit.replace('[:PRICE:]', sPrice);
            return sConvertMileageUnit;
        } else {
            return SHOP_PRICE_FORMAT.toShopPrice(fPrice);
        }
    },

    /**
     * 금액을 예치금 단위 명칭 설정에 따라 반환
     * @param float fPrice 금액
     * @return float|string
     */
    toShopDepositPrice: function (fPrice, iShopNo) {
        iShopNo = parseInt(iShopNo) || EC_SDE_SHOP_NUM;
        
        var sPrice = SHOP_PRICE.toShopPrice(fPrice, true, iShopNo);
        if (typeof sDepositUnit != 'undefined' || $.trim(sDepositUnit) != '') {
            return sPrice + sDepositUnit;
        } else {
            return SHOP_PRICE_FORMAT.toShopPrice(fPrice);
        }
    },

    /**
     * 금액을 부가결제수단(통합포인트) 단위 명칭 설정에 따라 반환
     * @param float fPrice 금액
     * @return float|string
     */
    toShopAddpaymentPrice: function (fPrice, sAddpaymentUnit, iShopNo) {
        iShopNo = parseInt(iShopNo) || EC_SDE_SHOP_NUM;

        var sPrice = SHOP_PRICE.toShopPrice(fPrice, true, iShopNo);
        if (typeof sDepositUnit != 'undefined' || $.trim(sDepositUnit) != '') {
            return sPrice + sAddpaymentUnit;
        } else {
            return SHOP_PRICE_FORMAT.toShopPrice(fPrice);
        }
    },

    /**
     * 포맷을 제외한 금액정보만 리턴합니다.
     * @param {string} sFormattedPrice
     * @returns {string}
     */
    detachFormat: function(sFormattedPrice) {
        if (typeof sFormattedPrice === 'undefined' || sFormattedPrice === null) {
            return '0';
        }

        var sPattern = /[0-9.]/;
        var sPrice = '';
        for (var i = 0; i < sFormattedPrice.length; i++) {
            if (sPattern.test(sFormattedPrice[i])) {
                sPrice += sFormattedPrice[i];
            }
        }

        return sPrice;
    }
};

var SHOP_PRICE_UTIL = {
    /**
     * iShopNo 쇼핑몰의 결제화폐 금액 입력폼으로 만듭니다.
     * @param Element elem 입력폼
     * @param bool bUseMinus 마이너스 입력 사용 여부
     */
    toShopPriceInput: function(elem, iShopNo, bUseMinus)
    {
        iShopNo = parseInt(iShopNo) || EC_SDE_SHOP_NUM;

        var iDecimalPlace = SHOP_CURRENCY_INFO[iShopNo].aShopCurrencyInfo.decimal_place;
        bUseMinus ? SHOP_PRICE_UTIL._toPriceInput(elem, iDecimalPlace, bUseMinus) : SHOP_PRICE_UTIL._toPriceInput(elem, iDecimalPlace);
    },

    /**
     * iShopNo 쇼핑몰의 참조화폐 금액 입력폼으로 만듭니다.
     * @param Element elem 입력폼
     */
    toShopSubPriceInput: function(elem, iShopNo)
    {
        iShopNo = parseInt(iShopNo) || EC_SDE_SHOP_NUM;

        var iDecimalPlace = SHOP_CURRENCY_INFO[iShopNo].aShopSubCurrencyInfo.decimal_place;
        SHOP_PRICE_UTIL._toPriceInput(elem, iDecimalPlace);
    },

    /**
     * iShopNo 쇼핑몰의 기준화폐 금액 입력폼으로 만듭니다.
     * @param Element elem 입력폼
     */
    toBasePriceInput: function(elem, iShopNo)
    {
        iShopNo = parseInt(iShopNo) || EC_SDE_SHOP_NUM;

        var iDecimalPlace = SHOP_CURRENCY_INFO[iShopNo].aBaseCurrencyInfo.decimal_place;
        SHOP_PRICE_UTIL._toPriceInput(elem, iDecimalPlace);
    },

    /**
     * 소수점 iDecimalPlace까지만 입력 가능하도록 처리
     * @param Element elem 입력폼
     * @param int iDecimalPlace 허용 소수점
     * @param bool bUseMinus 마이너스 입력 사용 여부
     */
    _toPriceInput: function(elem, iDecimalPlace, bUseMinus)
    {
        attachEvent(elem, 'keyup', function(e) {
            e = e || window.event;
            bUseMinus ? replaceToMinusPrice(e.srcElement) : replaceToPrice(e.srcElement);
        });
        attachEvent(elem, 'blur', function(e) {
            e = e || window.event;
            bUseMinus ? replaceToMinusPrice(e.srcElement) : replaceToPrice(e.srcElement);
        });

        // 추가금액에서 마이너스를 입력받기 위해 사용
        function replaceToMinusPrice(target) {
            var value = target.value;

            var regExpTest = new RegExp('^[0-9]*' + (iDecimalPlace ? '' : '\\.[0-9]{0, ' + iDecimalPlace + '}' ) + '$');

            if (regExpTest.test(value) === false) {
                value = value.replace(/[^0-9.|\-]/g, '');
                if (parseInt(iDecimalPlace)) {
                    value = value.replace(/^([0-9]+\.[0-9]+)\.+.*$/, '$1');
                    value = value.replace(new RegExp('(\\.[0-9]{' + iDecimalPlace + '})[0-9]*$'), '$1');
                } else {
                    value = value.replace(/[^(0-9|\-)]/g, '');
                }
                target.value = value;
            }
        }

        function replaceToPrice(target)
        {
            var value = target.value;

            var regExpTest = new RegExp('^[0-9]*' + (iDecimalPlace ? '' : '\\.[0-9]{0, ' + iDecimalPlace + '}' ) + '$');
            if (regExpTest.test(value) === false) {
                value = value.replace(/[^0-9.]/g, '');
                if (parseInt(iDecimalPlace)) {
                    value = value.replace(/^([0-9]+\.[0-9]+)\.+.*$/, '$1');
                    value = value.replace(new RegExp('(\\.[0-9]{' + iDecimalPlace + '})[0-9]*$'), '$1');
                } else {
                    value = value.replace(/\.+[0-9]*$/, '');
                }
                target.value = value;
            }
        }

        function attachEvent(elem, sEventName, fn)
        {
            if ( elem.addEventListener ) {
                elem.addEventListener( sEventName, fn, false );

            } else if ( elem.attachEvent ) {
                elem.attachEvent( "on" + sEventName, fn );
            }
        }

    }
};

if (window.jQuery !== undefined) {
    $.fn.extend({
        toShopPriceInput : function(iShopNo)
        {
            return this.each(function(){
                var iElementShopNo = $(this).data('shop_no') || iShopNo;
                SHOP_PRICE_UTIL.toShopPriceInput(this, iElementShopNo);
            });
        },
        toShopSubPriceInput : function(iShopNo)
        {
            return this.each(function(){
                var iElementShopNo = $(this).data('shop_no') || iShopNo;
                SHOP_PRICE_UTIL.toShopSubPriceInput(this, iElementShopNo);
            });
        },
        toBasePriceInput : function(iShopNo)
        {
            return this.each(function(){
                var iElementShopNo = $(this).data('shop_no') || iShopNo;
                SHOP_PRICE_UTIL.toBasePriceInput(this, iElementShopNo);
            });
        }
    });
}

var PRODUCTSUBMIT = {
    oConfig : {
        'sFormSelector' : '#frm_image_zoom'
    },
    /**
     * 1 : 바로 구매, 2 : 장바구니 넣기
     */
    sType : null,
    sAction : null,
    oObject : null,
    oValidate : null,
    oForm : null,
    oDebug : null,
    bIsDebugConsoleOut : false,

    /**
     * 초기화
     */
    initialize : function(sType, sAction, oObject)
    {
        this.oDebug = this.DEBUG.initialize(this);
        this.oDebug.setInfo('PRODUCTSUBMIT.initialize 시작');
        this.oDebug.setInfo('sType : ', sType);
        this.oDebug.setInfo('sAction : ', sAction);
        this.oDebug.setInfo('oObject : ', oObject);

        if (typeof(sType) === 'undefined' || ((sType !== 'sms_restock' && sType !== 'email_restock') && typeof(sAction) === 'undefined')) {
            this.oDebug.setMessage('PRODUCTSUBMIT.initialize fail');
            return false;
        }

        this.sType = sType;
        this.sAction = sAction;
        this.oObject = oObject;
        this.oValidate = this.VALIDATION.initialize(this);
        this.UTIL.initialize(this);
        this.oForm = $(this.oConfig.sFormSelector);
        this.oForm.find(':hidden').remove();
        NEWPRD_ADD_OPTION.initCustomData();
    },
    /**
     * 데이터 검증
     */
    isValidRequest : function()
    {
        try {
            this.oDebug.setInfo('PRODUCTSUBMIT.isValidRequest 시작');

            this.oDebug.setInfo('PRODUCTSUBMIT.oValidate.isValidFunding');
            if (this.oValidate.isValidFunding() === false) {
                this.oDebug.setMessage('PRODUCTSUBMIT.oValidate.isValidFunding fail');
            }

            this.oDebug.setInfo('PRODUCTSUBMIT.oValidate.isRequireLogin');
            if (this.oValidate.isRequireLogin() === false) {
                this.oDebug.setMessage('PRODUCTSUBMIT.oValidate.isRequireLogin fail');
            }

            this.oDebug.setInfo('PRODUCTSUBMIT.oValidate.isPriceContent');
            if (this.oValidate.isPriceContent() === false) {
                this.oDebug.setMessage('PRODUCTSUBMIT.oValidate.isPriceContent fail');
            }

            this.oDebug.setInfo('PRODUCTSUBMIT.oValidate.isOptionDisplay');
            if (this.oValidate.isOptionDisplay() === false) {
                this.oDebug.setMessage('PRODUCTSUBMIT.oValidate.isOptionDisplay fail');
            }

            this.oDebug.setInfo('PRODUCTSUBMIT.oValidate.isItemInStock');
            if (this.oValidate.isItemInStock() === false) {
                this.oDebug.setMessage('PRODUCTSUBMIT.oValidate.isItemInStock fail');
            }

            this.oDebug.setInfo('PRODUCTSUBMIT.oValidate.isValidRegularDelivery');
            if (this.oValidate.isValidRegularDelivery() === false) {
                this.oDebug.setMessage('PRODUCTSUBMIT.oValidate.isValidRegularDelivery fail');
            }

            this.oDebug.setInfo('PRODUCTSUBMIT.oValidate.isValidOption');
            if (this.oValidate.isValidOption() === false) {
                this.oDebug.setMessage('PRODUCTSUBMIT.oValidate.isValidOption fail');
            }

            this.oDebug.setInfo('PRODUCTSUBMIT.oValidate.isValidAddproduct');
            if (this.oValidate.isValidAddproduct() === false) {
                this.oDebug.setMessage('PRODUCTSUBMIT.oValidate.isValidAddproduct fail');
            }

        } catch(mError) {
            return this.DEBUG.messageOut(mError);
        }
        return true;
    },
    /**
     * 전송폼 생성
     */
    setBasketForm : function()
    {
        try {
            this.oDebug.setInfo('PRODUCTSUBMIT.setBasketForm 시작');
            // 예약 주문 체크
            STOCKTAKINGCHECKRESERVE.checkReserve();

            this.oForm.attr('method', 'POST');
            this.oForm.attr('action', '/' + this.sAction);

            this.oDebug.setInfo('PRODUCTSUBMIT.setCommonInput');
            if (this.setCommonInput() === false) {
                this.oDebug.setMessage('PRODUCTSUBMIT.setCommonInput fail');
            }

            this.oDebug.setInfo('PRODUCTSUBMIT.setOptionId');
            if (this.setOptionId() === false) {
                this.oDebug.setMessage('PRODUCTSUBMIT.setOptionId fail');
            }

            this.oDebug.setInfo('PRODUCTSUBMIT.setAddOption');
            if (this.setAddOption() === false) {
                this.oDebug.setMessage('PRODUCTSUBMIT.setAddOption fail');
            }

            this.oDebug.setInfo('PRODUCTSUBMIT.setQuantityOveride');
            if (this.setQuantityOveride() === false) {
                this.oDebug.setMessage('PRODUCTSUBMIT.setQuantityOveride fail');
            }

            this.oDebug.setInfo('PRODUCTSUBMIT.setSelectedItem');
            if (this.setSelectedItemHasOptionT() === false || this.setSelectedItemHasOptionF() === false) {
//                if (this.setSelectedItemHasOptionT() === false || this.setSelectedItemHasOptionF() === false || this.setSingleSelectedItem() === false) {
                this.oDebug.setMessage('PRODUCTSUBMIT.setSelectedItem fail');
            }

            this.oDebug.setInfo('PRODUCTSUBMIT.setFundingData');
            if (this.setFundingData() === false) {
                this.oDebug.setMessage('PRODUCTSUBMIT.setFundingData fail');
            }


        } catch(mError) {
            return this.DEBUG.messageOut(mError);
        }

        return true;
    },
    setBasketAjax : function()
    {
        this.oDebug.setInfo('PRODUCTSUBMIT.setBasketAjax 시작');
        if (typeof(ACEWrap) !== 'undefined') {
            // 에이스카운터
            ACEWrap.addBasket();
        }

        // 파일첨부 옵션의 파일업로드가 없을 경우 바로 장바구니에 넣기
        if (FileOptionManager.existsFileUpload() === false) {
            NEWPRD_ADD_OPTION.setItemPerAddOptionForm(this.oForm);
            action_basket(this.sType, 'detail', this.sAction, this.oForm.serialize(), this.UTIL.getData('sBasketType'));
        } else {
            // 파일첨부 옵션의 파일업로드가 있으면
            FileOptionManager.upload(function(mResult){
                // 파일업로드 실패
                if (mResult === false) {
                    PRODUCTSUBMIT.DEBUG.setMessage('PRODUCTSUBMIT.setBasketAjax fail - 파일업로드 실패');
                    return false;
                }

                // 파일업로드 성공
                for (var sId in mResult) {
                    // 해당 품목에 파일 첨부 옵션 항목 추가
                    NEWPRD_ADD_OPTION.pushFileList(sId, mResult);
                    PRODUCTSUBMIT.UTIL.appendHidden(sId, FileOptionManager.encode(mResult[sId]));
                }

                NEWPRD_ADD_OPTION.setItemPerAddOptionForm(PRODUCTSUBMIT.oForm);
                action_basket(PRODUCTSUBMIT.sType, 'detail', PRODUCTSUBMIT.sAction, PRODUCTSUBMIT.oForm.serialize(), PRODUCTSUBMIT.UTIL.getData('sBasketType'));
            });
        }
    },
    setSelectedItem : function(sItemCode, iQuantity, sParameterName, sAdditionalData)
    {
        iQuantity = parseInt(iQuantity, 10);
        if (isNaN(iQuantity) === true || iQuantity < 1) {
            this.oDebug.setMessage('PRODUCTSUBMIT.setSelectedItem fail - iQuantity Fault');
            return false;
        }

        if (typeof(sItemCode) !== 'string') {
            this.oDebug.setMessage('PRODUCTSUBMIT.setSelectedItem fail - sItemCode Fault');
            return false;
        }

        if (typeof(sParameterName) === 'undefined') {
            sParameterName = 'selected_item[]';
        }

        if (typeof(sAdditionalData) === 'undefined') {
            sAdditionalData = '';
        } else {
            sAdditionalData = '||' + sAdditionalData;
        }

        this.UTIL.prependHidden(sParameterName, iQuantity+'||'+sItemCode+sAdditionalData);
        return true;
    },
    getQuantity : function(oQuantityElement)
    {
        if (typeof(quantity_id) === 'undefined') {
            var quantity_id = '#quantity';
        }
        var $oQuantityElement = $(quantity_id);
        if (typeof(oQuantityElement) === 'object') {
            $oQuantityElement = oQuantityElement;
        }
        return parseInt($oQuantityElement.val(),10);
    },
    setSelectedItemHasOptionF : function()
    {
        if (has_option !== 'F') {
            return true;
        }

        if (item_code === undefined) {
            var sItemCode = product_code+'000A';
        } else {
            var sItemCode = item_code;
        }
        if (this.sType === 'funding') {
            EC_SHOP_FRONT_PRODUCT_FUNDING.setStandaloneProductItem(sItemCode);
        } else {
            if (NEWPRD_ADD_OPTION.checkSoldOutProductValid(this.oObject) === false && EC_SHOP_FRONT_PRODUCT_RESTOCK.isRestock(this.sType) === false) {
                this.setSelectedItem(sItemCode, this.getQuantity());
            }
        }

        return true;
    },
    setEtypeSelectedItem : function(bFormAppend)
    {
        var _sItemCode = sProductCode + '000A';
        var iQuantity = 0;
        var sSelectedItemByEtype = '';
        var _aItemValueNo = '';
        if (isNewProductSkin() === false) {
            iQuantity = this.getQuantity();

            // 수량이 없는 경우에는 최소 구매 수량으로 던진다!!
            if (iQuantity === undefined) {
                iQuantity = product_min;
            }
            var _aItemValueNo = Olnk.getSelectedItemForBasketOldSkin(sProductCode, $('[id^="product_option_id"]'), iQuantity);

            if (_aItemValueNo.bCheckNum === false ) {
                _aItemValueNo = Olnk.getProductAllSelected(sProductCode , $('[id^="product_option_id"]') , iQuantity);
                if (_aItemValueNo === false) {
                    this.oDebug.setMessage('etype error');
                }
            }
            sSelectedItemByEtype = 'selected_item_by_etype[]='+$.toJSON(_aItemValueNo) + '&';
            if (bFormAppend === true) {
                this.setSelectedItem(_sItemCode, iQuantity);
                this.UTIL.appendHidden('selected_item_by_etype[]', $.toJSON(_aItemValueNo));
            }
        } else {
            var bIsProductEmptyOption = this.UTIL.getData('bIsProductEmptyOption');
            // 메인상품 선택여부 확인 false : 선택함 || true : 선택안함
            if (bIsProductEmptyOption === false && NEWPRD_ADD_OPTION.checkSoldOutProductValid(this.oObject) === false) {
                $('.option_box_id').each(function (i) {
                    var sQuantityElement = $('#' + $(this).attr('id').replace('id', 'quantity'));
                    if (typeof(EC_SHOP_FRONT_PRODUCT_FUNDING) === 'object' && EC_SHOP_FRONT_PRODUCT_FUNDING.isFundingProduct() === true) {
                        sQuantityElement = $('#quantity_'+$(this).attr('composition-code'));
                    }
                    iQuantity = PRODUCTSUBMIT.getQuantity(sQuantityElement);
                    _aItemValueNo = Olnk.getSelectedItemForBasket(sProductCode, $(this), iQuantity);

                    if (_aItemValueNo.bCheckNum === false) { // 옵션박스는 있지만 값이 선택이 안된경우
                        _aItemValueNo = Olnk.getProductAllSelected(sProductCode, $(this), iQuantity);
                    }
                    if (bFormAppend === true) {
                        PRODUCTSUBMIT.setSelectedItem(_sItemCode, iQuantity);
                        PRODUCTSUBMIT.UTIL.prependHidden('selected_item_by_etype[]', $.toJSON(_aItemValueNo));
                    }
                    sSelectedItemByEtype += 'selected_item_by_etype[]='+$.toJSON(_aItemValueNo) + '&';
                    var oItem = $('[name="item_code[]"]').eq(i);
                    var sItemCode = _sItemCode + '_' + i;

                    //품목별 추가옵션 셋팅
                    var ePerAddOption = $('.option_products .option').eq(i).find(".input_addoption:visible");
                    if (ePerAddOption.length > 0) { // 옵션 박스안에서 개별 입력시
                        NEWPRD_ADD_OPTION.setItemPerAddOptionData(sItemCode, ePerAddOption, PRODUCTSUBMIT.oForm);
                    } else {
                        //품목별 추가옵션 셋팅
                        var sItemAddOption = NEWPRD_ADD_OPTION.getAddOptionValue(oItem.attr('data-item-add-option'));
                        NEWPRD_ADD_OPTION.setItemAddOption(sItemCode, sItemAddOption, PRODUCTSUBMIT.oForm);
                    }
                });

                // 전부 선택인 경우 필요값 생성한다.
                if (_aItemValueNo === '') {
                    iQuantity = this.getQuantity();
                    _aItemValueNo = Olnk.getProductAllSelected(sProductCode, $('[id^="product_option_id"]'), iQuantity);
                    if (_aItemValueNo !== false) {
                        if (bFormAppend === true) {
                            this.setSelectedItem(_sItemCode, iQuantity);
                            this.UTIL.prependHidden('selected_item_by_etype[]', $.toJSON(_aItemValueNo));
                        }
                        sSelectedItemByEtype += 'selected_item_by_etype[]='+$.toJSON(_aItemValueNo) + '&';
                    }
                }
            }
        }
        this.UTIL.setData('sSelectedItemByEtype', sSelectedItemByEtype);
    },
    setSelectedItemHasOptionT : function()
    {
        if (has_option !== 'T') {
            return true;
        }

        if (Olnk.isLinkageType(sOptionType) === true) {
            this.setEtypeSelectedItem(true);
        } else {
            if (isNewProductSkin() === true && NEWPRD_ADD_OPTION.checkSoldOutProductValid(this.oObject) === false) {
                if (this.sType === 'funding') {
                    $('.xans-product-funding').each(function(i) {
                        if ($(this).find('.EC-funding-checkbox:checked').length !== 1) {
                            return;
                        }
                        var iQuantity = $(this).find('input.quantity').val();
                        var sItemCode = $(this).find('input.selected-funding-item').val();
                        PRODUCTSUBMIT.setSelectedItem(sItemCode, iQuantity);
                    });

                } else {
                    if ($('[name="quantity_opt[]"][id^="option_box"]').length > 0 && $('[name="quantity_opt[]"][id^="option_box"]').length == $('[name="item_code[]"]').length) {

                        $('[name="quantity_opt[]"][id^="option_box"]').each(function(i) {

                            var oItem = $('[name="item_code[]"]').eq(i);
                            var sItemCode = oItem.val();
                            PRODUCTSUBMIT.setSelectedItem(sItemCode, PRODUCTSUBMIT.getQuantity($(this)));

                            //품목별 추가옵션 셋팅
                            var ePerAddOption = $('.option_products .option').eq(i).find(".input_addoption:visible");
                            if (ePerAddOption.length > 0) { // 옵션 박스안에서 개별 입력시
                                NEWPRD_ADD_OPTION.setItemPerAddOptionData(sItemCode, ePerAddOption, PRODUCTSUBMIT.oForm);
                            } else {
                                var sItemAddOption = NEWPRD_ADD_OPTION.getAddOptionValue(oItem.attr('data-item-add-option'));
                                NEWPRD_ADD_OPTION.setItemAddOption(sItemCode, sItemAddOption, PRODUCTSUBMIT.oForm);
                            }
                        });
                    }
                }

            } else {
                // 뉴 상품 + 구스디 스킨
                var aItemCode = ITEM.getItemCode();
                for (var i = 0; i < aItemCode.length; i++) {
                    var sItemCode = aItemCode[i];
                    this.setSelectedItem(sItemCode, this.getQuantity(i));
                }
            }
        }
        return true;
    },
    setQuantityOveride : function()
    {
        if (this.sType !== 1 && this.sType !== 'naver_checkout' && this.sType !== 'direct_buy') {
            return true;
        }

        // 전역변수임
        sIsPrdOverride = 'F';
        if (this.sType === 1) {
            var aItemParams = [];
            var aItemCode = ITEM.getItemCode();
            for (var i = 0, length = aItemCode.length; i < length; i++) {
                aItemParams.push("item_code[]=" + aItemCode[i]);
            }
            var sOptionParam = this.UTIL.getData('sOptionParam');
            sOptionParam = sOptionParam + '&delvtype=' + delvtype + '&' + aItemParams.join("&");
            if (Olnk.isLinkageType(sOptionType) === true) {
                this.setEtypeSelectedItem();
                var sSelectedItemByEtype = this.UTIL.getData('sSelectedItemByEtype', sSelectedItemByEtype);
            }
            selectbuy_action(sOptionParam, iProductNo, sSelectedItemByEtype);
        }

        if (this.sType === 'naver_checkout' || this.sType === 'direct_buy') {
            sIsPrdOverride = 'T';
        }
        this.UTIL.appendHidden('quantity_override_flag', sIsPrdOverride);
    },
    /**
     * 실제 옵션에 대한 검증이 아니라 구상품과의 호환을 위해 존재하는 파라미터들을 세팅해주는 메소드
     */
    setOptionId : function()
    {
        var count = 1;
        var sOptionParam = '';
        $('select[id^="' + product_option_id + '"]').each(function()
        {
            PRODUCTSUBMIT.UTIL.appendHidden('optionids[]', $(this).attr('name'));
            if ($(this).attr('required') == true || $(this).attr('required') == 'required') {
                PRODUCTSUBMIT.UTIL.appendHidden('needed[]', $(this).attr('name'));
            }
            var iSelectedIndex = $(this).get(0).selectedIndex;
            if ($(this).attr('required') && iSelectedIndex > 0) iSelectedIndex -= 1;

            if (iSelectedIndex > 0) {
                sOptionParam += '&option' + count + '=' + iSelectedIndex;
                var sValue = $(this).val();
                var aValue = sValue.split("|");
                PRODUCTSUBMIT.UTIL.appendHidden($(this).attr('name'), aValue[0]);
                ++count;
            }
        });
        this.UTIL.setData('sOptionParam', sOptionParam);
    },
    setAddOption : function()
    {
        if (add_option_name.length === 0) {
            return;
        }
        if (this.sType === 'funding') {
            // EC_SHOP_FRONT_PRODUCT_FUNDING.getFundingBasketData를 참조하세요.
            return;
        }

        var iAddOptionNo = 0;
        var aAddOptionName = [];
        if (has_option === 'F') {
            NEWPRD_ADD_OPTION.addItem(item_code);
            var iAddOptionIndex = NEWPRD_ADD_OPTION.getLastIndex();
        }
        for (var i = 0, iAddOptionNameLength = add_option_name.length; i < iAddOptionNameLength; i++) {
            var sValue = $('#' + add_option_id + i).val();
            if (sValue === '' || typeof sValue == 'undefined') {
                continue;
            }
            this.UTIL.appendHidden('option_add[]', sValue);
            aAddOptionName[iAddOptionNo++] = add_option_name[i];
            if (has_option === 'F') {
                NEWPRD_ADD_OPTION.addCustomOption(iAddOptionIndex, {
                    type: 'text',
                    value: sValue,
                    info: add_option_name[i]
                }, 'input');
            }
        }
        this.UTIL.appendHidden('add_option_name', aAddOptionName.join(';'));
        NEWPRD_ADD_OPTION.setItemAddOptionName(this.oForm); // 품목별 추가옵션명인데 왜 상품단위로 도는지 확인이 필요함
    },
    setFundingData : function()
    {
        if (this.sType !== 'funding') {
            return true;
        }
        if (typeof EC_SHOP_FRONT_PRODUCT_FUNDING.getFundingBasketData !== 'function') {
            this.oDebug.setMessage('EC_SHOP_FRONT_PRODUCT_FUNDING.getFundingBasketData error');
            return false;
        }

        var oFundingBasketData = EC_SHOP_FRONT_PRODUCT_FUNDING.getFundingBasketData();
        if (typeof(oFundingBasketData) !== 'object') {
            this.oDebug.setMessage(oFundingBasketData.sMessage);
            return false;
        }

        delete oFundingBasketData.sMessage;
        delete oFundingBasketData.bIsResult;
        this.UTIL.appendHidden(oFundingBasketData);


    },
    setCommonInput : function()
    {
        var sBasketType = (typeof(basket_type) === 'undefined') ? 'A0000' : basket_type;
        this.UTIL.setData('sBasketType', sBasketType);

        var oCommon = {
            'product_no' : iProductNo,
            'product_name' : product_name,
            'main_cate_no' : iCategoryNo,
            'display_group' : iDisplayGroup,
            'option_type' : option_type,
            'product_min' : product_min,
            'command' : 'add',
            'has_option' : has_option,
            'product_price' : product_price,
            'multi_option_schema' : $('#multi_option').html(),
            'multi_option_data' : '',
            'delvType' : delvtype,
            'redirect' : this.sType,
            'product_max_type' : product_max_type,
            'product_max' : product_max,
            'basket_type' : sBasketType
        };
        this.UTIL.appendHidden(oCommon);

        if (typeof(CAPP_FRONT_OPTION_SELECT_BASKETACTION) !== 'undefined' && CAPP_FRONT_OPTION_SELECT_BASKETACTION === true) {
            this.UTIL.appendHidden('basket_page_flag', 'T');
        } else {
            this.UTIL.appendHidden('prd_detail_ship_type', $('#delivery_cost_prepaid').val());
        }
        if (this.sType !== 'funding') {
            // 수량 체크
            var iQuantity = 1;
            if (EC_SHOP_FRONT_PRODUCT_RESTOCK.isRestock(this.sType) === false) {
                iQuantity = checkQuantity();
                if (iQuantity == false) {
                    // 현재 관련상품 선택 했는지 여부 확인
                    // 관련 상품 자체가 없을때는 뒤에 저 로직을 탈 필요가 없음(basket_info 관련상품 체크박스)
                    if ($('input[name="basket_info[]"]').length <= 0 || NEWPRD_ADD_OPTION.checkRelationProduct(this.oObject, this.sType) === false) {
                        return false;
                    }
                }
            }

            // 폼 세팅
            if (iQuantity == undefined ||  isNaN(iQuantity) === true || iQuantity < 1) {
                iQuantity = 1;
            }
            this.UTIL.appendHidden('quantity', iQuantity);
        }

        // 바로구매 주문서 여부
        if (this.sType == 'direct_buy') {
            this.UTIL.appendHidden('is_direct_buy', 'T');
        } else {
            this.UTIL.appendHidden('is_direct_buy', 'F');
        }
    },
    VALIDATION : {
        initialize : function(oParent)
        {
            this.parent = oParent;
            return this;
        },
        isRequireLogin : function()
        {
            // ECHOSTING-58174
            if (sIsDisplayNonmemberPrice !== 'T') {
                return true;
            }
            switch (this.parent.sType) {
                case 1 :
                    alert(__('로그인후 상품을 구매해주세요.'));
                    break;
                case 2 :
                    alert(__('로그인후 장바구니 담기를 해주세요.'));
                     break;
                case 'direct_buy' :
                    alert(__('회원만 구매 가능합니다. 비회원인 경우 회원가입 후 이용하여 주세요.'));
                    break;
                default :
                    break;
            }
            btn_action_move_url('/member/login.html');
            return false;
        },
        isPriceContent : function()
        {
            if (typeof(product_price_content) === 'undefined') {
                return true;
            }

            var sProductcontent = product_price_content.replace(/\s/g, '').toString();
            if (sProductcontent === '1') {
                alert(sprintf(__('%s 상품은 구매할 수 있는 상품이 아닙니다.'), product_name));
                return false;
            }

            return true;
        },
        isOptionDisplay : function()
        {
            if (typeof(EC_SHOP_FRONT_NEW_OPTION_COMMON) !== 'undefined'
                && has_option === 'T'
                && Olnk.isLinkageType(sOptionType) === false
                && EC_SHOP_FRONT_NEW_OPTION_COMMON.isValidOptionDisplay(product_option_id) === false) {

                alert(sprintf(__('%s 상품은 구매할 수 있는 상품이 아닙니다.'), product_name));
                return false;
            }
            return true;
        },
        isItemInStock : function()
        {
            if (EC_SHOP_FRONT_PRODUCT_RESTOCK.isRestock(this.parent.sType) === false && ($('.option_box_id').length == 0 && $('.soldout_option_box_id').length > 0) === true) {
                alert(__('품절된 상품은 구매가 불가능합니다.'));
                return false;
            }

            return true;
        },
        isValidOption : function()
        {
            // 필수옵션 체크
            var bIsProductEmptyOption = EC_SHOP_FRONT_PRODUCT_RESTOCK.isRestock(this.parent.sType) === false && checkOptionRequired() == false;
            this.parent.UTIL.setData('bIsProductEmptyOption', bIsProductEmptyOption);

            //추가구성상품 옵션 체크
            var oValidAddProductCount = NEWPRD_ADD_OPTION.isValidAddOptionSelect(this.parent.oForm);

            //관련상품 옵션 체크
            var oValidRelationProductCount = NEWPRD_ADD_OPTION.isValidRelationProductSelect(this.parent.oForm, this.parent.oObject, bIsProductEmptyOption);

            // 개별 구매 관련 검증된 데이터
            var oIndividualValidData = NEWPRD_ADD_OPTION.getIndividualValidCheckData(oValidRelationProductCount, oValidAddProductCount, bIsProductEmptyOption, this.parent.oForm);

            // 옵션 체크
            if (bIsProductEmptyOption === true) {
                // 실패 타입 존재 할 경우
                if (oIndividualValidData.sFailType !== '') {
                    return false;
                }
                //관련상품 및 추가구성상품 단독구매시 유효성 메시지 노출여부 결정(순차 검증진행 추가 or 관련 + 본상품)
                if (NEWPRD_ADD_OPTION.checkIndividualValidAction(oValidRelationProductCount, oValidAddProductCount) === false) {
                    return false;
                }
                // 독립형 일때
                var oExistRequiredSelect = (option_type === 'F') ? $('select[id^="' + product_option_id + '"][required="true"]') : false;
                var sMsg = __('필수 옵션을 선택해주세요.');
                try {
                    // 관련상품 체크 확인 유무
                    if (NEWPRD_ADD_OPTION.checkRelationProduct(this.parent.oObject, this.parent.sType) === false) {
                        return false;
                    }

                    if (oIndividualValidData.isValidInidual === false && EC_SHOP_FRONT_PRODUCT_OPTIONLAYER.setLayer(iProductNo, iCategoryNo, 'normal') === true) {
                        return false;
                    }

                    if (Olnk.getOptionPushbutton($('#option_push_button')) === true ) {
                        var bCheckOption = false;
                        $('select[id^="' + product_option_id + '"]').each(function() {
                            if (Boolean($(this).attr('required')) === true &&  Olnk.getCheckValue($(this).val(),'') === false) {
                                bCheckOption = true;
                                return false;
                            }
                        });
                        if (bCheckOption === false) {
                            sMsg = __('품목을 선택해 주세요.');
                        }
                    }
                } catch (e) {
                }

                // 메인상품 품목데이터 확인
                var isEmptyItemData = ITEM.getItemCode().length == false || ITEM.getItemCode() === false;
                // 추가구성상품 및 관련상품의 개별적 구매
                if (isEmptyItemData === true && oIndividualValidData.isValidInidual === true) {
                    if (NEWPRD_ADD_OPTION.checkVaildIndividualMsg(oIndividualValidData, this.parent.sType, this.parent.oObject) === false) {
                        return false;
                    }

                } else {
                    // 기존 유효성 검증 메세지
                    var sOrginalValidMsg = NEWPRD_ADD_OPTION.checkExistingValidMessage(this.parent.oObject, oValidAddProductCount);
                    //추가구성상품의 선택되어있으면서 본상품의 옵션이 선택 안되었을때
                    sMsg = (sOrginalValidMsg === false) ? sMsg : sOrginalValidMsg;

                    alert(sMsg);
                    if (oExistRequiredSelect !== false) {
                        oExistRequiredSelect.focus();
                    }
                    return false;
                }
            } else {
                // 관련상품 체크 확인
                if (NEWPRD_ADD_OPTION.checkRelationProduct(this.parent.oObject, this.parent.sType) === false) {
                    return false;
                }

                // 단독구매시 메인상품 품절된 상품일때 메시지 처리
                if (NEWPRD_ADD_OPTION.checkSoldOutProductValid(this.parent.oObject) === true) {
                    this.parent.UTIL.appendHidden('is_product_sold_out', 'T');
                    if (NEWPRD_ADD_OPTION.checkVaildIndividualMsg(oIndividualValidData, this.parent.sType, this.parent.oObject) === false) {
                        return false;
                    }
                }
                if (FileOptionManager.checkValidation() === false) {
                    return false;
                }
            }
            if (oValidAddProductCount.result === false) {
                if (oValidAddProductCount.message !== '') {
                    alert(oValidAddProductCount.message);
                    oValidAddProductCount.object.focus();
                }
                return false;
            }
            if (oValidRelationProductCount.result === false) {
                if (oValidRelationProductCount.message !== '') {
                    alert(oValidRelationProductCount.message);
                    oValidRelationProductCount.object.focus();
                }
                return false;
            }
            if (oIndividualValidData.isValidInidual === false) {
                // 추가 옵션 체크 (품목기반 추가옵션일때는 폼제출때 검증 불필요)
                var oParent = (this.parent.sType === 'funding') ? $('.EC-funding-checkbox:checked').parents('.xans-product-funding') : null;
                if (NEWPRD_ADD_OPTION.isItemBasedAddOptionType() !== true && checkAddOption(null, oParent) === false) {
                    this.parent.oDebug.setMessage('checkAddOption Fail');
                    return false;
                }
            }

            if (NEWPRD_ADD_OPTION.checkPerAddInputOption() === false) {
                // 품목별 추가 옵션 입력시 체크
                return false;
            }
            return true;
        },
        isValidAddproduct : function()
        {
            if ($('.add-product-checked:checked').length === 0) {
                return true;
            }

            var aAddProduct = $.parseJSON(add_option_data);
            var aItemCode = new Array();
            var bCheckValidate = true;
            $('.add-product-checked:checked').each(function() {
                if (bCheckValidate === false) {
                    return false;
                }
                var iProductNum = $(this).attr('product-no');
                var iQuantity = $('#add-product-quantity-'+iProductNum).val();
                var aData = aAddProduct[iProductNum];
                if (aData.item_code === undefined) {
                    if (aData.option_type === 'T') {
                        if (aData.item_listing_type === 'S') {
                            var aOptionValue = new Array();
                            $('[id^="addproduct_option_id_'+iProductNum+'"]').each(function() {
                                aOptionValue.push($(this).val());
                            });
                            if (ITEM.isOptionSelected(aOptionValue) === true) {
                                sOptionValue = aOptionValue.join('#$%');
                                aItemCode.push([$.parseJSON(aData.option_value_mapper)[sOptionValue],iQuantity]);
                            } else {
                                bCheckValidate = false;
                                alert(__('필수 옵션을 선택해주세요.'));
                                return false;
                            }
                        } else {
                            var $eItemSelectbox = $('[name="addproduct_option_name_'+iProductNum+'"]');

                            if (ITEM.isOptionSelected($eItemSelectbox.val()) === true) {
                                aItemCode.push([$eItemSelectbox.val(),iQuantity]);
                            } else {
                                bCheckValidate = false;
                                $eItemSelectbox.focus();
                                alert(__('필수 옵션을 선택해주세요.'));
                                return false;
                            }
                        }
                    } else if (Olnk.isLinkageType(sOptionType) === true) {
                        $('[id^="addproduct_option_id_'+iProductNum+'"]').each(function() {
                            alert( $(this).val());
                            if ($(this).attr('required') == true && ITEM.isOptionSelected($(this).val()) === false) {
                                bCheckValidate = false;
                                $(this).focus();
                                alert(__('필수 옵션을 선택해주세요.'));
                                return false;
                            }

                            if (ITEM.isOptionSelected($(this).val()) === true) {
                                aItemCode.push([$(this).val(),iQuantity]);
                            }
                        });
                    } else {
                        $('[id^="addproduct_option_id_'+iProductNum+'"]').each(function() {
                            if ($(this).attr('required') == true && ITEM.isOptionSelected($(this).val()) === false) {
                                bCheckValidate = false;
                                $(this).focus();
                                alert(__('필수 옵션을 선택해주세요.'));
                                return false;
                            }
                            if (ITEM.isOptionSelected($(this).val()) === true) {
                                aItemCode.push([$(this).val(),iQuantity]);
                            }
                        });
                    }
                } else {
                    aItemCode.push([aData.item_code,iQuantity]);
                }
            });
            if (bCheckValidate === false) {
                return false;
            }
            for (var x = 0; x < aItemCode.length; x++) {
                this.UTIL.appendHidden('relation_item[]', aItemCode[x][1]+'||'+aItemCode[x][0]);
            }
        },
        isValidRegularDelivery : function() // 정기 배송
        {
            if (EC_FRONT_JS_CONFIG_SHOP.bRegularConfig === false) {
                return true;
            }
            if ($('.EC_regular_delivery:checked').length === 0 || $('.EC_regular_cycle_count').length === 0) {
                return true;
            }

            if ($('.EC_regular_delivery:checked').val() === 'F') {
                return true;
            }


            if (EC_FRONT_JS_CONFIG_SHOP.bIsLogin === false) {
                alert(__('AVAILABLE.AFTER.LOGIN', 'SHOP.JS.FRONT.NEW.PRODUCT.ACTION'));
                return false;
            }

            var sSubscriptionCycleValue =  $('.EC_regular_cycle_count').val();

            if ($('.EC_regular_cycle_count').attr('type') === 'select-one') {
                sSubscriptionCycleValue =  $('.EC_regular_cycle_count > option:selected').val();
                if (sSubscriptionCycleValue === '') {
                    alert(__('REGULAR.SHIPPING.CYCLE', 'SHOP.JS.FRONT.NEW.PRODUCT.ACTION'));
                    return false;
                }
            } else if ($('.EC_regular_cycle_count').attr('type') === 'hidden') {
                if (sSubscriptionCycleValue === '') {
                    alert(__('REGULAR.SHIPPING.CYCLE', 'SHOP.JS.FRONT.NEW.PRODUCT.ACTION'));
                    return false;
                }
            } else {
                sSubscriptionCycleValue =  $('.EC_regular_cycle_count:checked').val();
                if ($('.EC_regular_cycle_count:checked').length === 0) {
                    alert(__('REGULAR.SHIPPING.CYCLE', 'SHOP.JS.FRONT.NEW.PRODUCT.ACTION'));
                    return false;
                }
            }

            // 기존 하드코딩용
            var regex = /[W|M|Y]$/g;
            if (regex.test(sSubscriptionCycleValue) === false) {
                sSubscriptionCycleValue = sSubscriptionCycleValue + 'W';
            }

            var sSubscriptionCycleCount = sSubscriptionCycleValue.substring(sSubscriptionCycleValue.length-1, -1);
            var sSubscriptionCycle = sSubscriptionCycleValue.slice(-1);

            PRODUCTSUBMIT.UTIL.appendHidden('is_subscription', $('.EC_regular_delivery:checked').val());
            PRODUCTSUBMIT.UTIL.appendHidden('subscription_cycle', sSubscriptionCycle); // 주단위 현재는 고정
            PRODUCTSUBMIT.UTIL.appendHidden('subscription_cycle_count', sSubscriptionCycleCount);

            return true;
        },
        isValidFunding : function()
        {
            if (PRODUCTSUBMIT.sType !== 'funding') {
                return true;
            }

            if (EC_SHOP_FRONT_PRODUCT_FUNDING.isSelectComposition() === false) {
                alert(__('PRODUCT.CONFIGURATION', 'SHOP.JS.FRONT.NEW.PRODUCT.ACTION'));
                return false;
            }

            if (EC_SHOP_FRONT_PRODUCT_FUNDING.isItemSelected() === false) {
                alert(__('SELECT.REQUIRED.OPTION.001', 'SHOP.JS.FRONT.NEW.PRODUCT.ACTION'));
                return false;
            }

            // 최소 주문 수량
            if (EC_SHOP_FRONT_PRODUCT_FUNDING.isValidQuantity() === false) {
                alert(__('APPLY.RESERVATION', 'SHOP.JS.FRONT.NEW.PRODUCT.ACTION'));
                return false;
            }

            return true;
        }
    },
    UTIL : {
        oData : {},
        initialize : function(oParent)
        {
            this.parent = oParent;
            return this;
        },
        appendHidden : function(mParam)
        {
            // 익스플로9 미만의 폴리필
            if (!Array.isArray) {
                Array.isArray = function(arg) {
                    return Object.prototype.toString.call(arg) === '[object Array]';
                };
            }
            if (typeof(mParam) === 'string' && arguments.length === 2) {
                this.setHidden(arguments[0], arguments[1]);
            }
            if (typeof(mParam) === 'object') {
                for (var sName in mParam) {
                    if (Array.isArray(mParam[sName]) === true) {
                        $.each(mParam[sName], function(iIndex, mValue) {
                            PRODUCTSUBMIT.UTIL.setHidden(sName+'[]', mValue);
                        });
                        continue;
                    }
                    this.setHidden(sName, mParam[sName]);
                }
            }
        },
        prependHidden : function(mParam)
        {
            // 익스플로9 미만의 폴리필
            if (!Array.isArray) {
                Array.isArray = function(arg) {
                    return Object.prototype.toString.call(arg) === '[object Array]';
                };
            }
            if (typeof(mParam) === 'string' && arguments.length === 2) {
                this.setHidden(arguments[0], arguments[1], 'prepend');
            }
            if (typeof(mParam) === 'object') {
                for (var sName in mParam) {
                    if (Array.isArray(mParam[sName]) === true) {
                        $.each(mParam[sName], function(iIndex, mValue) {
                            PRODUCTSUBMIT.UTIL.setHidden(sName+'[]', mValue, 'prepend');
                        });
                        continue;
                    }
                    this.setHidden(sName, mParam[sName], 'prepend');
                }
            }
        },
        setHidden : function(sName, sValue, sAppendType)
        {
            //ECHOSTING-9736
            if (typeof(sValue) == "string" && (sName == "option_add[]" || sName.indexOf("item_option_add") === 0)) {
                 sValue = sValue.replace(/'/g,  '\\&#039;');
            }

            // 타입이 string 일때 연산시 단일 따움표 " ' " 문자를 " ` " 액센트 문자로 치환하여 깨짐을 방지
            var oAttribute = {
                'name': sName,
                'type': 'hidden',
                'class' : 'basket-hidden'
            };
            if (sAppendType === 'prepend') {
                this.parent.oForm.prepend($('<input>').attr(oAttribute).val(sValue));

            } else {
                this.parent.oForm.append($('<input>').attr(oAttribute).val(sValue));

            }
        },
        setData : function(sKey, mValue)
        {
            this.oData[sKey] = mValue;
            return true;
        },
        getData : function(sKey)
        {
            return this.oData[sKey];
        }
    },
    DEBUG : {
        aMessage : [],
        initialize : function(oParent)
        {
            this.aMessage = [];
            this.parent = oParent;
            this.bIsDebugConsoleOut = this.parent.bIsDebugConsoleOut;
            return this;
        },
        setInfo : function()
        {
            if (this.bIsDebugConsoleOut === false) {
                return;
            }
            if (window.console) {
                var aMessage = [];
                for (var i = 0; i < arguments.length; i++) {
                    aMessage.push(arguments[i]);
                }
                console.info(aMessage.join(''));
            }
        },
        setMessage : function(sMessage)
        {
            this.aMessage.push(sMessage);
            this.setConsoleDebug();
            throw 'USER_DEFINED_ERROR';
        },
        setConsoleDebug : function()
        {
            if (this.bIsDebugConsoleOut === false) {
                return;
            }
            if (window.console) {
                console.warn(this.aMessage.join('\n'));
            }
        },
        messageOut : function(mError)
        {
            if (this.bIsDebugConsoleOut === true && mError !== 'USER_DEFINED_ERROR') {
                console.error(mError);
            }
            return false;
        }
    }
};


// 상품 옵션 id
var product_option_id = 'product_option_id';

// 추가옵션 id
var add_option_id = 'add_option_';

// 선택된 상품만 주문하기
var sIsPrdOverride = 'F';

//모바일로 접속했는지
var bIsMobile = false;

//분리형 세트상품의 구성상품(품절)에서 SMS 재입고 알림 팝업 호출
function set_sms_restock(iProductNo) {
    if (typeof(iProductNo) === 'undefined') {
        return;
    }

    // 모바일 접속 및 레이어 팝업 여부 확인
    if (typeof(EC_SHOP_FRONT_PRODUCT_SMS_RESTOCK_LAYER) !== 'undefined') {
        var sParam = 'product_no=' + iProductNo;
        if (EC_SHOP_FRONT_PRODUCT_SMS_RESTOCK_LAYER.createSmsRestockLayerDisplayResult(sParam) === true) {
            return;
        }
    }

    window.open('/product/sms_restock.html?product_no=' + iProductNo, 'sms_restock', 200, 100, 459, 490);
}

// 예약 주문 체크
var STOCKTAKINGCHECKRESERVE = {
    checkReserve : function()
    {
        var bIsReserveStatus = $('.option_box_id').filter('[data-item-reserved="R"]').length > 0;
        // 예약 주문이 있는경우
        if (bIsReserveStatus === true) {
            alert(__('ITEMS.MAY.SHIPPED', 'SHOP.JS.FRONT.NEW.PRODUCT.ACTION'));
        }
        return false;
    }
};



function product_submit(sType, sAction, oObj)
{
    PRODUCTSUBMIT.initialize(sType, sAction, oObj);
    if (PRODUCTSUBMIT.isValidRequest() === true && PRODUCTSUBMIT.setBasketForm() === true) {
        PRODUCTSUBMIT.setBasketAjax();
    }
    return;
}

/**
 * 선택한상품만 주문하기
 *
 * @param string sOptionParam 옵션 파람값
 * @param int iProductNo 상품번호
 * @param string sSelectedItemByEtype 상품연동형의 경우 입력되는 선택된옵션 json 데이터
 */
function selectbuy_action(sOptionParam, iProductNo, sSelectedItemByEtype)
{
    var sAddParam = '';
    if (typeof sSelectedItemByEtype != 'undefined' && sSelectedItemByEtype != '') {
        sAddParam = '&' + sSelectedItemByEtype;
    }

    var sUrl = '/exec/front/order/basket/?command=select_prdcnt&product_no=' + iProductNo + '&option_type=' + (window['option_type'] || '') + sOptionParam + sAddParam;

    $.ajax(
    {
        url : sUrl,
        dataType : 'json',
        async : false,
        success : function(data)
        {
            if (data.result > 0) {
                //1+N상품이라면
                if (typeof(EC_SHOP_FRONT_PRODUCT_DEATAIL_BUNDLE) !== 'undefined' && EC_SHOP_FRONT_PRODUCT_DEATAIL_BUNDLE.oBundleConfig.hasOwnProperty(iProductNo) === true) {
                    sIsPrdOverride = 'F';
                } else {
                    if (!confirm(sprintf(__('동일상품이 장바구니에 %s개 있습니다.'), data.result) +'\n'+ __('함께 구매하시겠습니까?'))) {
                        sIsPrdOverride = 'T';
                    }
                }
            }
        }
    });
}

/**
 * 장바구니 담기(카테고리)
 *
 * @param int iProductNo 상품번호
 * @param int iCategoryNo 카테고리 번호
 * @param int iDisplayGroup display_group
 * @param string sBasketType 무이자 설정(A0000:일반, A0001:무이자)
 * @param string iQuantity 주문수량
 * @param string sItemCode 아이템코드
 * @param string sDelvType 배송타입
 */
function category_add_basket(iProductNo, iCategoryNo, iDisplayGroup, sBasketType, bList, iQuantity, sItemCode, sDelvType, sProductMaxType, sProductMax)
{
    if (iQuantity == undefined) {
        iQuantity = 1;
    }

    if (bList == true) {
        try {
            if ($.type(EC_ListAction) == 'object') {
                EC_ListAction.getOptionSelect(iProductNo, iCategoryNo, iDisplayGroup, sBasketType);
            }
        } catch (e) {
            alert(__('장바구니에 담을 수 없습니다.'));
            return false;
        }
    } else {
        var sAction = '/exec/front/order/basket/';
        var sData = 'command=add&quantity=' + iQuantity + '&product_no=' + iProductNo + '&main_cate_no=' + iCategoryNo + '&display_group='
                + iDisplayGroup + '&basket_type=' + sBasketType + '&delvtype=' + sDelvType + '&product_max_type=' + sProductMaxType + '&product_max=' + sProductMax;
        // 장바구니 위시리스트인지 여부
        // console.log("ㅇ야야야양야", sData);
        if (typeof (basket_page_flag) != 'undefined' && basket_page_flag == 'T') {
            sData = sData + '&basket_page_flag=' + basket_page_flag;
        }

        // 뉴상품 옵션 선택 구매
        sData = sData + '&selected_item[]='+iQuantity+'||' + sItemCode + '000A';
		console.log("sData", sData);
        console.log("sAction : ", sAction);
        console.log("sBasketType :", sBasketType)
        action_basket(1, 'category', sAction, sData, sBasketType);
    }
}

/**
 * 구매하기
 *
 * @param int iProductNo 상품번호
 * @param int iCategoryNo 카테고리 번호
 * @param int iDisplayGroup display_group
 * @param string sBasketType 무이자 설정(A0000:일반, A0001:무이자)
 * @param string iQuantity 주문수량
 */
function add_order(iProductNo, iCategoryNo, iDisplayGroup, sBasketType, iQuantity)
{
    if (iQuantity == undefined) {
        iQuantity = 1;
    }

    var sAction = '/exec/front/order/basket/';
    var sData = 'command=add&quantity=' + iQuantity + '&product_no=' + iProductNo + '&main_cate_no=' + iCategoryNo + '&display_group='
            + iDisplayGroup + '&basket_type=' + sBasketType;

    action_basket(1, 'wishlist', sAction, sData, sBasketType);
}

/**
 * 레이어 생성
 *
 * @param layerId
 * @param sHtml
 */
function create_layer(layerId, sHtml, oTarget)
{
    //아이프레임일때만 상위객체에 레이어생성
    if (oTarget === parent) {
        oTarget.$('#' + layerId).remove();
        oTarget.$('body').append($('<div id="' + layerId + '" style="position:absolute; z-index:10001;"></div>'));
        oTarget.$('#' + layerId).html(sHtml);
        oTarget.$('#' + layerId).show();

        //옵션선택 레이어 프레임일 경우 그대로 둘경우 영역에대해 클릭이 안되는부분때문에 삭제처리
        if (typeof(bIsOptionSelectFrame) !== 'undefined' && bIsOptionSelectFrame === true) {
            parent.CAPP_SHOP_NEW_PRODUCT_OPTIONSELECT.closeOptionCommon();
        }
    } else {
        $('#' + layerId).remove();
        $('<div id="' + layerId + '"></div>').appendTo('body');
        $('#' + layerId).html(sHtml);
        $('#' + layerId).show();
    }
    // set delvtype to basket
    try {
        $(".xans-product-basketadd").find("a[href='/order/basket.html']").attr("href", "/order/basket.html?delvtype=" + delvtype);
    } catch (e) {}
    try {
        $(".xans-order-layerbasket").find("a[href='/order/basket.html']").attr("href", "/order/basket.html?delvtype=" + delvtype);
    } catch (e) {}
}

/**
 * 레이어 위치 조정
 *
 * @param layerId
 */
function position_layer(layerId)
{
    var obj = $('#' + layerId);

    var x = 0;
    var y = 0;
    try {
        var hWd = parseInt(document.body.clientWidth / 2 + $(window).scrollLeft());
        var hHt = parseInt(document.body.clientHeight / 2 + $(window).scrollTop() / 2);
        var hBW = parseInt(obj.width()) / 2;
        var hBH = parseInt(hHt - $(window).scrollTop());

        x = hWd - hBW;
        if (x < 0) x = 0;
        y = hHt - hBH;
        if (y < 0) y = 0;

    } catch (e) {}

    obj.css(
    {
        position : 'absolute',
        display : 'block',
        top : y + "px",
        left : x + "px"
    });

}


// 장바구니 담기 처리중인지 체크 - (ECHOSTING-85853, 2013.05.21 by wcchoi)
var bIsRunningAddBasket = false;

/**
 * 장바구니/구매 호출
 *
 * @param sType
 * @param sGroup
 * @param sAction
 * @param sParam
 * @param aBasketType
 * @param bNonDuplicateChk
 */
function action_basket(sType, sGroup, sAction, sParam, sBasketType, bNonDuplicateChk)
{
    // 장바구니 담기에 대해서만 처리
    // 중복 체크 안함 이 true가 아닐경우(false나 null)에만 중복체크
    if (sType == 2 && bNonDuplicateChk != true) {
        if (bIsRunningAddBasket) {
            // alert(__('처리중입니다. 잠시만 기다려주세요.'));
            console.log("처리중..!!")
            return;
        } else {
            bIsRunningAddBasket = true;
        }
    }

    if (sType == 'sms_restock') {
        action_sms_restock(sParam);
        return;
    }

    if (sType == 'email_restock') {
        action_email_restock();
        return;
    }

    if (sType == 2 && EC_SHOP_FRONT_BASKET_VALIID.isBasketProductDuplicateValid(sParam) === false) {
        bIsRunningAddBasket = false;
        return false;
    }

    $.post(sAction, sParam, function(data)
    {
        Basket.isInProgressMigrationCartData(data);

        basket_result_action(sType, sGroup, data, sBasketType, sParam);

        bIsRunningAddBasket = false; // 장바구니 담기 처리 완료

    }, 'json');

    // 관심상품 > 전체상품 주문 ==> 장바구니에 들어가기도 전에 /exec/front/order/order/ 호출하게 되어 오류남
    // async : false - by wcchoi
    // 다시 async모드로 원복하기로 함 - ECQAINT-7857
    /*
    $.ajax({
        type: "POST",
        url: sAction,
        data: sParam,
        async: false,
        success: function(data) {
            basket_result_action(sType, sGroup, data, sBasketType);
            bIsRunningAddBasket = false; // 장바구니 담기 처리 완료
        },
        dataType: 'json'
    });
    */
}

/**
 * 리스트나 상세에서 장바구니 이후의 액션을 처리하고 싶을 경우 이변수를 파라미터로 지정해줌
 */
var sProductLink = null;
/**
 * 장바구니 결과 처리
 *
 * @param sType
 * @param sGroup
 * @param aData
 * @param sBasketType
 * @param sParam
 */
function basket_result_action(sType, sGroup, aData, sBasketType, sParam)
{
    if (aData == null) {
        return;
    }

    var sHtml = '';
    var bOpener = false;
    var oTarget = CAPP_SHOP_FRONT_COMMON_UTIL.findTargetFrame();
    var bIsProgressLink = true;

    var oCheckZoomPopUp = {
        isPopUp : function()
        {
            var bIsPopup = false;
            if (bIsProgressLink === true || (typeof(sIsPopUpWindow) !== "undefined" && sIsPopUpWindow === "T")) {
                if (CAPP_SHOP_FRONT_COMMON_UTIL.isPopupFromThisShopFront() === true) {
                    bIsPopup = true;
                }
            }
            return bIsPopup;
        }
    };

    //var oOpener = findMainFrame();
    //var sLocation = location;
    var bBuyLayer = false;

    // 쿠폰적용 가능상품 팝업 -> 상품명 클릭하여 상품상세 진입 -> 바로 구매 시,
    // 쿠폰적용 가능상품 팝업이 열려있으면 주문서 페이지로 이동되지 않고, 창이 닫이는 이슈 처리(ECHOSTING-266906)
    if (sType == 1 && window.opener !== null && oTarget.couponPopupClose !== undefined) {
        bOpener = true;
    }

    if (aData.result >= 0) {
        try {
            bBuyLayer = ITEM.setBodyOverFlow(true);
        } catch (e) {}

        // 네이버 페이
        if (sType == 'naver_checkout') {
            var sUrl = '/exec/front/order/navercheckout';

            // inflow param from naver common JS to Checkout Service
            try {
                if (typeof(wcs) == 'object') {
                    var inflowParam = wcs.getMileageInfo();
                    if (inflowParam != false) {
                        sUrl = sUrl + '?naver_inflow_param=' + inflowParam;
                    }
                }
            } catch (e) {}

            if (is_order_page == 'N' && bIsMobile == false) {
                window.open(sUrl);
                return false;
            } else {
                oTarget.location.href = sUrl;
                return false;
            }
        }

        // 배송유형
        var sDelvType = '';
        if (typeof(delvtype) != 'undefined') {
            if (typeof(delvtype) == 'object') {
                sDelvType = $(delvtype).val();
            } else {
                sDelvType = delvtype;
            }
        } else if (aData.sDelvType != null) {
            sDelvType = aData.sDelvType;
        }

        if (sType == 1 || sType === 'funding') { // 바로구매하기
            if (aData.isLogin == 'T') { // 회원
                if (bOpener === true) {
                    // 쿠폰적용 가능상품 팝업이 열려있을 때, 팝업이 아닌 현재 페이지(상품상세)가 주문서 페이지로 이동되도록 처리(ECHOSTING-266906)
                    self.location.href = "/order/orderform.html?basket_type=" + sBasketType + "&delvtype=" + sDelvType;
                } else {
                    oTarget.location.href = "/order/orderform.html?basket_type=" + sBasketType + "&delvtype=" + sDelvType;
                }
            } else { // 비회원
                sUrl = '/member/login.html?noMember=1&returnUrl=' + encodeURIComponent('/order/orderform.html?basket_type=' + sBasketType + "&delvtype=" + sDelvType);
                sUrl += '&delvtype=' + sDelvType;

                oTarget.location.href = sUrl;
            }
        } else if (sType === 'direct_buy') {
            EC_SHOP_FRONT_ORDERFORM_DIRECTBUY.proc.setOrderForm(TotalAddSale.getDirectBuyParam());
            return;
        } else { // 장바구니담기
            var oData = EC_PlusAppBridge.unserialize(sParam);
            EC_PlusAppBridge.addBasket(oData);

            if (sGroup == 'detail') {
                if (mobileWeb === true) {
                    if (typeof (basket_page_flag) != 'undefined' && basket_page_flag == 'T') {
                        oTarget.reload();
                        return;
                    }
                }

                var oSearch = /basket.html/g;
                //레이어가 뜨는 설정이라면 페이지이동을 하지 않지만
                //레이어가 뜨어라고 확대보기팝업이라면 페이지 이동

                if (typeof(aData.isDisplayBasket) != "undefined" && aData.isDisplayBasket == 'T' && oSearch.test(window.location.pathname) == false) {
                    if ((typeof(aData.isDisplayLayerBasket) != "undefined" && aData.isDisplayLayerBasket == 'T') && (typeof(aData.isBasketPopup) != "undefined" && aData.isBasketPopup == 'T')) {
                        layer_basket2(sDelvType, oTarget);
                    } else {
                        //ECQAINT-14010 Merge이슈 : oTarget이 정상
                        layer_basket(sDelvType, oTarget);
                    }

                    bIsProgressLink = false;
                }

                //확인 레이어설정이 아니거나 확대보기 팝업페이지라면 페이지이동
                if (oCheckZoomPopUp.isPopUp() === true || bIsProgressLink === true) {
                    oTarget.location.href = "/order/basket.html?"  + "&delvtype=" + sDelvType;
                }
            } else {
                // from으로 위시리스트에서 요청한건지 판단.
                var bIsFromWishlist = false;
                if (typeof(aData.from) != "undefined" && aData.from == "wishlist") {
                    bIsFromWishlist = true;
                }

                // 장바구니 위시리스트인지 여부
                if (typeof (basket_page_flag) != 'undefined' && basket_page_flag == 'T' || bIsFromWishlist == true) {
                    oTarget.reload();
                    return;
                }
                if (typeof(aData.isDisplayBasket) != "undefined" && aData.isDisplayBasket === 'T' ) {
                    if ((typeof(aData.isDisplayLayerBasket) != "undefined" && aData.isDisplayLayerBasket == 'T') && (typeof(aData.isBasketPopup) != "undefined" && aData.isBasketPopup == 'T')) {
                        layer_basket2(sDelvType, oTarget);
                    } else {
                        layer_basket(sDelvType, oTarget);
                    }
                } else {
                    location.href = "/order/basket.html?"  + "&delvtype=" + sDelvType;
                }
            }
        }
    } else {
        var msg = aData.alertMSG.replace('\\n', '\n');

        // 디코딩 하기전에 이미 인코딩 된 '\n' 문자를 실제 개행문자로 변환
        // 목록에서 호출될 경우에는 인코딩 되지 않은 '\n' 문자 그대로 넘어오므로 추가 처리
        msg = msg.replace(/%5Cn|\\n/g, '%0A');

        try {
            msg = decodeURIComponent(msg);
        } catch (err) {
            msg = unescape(msg);
        }

        alert(msg);

        if (aData.result == -111 && sProductLink !== null) {
            oTarget.href = '/product/detail.html?' + sProductLink;
        }
        if (aData.result == -101 || aData.result == -103) {
            sUrl = '/member/login.html?noMember=1&returnUrl=' + encodeURIComponent(oTarget.location.href);
            oTarget.location.href = sUrl;
        }

        if (aData.result == -113) {
            if (typeof(delvtype) != 'undefined') {
                if (typeof(delvtype) == 'object') {
                    sDelvTypeForMove = $(delvtype).val();
                } else {
                    sDelvTypeForMove = delvtype;
                }
                oTarget.location.href = "/order/basket.html?"  + "&delvtype=" + sDelvTypeForMove;
            } else {
                oTarget.location.href = "/order/basket.html";
            }
        }
    }

    // ECHOSTING-130826 대응, 쿠폰적용상품 리스트에서 옵션상품(뉴옵션)담기 처리시, 화면이 자동으로 닫히지 않아 예외처리 추가
    if (oTarget.couponPopupClose !== undefined) {
        oTarget.couponPopupClose();
    }
    if (oCheckZoomPopUp.isPopUp() === true && bOpener === false) {
        self.close();
    } else {
        // ECHOSTING-130826 대응, 특정 화면에서 장바구니에 상품 담기 시 async 가 동작하지 않아,
        // 장바구니 담기처리 후처리 구간에 async 강제 실행추가
        // 쿠폰 적용 가능상품 리스트 에서 장바구니 담기시, 여기서 실행할 경우 js 오류가 발생하여, 함수 상단에 별도 처리 추가
        if (typeof(oTarget) !== 'undefined' && typeof(oTarget.CAPP_ASYNC_METHODS) !== 'undefined') {
            oTarget.CAPP_ASYNC_METHODS.init();
        } else {
            CAPP_ASYNC_METHODS.init();
        }
    }
}

function layer_basket(sDelvType, oTarget)
{
    var oProductName = null;
    if (typeof(product_name) !== 'undefined') {
        oProductName = {'product_name' : product_name};
    }
    $('.xans-product-basketoption').remove();
    $.get('/product/add_basket.html?delvtype='+sDelvType, oProductName, function(sHtml)
        {
            sHtml = sHtml.replace(/<script.*?ind-script\/optimizer.php.*?<\/script>/g, '');
            // scirpt를 제거하면서 document.ready의 Async 모듈이 실행안되서 강제로 실행함
            CAPP_ASYNC_METHODS.init();
            create_layer('confirmLayer', sHtml, oTarget);
        });
}

function layer_basket2(sDelvType, oTarget)
{
    $('.xans-order-layerbasket').remove();
    var oTarget = CAPP_SHOP_FRONT_COMMON_UTIL.findTargetFrame();
    $.get('/product/add_basket2.html?delvtype=' + sDelvType + '&layerbasket=T', '', function(sHtml)
    {
        sHtml = sHtml.replace(/<script.*?ind-script\/optimizer.php.*?<\/script>/g, '');

        //scirpt를 제거하면서 document.ready의 Async 모듈이 실행안되서 강제로 실행함
        CAPP_ASYNC_METHODS.init();
        create_layer('confirmLayer', sHtml, oTarget);
    });
}

function layer_wishlist(oTarget)
{
    $('.layerWish').remove();
    $.get('/product/layer_wish.html','' ,function(sHtml)
    {
        sHtml = sHtml.replace(/<script.*?ind-script\/optimizer.php.*?<\/script>/g, '');
        create_layer('confirmLayer', sHtml, oTarget);
    });
}

function go_basket()
{
    var oTarget = CAPP_SHOP_FRONT_COMMON_UTIL.findTargetFrame();
    oTarget.location.href = '/order/basket.html';
    if (CAPP_SHOP_FRONT_COMMON_UTIL.isPopupFromThisShopFront() === true) {
        self.close();
    }
}

function move_basket_page()
{
    var sLocation = location;
    try {

        sLocation = ITEM.setBodyOverFlow(location);
    } catch (e) {}

    sLocation.href = '/order/basket.html';
}

/**
 * 이미지 확대보기 (상품상세 버튼)
 */
function go_detail()
{
    var sUrl = '/product/detail.html?product_no=' + iProductNo;
    var oTarget = CAPP_SHOP_FRONT_COMMON_UTIL.findTargetFrame();

    if (typeof(iCategoryNo) != 'undefined') {
        sUrl += '&cate_no='+iCategoryNo;
    }

    if (typeof(iDisplayGroup) != 'undefined') {
        sUrl += '&display_group='+iDisplayGroup;
    }

    oTarget.location.href = sUrl;
    if (CAPP_SHOP_FRONT_COMMON_UTIL.isPopupFromThisShopFront() === true) {
        self.close();
    }
}

/**
 * 바로구매하기/장바구니담기 Action  - 판매정보 > 구매제한
 */
function check_action_nologin()
{
    alert(__('CAN.PURCHASE.GROUP', 'GLOBAL.BUY.LIMIT'));
    return false;
}

/**
 * 바로구매하기 Action  - 불량회원 구매제한
 */
function check_action_block(sMsg)
{
    if (sMsg == '' ) {
        sMsg = __('쇼핑몰 관리자가 구매 제한을 설정하여 구매하실 수 없습니다.');
    }
    alert(sMsg);
}

/**
 * 관심상품 등록 - 로그인하지 않았을 경우
 */
function add_wishlist_nologin(sUrl)
{

    alert(__('로그인 후 관심상품 등록을 해주세요.'));

    btn_action_move_url(sUrl);
}

/**
 * 바로구매하기 / 장바구니 담기 / 관심상품 등록 시 url 이동에 사용하는 메소드
 * @param sUrl 이동할 주소
 */
function btn_action_move_url(sUrl)
{
    var oTarget = CAPP_SHOP_FRONT_COMMON_UTIL.findTargetFrame();

    sLocation = ITEM.setBodyOverFlow(location);

    sUrl += '?returnUrl=' + encodeURIComponent(oTarget.location.pathname + oTarget.location.search);
    oTarget.location.replace(sUrl);
}

/**
 * return_url 없이 url 이동에 사용하는 메소드
 * @param sUrl 이동할 주소
 */
function btn_action_move_no_return_url(sUrl)
{
    var oTarget = CAPP_SHOP_FRONT_COMMON_UTIL.findTargetFrame();
    oTarget.location.replace(sUrl);
}

/**
 * 관심상품 등록 - 파라미터 생성
 * @param bIsUseOptionSelect 장바구니옵션선택 새모듈 사용여부(basket_option.html, Product_OptionSelectLayer)
 */
function add_wishlist(sMode, bIsUseOptionSelect)
{
    var sUrl = '//' + location.hostname;
    sUrl += '/exec/front/Product/Wishlist/';
    var param = location.search.substring(location.search.indexOf('?') + 1);
    sParam = param + '&command=add';
    sParam += '&referer=' + encodeURIComponent('//' + location.hostname + location.pathname + location.search);

    add_wishlist_action(sUrl, sParam, sMode, bIsUseOptionSelect);
}

var bWishlistSave = false;
/**
 * @param bIsUseOptionSelect 장바구니옵션선택 새모듈 사용여부(basket_option.html, Product_OptionSelectLayer)
 */
function add_wishlist_action(sAction, sParam, sMode, bIsUseOptionSelect)
{
    //연동형 옵션 여부
    var bIsOlinkOption = Olnk.isLinkageType(sOptionType);
    if (bWishlistSave === true) {
        return false;
    }
    var required_msg = __('품목을 선택해 주세요.');
    if (sOptionType !== 'F') {
        var aItemCode = ITEM.getWishItemCode();
    } else {
        var aItemCode = null;
    }
    var sSelectedItemByEtype   = '';

    var frm = $('#frm_image_zoom');
    frm.find(":hidden").remove();
    frm.attr('method', 'POST');
    frm.attr('action', '/' + sAction);

    if (bIsOlinkOption === true) {
        if (isNewProductSkin() === false) {
            sItemCode = Olnk.getSelectedItemForWishOldSkin(sProductCode, $('[id^="product_option_id"]'));

            if (sItemCode !== false) {
                frm.append(getInputHidden('selected_item_by_etype[]', $.toJSON(sItemCode)));
                //sSelectedItemByEtype += 'selected_item_by_etype[]='+$.toJSON(sItemCode) + '&';
                aItemCode.push (sItemCode);
            }

        } else {
            $('.soldout_option_box_id,.option_box_id').each(function(i) {
                sItemCode = Olnk.getSelectedItemForWish(sProductCode, $(this));
                if (sItemCode.bCheckNum === false) {
                    sItemCode = Olnk.getProductAllSelected(sProductCode ,  $(this) , 1);
                }
                frm.append(getInputHidden('selected_item_by_etype[]', $.toJSON(sItemCode)));
                //sSelectedItemByEtype += 'selected_item_by_etype[]='+$.toJSON(sItemCode) + '&';
                aItemCode.push (sItemCode);
            });

            // 전부 선택인 경우 필요값 생성한다.
            if ( sSelectedItemByEtype === '') {
                iQuantity = (buy_unit >= product_min ? buy_unit : product_min);
                aItemValueNo = Olnk.getProductAllSelected(sProductCode , $('[id^="product_option_id"]') , 1);
                if ( aItemValueNo !== false ) {
                    frm.append(getInputHidden('selected_item_by_etype[]', $.toJSON(aItemValueNo)));
                    //sSelectedItemByEtype += 'selected_item_by_etype[]='+$.toJSON(aItemValueNo) + '&';
                    aItemCode.push (aItemValueNo);
                }
            }

            NEWPRD_ADD_OPTION.setItemAddOptionName(frm);
            $('.option_box_id').each(function(i) {

                iQuantity = $('#' + $(this).attr('id').replace('id','quantity')).val();
                _aItemValueNo = Olnk.getSelectedItemForBasket(sProductCode, $(this), iQuantity);

                if (_aItemValueNo.bCheckNum === false) { // 옵션박스는 있지만 값이 선택이 안된경우
                    _aItemValueNo = Olnk.getProductAllSelected(sProductCode , $(this) , iQuantity);
                }

                var oItem = $('[name="item_code[]"]:eq('+i+')');
                var sItemCode = sProductCode + '000A_' + i ;

                //품목별 추가옵션 셋팅
                var ePerAddOption = $('.option_products .option').eq(i).find(".input_addoption:visible");
                if (ePerAddOption.length > 0) { // 옵션 박스안에서 개별 입력시
                    NEWPRD_ADD_OPTION.setItemPerAddOptionData(sItemCode, ePerAddOption, frm);
                } else {
                    var sItemAddOption = NEWPRD_ADD_OPTION.getAddOptionValue(oItem.attr('data-item-add-option'));
                    NEWPRD_ADD_OPTION.setItemAddOption(sItemCode, sItemAddOption, frm);
                }
            });


        }

        if (bIsUseOptionSelect !== true && (/^\*+$/.test(aItemCode) === true  || aItemCode == '')) {
            alert(required_msg);
            return false;
        }
    } else {
        if (isNewProductSkin() === true) {
            //품목별 추가옵션 이름 셋팅
            NEWPRD_ADD_OPTION.setItemAddOptionName(frm);

            $('[name="quantity_opt[]"][id^="option_box"]').each(function(i) {

                var oItem = $('[name="item_code[]"]:eq('+i+')');
                var sItemCode = oItem.val();

                //품목별 추가옵션 셋팅
                var ePerAddOption = $('.option_product').eq(i).find(".input_addoption:visible");
                if (ePerAddOption.length > 0) { // 옵션 박스안에서 개별 입력시
                    NEWPRD_ADD_OPTION.setItemPerAddOptionData(sItemCode, ePerAddOption, frm);
                } else {
                    var sItemAddOption = NEWPRD_ADD_OPTION.getAddOptionValue(oItem.attr('data-item-add-option'));
                    NEWPRD_ADD_OPTION.setItemAddOption(sItemCode, sItemAddOption, frm);
                }

            });

        }
    }

    if (aItemCode === false && bIsUseOptionSelect !== true) {
        if (EC_SHOP_FRONT_PRODUCT_OPTIONLAYER.setLayer(iProductNo, iCategoryNo, 'normal') === true) {
            return;
        }
        alert(required_msg);
        return false;
    }


    if (aItemCode !== null) {
        var sItemCode = '';
        var aTemp = [];

        if (Olnk.isLinkageType(sOptionType) === true) {
            frm.append(getInputHidden('selected_item[]', '000A'));
            //sParam = sParam + '&' + 'selected_item[]=000A&' + sSelectedItemByEtype;
        } else {
            for (var x in aItemCode) {
                try {
                    var opt_id = aItemCode[x].substr(aItemCode[x].length-4, aItemCode[x].length);
                    frm.append(getInputHidden('selected_item[]', opt_id));
                    //aTemp.push('selected_item[]='+opt_id);
                }catch(e) {}
            }
        }
    }

    if (typeof(iProductNo) !== undefined && iProductNo !== '' && iProductNo !== null) {
        frm.append(getInputHidden('product_no', iProductNo));
    }
    frm.append(getInputHidden('option_type', sOptionType));
    //sParam = sParam + '&product_no='+iProductNo;


    // 추가 옵션 체크 (품목기반 추가옵션일때는 폼제출때 검증 불필요)
    //뉴모듈사용시에는 체크안함
    if (bIsUseOptionSelect !== true && (NEWPRD_ADD_OPTION.isItemBasedAddOptionType() !== true && checkAddOption() === false)) {
        return false;
    }

    // 추가옵션
    var aAddOptionStr = new Array();
    var aAddOptionRow = new Array();
    if (add_option_name) {
        for (var i=0;i<add_option_name.length;i++) {
            if (add_option_name[i] !== '' && $('#' + add_option_id + i).length > 0) {
                aAddOptionRow.push(add_option_name[i] + '*' + $('#' + add_option_id + i).val());
            }
        }
    }
    aAddOptionStr.push(aAddOptionRow);

    // 단일 상품의 개별 추가 입력 옵션 처리
    if (has_option === 'F' && typeof add_option_input !== 'undefined') {
        NEWPRD_ADD_OPTION.addItem(ITEM.getItemCode()[0]);
        var iAddOptionIndex = NEWPRD_ADD_OPTION.getLastIndex();
        for (var x in add_option_input) {
            if (add_option_input.hasOwnProperty(x) === true) {
                NEWPRD_ADD_OPTION.addCustomOption(iAddOptionIndex, {
                    type: 'text',
                    value: $('#' + add_option_input[x].id).val(),
                    info: add_option_input[x].info
                }, 'input');
            }
        }
    }

    frm.append(getInputHidden('add_option', aAddOptionStr.join('|')));
    //sParam += '&add_option=' + encodeURIComponent(aAddOptionStr.join('|'));

    // 파일첨부 옵션 유효성 체크
    if (bIsUseOptionSelect !== true && FileOptionManager.checkValidation() === false) return;

    bWishlistSave = true;

    // 파일첨부 옵션의 파일업로드가 없을 경우 바로 관심상품 넣기
    if (FileOptionManager.existsFileUpload() === false) {
        NEWPRD_ADD_OPTION.setItemPerAddOptionForm(frm);
        sParam = sParam + '&' + frm.serialize();
        add_wishlist_request(sParam, sMode);
    // 파일첨부 옵션의 파일업로드가 있으면
    } else{
        FileOptionManager.upload(function(mResult){
            // 파일업로드 실패
            if (mResult===false) {
                bWishlistSave = false;
                return false;
            }

            // 파일업로드 성공
            for (var sId in mResult) {
                // 해당 품목에 파일 첨부 옵션 항목 추가
                NEWPRD_ADD_OPTION.pushFileList(sId, mResult);
                frm.append(getInputHidden(sId, FileOptionManager.encode(mResult[sId])));
                //sParam += '&'+sId+'='+FileOptionManager.encode(mResult[sId]);
            }


            NEWPRD_ADD_OPTION.setItemPerAddOptionForm(frm);

            sParam = sParam + '&' + frm.serialize();
            add_wishlist_request(sParam, sMode);
        });
    }
}

function add_wishlist_request(sParam, sMode)
{
    var sUrl = '/exec/front/Product/Wishlist/';

    $.post(
        sUrl,
        sParam,
        function(data) {
            if (sMode != 'back') {
                add_wishlist_result(data);
            }
            bWishlistSave = false;
        },
        'json');
}

function add_wishlist_result(aData, aPrdData)
{
    var oTarget = CAPP_SHOP_FRONT_COMMON_UTIL.findTargetFrame();
    var agent = navigator.userAgent.toLowerCase();

    if (aData == null) return;
    //새로운 모듈 사용시에는 중복되어있어도 처리된것으로 간주함.. 왜 그렇게하는지는 이해불가
    if (aData.result == 'SUCCESS' || (aData.bIsUseOptionSelect === true && aData.result === 'NO_TARGET')) {

        bBuyLayer = ITEM.setBodyOverFlow(true);

        if (typeof iProductNo !== 'undefined') {
            var iSendProductNo = iProductNo;
        } else if (typeof aPrdData !== 'undefined') {
            var iSendProductNo = aPrdData.product_no;
        }

        if (iSendProductNo) {
            EC_PlusAppBridge.addWishList(iSendProductNo);
        }

        if (CAPP_ASYNC_METHODS.hasOwnProperty('WishList') === true && typeof iProductNo !== 'undefined') {
            // 관심상품 추가시 sessionStorage 추가
            CAPP_ASYNC_METHODS.WishList.setSessionStorageItem(iProductNo, aData.command);
        }

        if (CAPP_ASYNC_METHODS.hasOwnProperty('Wishcount') === true) {
            CAPP_ASYNC_METHODS.Wishcount.restoreCache();
            CAPP_ASYNC_METHODS.Wishcount.execute();
        }

        if (aData.confirm == 'T') {
            layer_wishlist(CAPP_SHOP_FRONT_COMMON_UTIL.findTargetFrame());
            return;
        }

        alert(__('관심상품으로 등록되었습니다.'));
    } else if (aData.result == 'ERROR') {
        alert(__('실패하였습니다.'));
    } else if (aData.result == 'NOT_LOGIN') {
        alert(__('회원 로그인 후 이용하실 수 있습니다.'));
    } else if (aData.result == 'INVALID_REQUEST') {
        alert(__('파라미터가 잘못되었습니다.'));
    } else if (aData.result == 'NO_TARGET') {
        alert(__('이미 등록되어 있습니다.'));
    } else if (aData.result == 'INVALID_PRODUCT') {
        alert(__('파라미터가 잘못되었습니다.'));
    }
}

/**
* 추가된 함수
* 해당 value값을 받아 replace 처리
* @param string sValue value
* @return string replace된 sValue
*/
function replaceCheck(sName,sValue)
{
   //ECHOSTING-9736
   if (typeof(sValue) == "string" && (sName == "option_add[]" || sName.indexOf("item_option_add") === 0)) {
        sValue = sValue.replace(/'/g,  '\\&#039;');
   }
   // 타입이 string 일때 연산시 단일 따움표 " ' " 문자를 " ` " 액센트 문자로 치환하여 깨짐을 방지
   return sValue;
}


/**
 * name, value값을 받아 input hidden 태그 반환
 *
 * @param string sName name
 * @param string sValue value
 * @return string input hidden 태그
 */
function getInputHidden(sName, sValue)
{
    sValue = replaceCheck(sName,sValue); // 추가된 부분 (replaceCheck 함수 호출)
    return $('<input>').attr({'type':'hidden', 'name':sName}).val(sValue);
}


/**
 * 필수옵션이 선택되었는지 체크
 *
 * @return bool 필수옵션이 선택되었다면 true, 아니면 false 반환
 */
function checkOptionRequired(sReq)
{
    var bResult = true;
    // 옵션이 없다면 필수값 체크는 필요없음.
    if (has_option === 'F') {
        return bResult;
    }
    var sTargetOptionId = product_option_id;
    if (sReq != null) {
        sTargetOptionId = sReq;
    }

    if (option_type === 'F') {
        // 단독구성
        var iOptionCount = $('select[id^="' + sTargetOptionId + '"][required="true"]').length;
        if (iOptionCount > 0) {
            if (ITEM.getItemCode() === false) {
                bResult = false;
                return false;
            }

            var aRequiredOption = new Object();
            var aItemCodeList = ITEM.getItemCode();
            // 필수 옵션정보와 선택한 옵션 정보 비교
            for (var i=0; i<aItemCodeList.length; i++) {
                var sTargetItemCode =  aItemCodeList[i];
                $('select[id^="' + sTargetOptionId + '"][required="true"] option').each(function() {
                    if ($(this).val() == sTargetItemCode) {
                        var sProductOptionId = $(this).parent().attr('id');
                        aRequiredOption[sProductOptionId] = true;
                    }
                });

            }
            // 필수옵션별 개수보다 선택한 옵션개수가 적을경우 리턴
            if (iOptionCount > Object.size(aRequiredOption)) {
                bResult = false;
                return bResult;
            }
        }
    } else {
        if (Olnk.isLinkageType(sOptionType) === true) {
            if (isNewProductSkin() === false) {
                $('select[id^="' + product_option_id + '"][required="true"]').each(function() {
                    var sel = parseInt($(this).val());

                    if (isNaN(sel) === true) {
                        $(this).focus();
                        bResult = false;
                        return false;
                    }
                });
                // 추가 구매 check
                $('.' + $.data(document, 'multiple_option_select_class')).each(function(i)
                {
                    if (Boolean($(this).attr('required')) === true) {
                        var sel = parseInt($(this).val());

                        if (isNaN(sel) === true) {
                            $(this).focus();
                            bResult = false;
                            return false;
                        }
                    }
                });
            } else { // 연동형 사용중이면서 뉴스킨
                var aItemCodeList = ITEM.getItemCode();
                if (aItemCodeList === false) {
                    bResult = false;
                    return false;
                }
                // 연동형 옵션의 버튼 사용중이지만 선택된 품목이 없는 경우 , 뉴스킨에서만 동작해야 함.
                if ( Olnk.getOptionPushbutton($('#option_push_button')) === true  && $('.option_box_id').length === 0 ) {
                    bResult = false;
                    return false;
                }
            }
            return bResult;
        }
        if (ITEM.getItemCode() === false) {
            bResult = false;
            return false;
        }
        // 조합구성
        if (item_listing_type == 'S') {
            // 분리선택형
            var eTarget = $.parseJSON(option_value_mapper);
            for (var x in eTarget) {
                if (ITEM.getItemCode().indexOf(eTarget[x]) > -1) {
                    bResult = true;
                    break;
                } else {
                    bResult = false;
                }
            }
            if (bResult === false) {
                bResult = false;
                return false;
            }
        } else {
            $('select[id^="' + product_option_id + '"][required="true"]').each(function() {
                var eTarget = $(this).find('option[value!="*"][value!="**"]');
                bResult = false;
                eTarget.each(function() {
                    if (ITEM.getItemCode().indexOf($(this).val()) > -1) {
                        bResult = true;
                        return false;
                    }
                });
                if (bResult === false) {
                    return false;
                }
            });
        }
    }

    return bResult;
}

/**
 * 추가 옵션 입력값 체크
 *
 * @return bool 모든 추가옵션에 값이 입력되었다면 true, 아니면 false
 *
 */
/**
 * 추가 입력 옵션의 값 체크
 * @param string sReq 셀렉터를 기본값 이외로 사용할 경우
 * @param object oParent 전체 인풋이 아닌 특정 객체 하위의 엘리먼트만 검사할경우
 * @returns {boolean}
 */
function checkAddOption(sReq, oParent)
{
    var sAddOptionField = add_option_id;

    var sAddOptionSelector = '[id^="' + sAddOptionField + '"]:not(.input_peraddoption)';
    if (sReq != null) {
        sAddOptionField = sReq;
        sAddOptionSelector = '[id="' + sAddOptionField + '"]:not(.input_peraddoption)';
    }
    var oTargetElement = $(sAddOptionSelector);
    if (oParent !== null && typeof(oParent) !== 'undefined') {
        oTargetElement = oParent.find(sAddOptionSelector);
    }

    return NEWPRD_ADD_OPTION.validateAddOptionForm(oTargetElement);
}

/**
 * 수량 가져오기
 *
 * @return mixed 정상적인 수량이면 수량(integer) 반환, 아니면 false 반환
 */
function getQuantity()
{
    // 뉴상품인데 디자인이 수정안됐을 수 있다.
    if (isNewProductSkin() === false) {
        iQuantity = parseInt($(quantity_id).val(),10);
    } else {
        if (has_option == 'T') {
            var iQuantity = 0;

            if (Olnk.isLinkageType(sOptionType) === true) {
                iQuantity = parseInt($(quantity_id).val(),10);
                return iQuantity;
            }

            $('[name="quantity_opt[]"]').each(function() {
                iQuantity = iQuantity + parseInt($(this).val(),10);
            });
        } else {
            var iQuantity = parseInt($(quantity_id).val().replace(/^[\s]+|[\s]+$/g,'').match(/[\d\-]+/),10);
            if (isNaN(iQuantity) === true || $(quantity_id).val() == '' || $(quantity_id).val().indexOf('.') > 0) {
                return false;
            }
        }

    }

    return iQuantity;
}

/**
 * 수량 체크
 *
 * @return mixed 올바른 수량이면 수량을, 아니면 false
 */
function checkQuantity()
{
    // 수량 가져오기
    var iQuantity = getQuantity();

    if (isNewProductSkin() === false) {
        if (iQuantity === false) return false;

        // 구스킨의 옵션 추가인 경우 수량을 모두 합쳐야 함..하는수 없이 each추가
        // 재고 관련도 여기서 하나?
        if (Olnk.isLinkageType(option_type) === true) {
            var sOptionIdTmp = '';
            $('select[id^="' + product_option_id + '"]').each(function() {
                if (/^\*+$/.test($(this).val()) === false ) {
                    sOptionIdTmp = $(this).val();
                    return false;
                }
            });

            $('.EC_MultipleOption').each(function(i){
                iQuantity +=  parseInt($(this).find('.' + $.data(document,'multiple_option_quantity_class')).val(),10);
            });

            if ( Olnk.getStockValidate(sOptionIdTmp , iQuantity) === true ) {
                alert(__('상품의 수량이 재고수량 보다 많습니다.'));
                $(quantity_id).focus();
                return false;
            }
        }

        if (iQuantity < product_min) {
            alert(sprintf(__('최소 주문수량은 %s개 입니다.'), product_min));
            $(quantity_id).focus();
            return false;
        }
        if (iQuantity > product_max && product_max > 0) {
            alert(sprintf(__('최대 주문수량은 %s개 입니다.'), product_max));
            $(quantity_id).focus();
            return false;
        }

    } else {
        var bResult = true;
        var bSaleMainProduct = false;
        var aQuantity = new Array();
        var iTotalOuantity = 0;
        var iProductMin = product_min;
        var iProductMax = product_max;
        $('#totalProducts > table > tbody').not('.add_products').find('[name="quantity_opt[]"]').each(function() {
            // 본상품 구매여부
            bSaleMainProduct = true;
            iQuantity = parseInt($(this).val());

            var iProductNum = iProductNo;
            // 추가 구성상품인 경우 product_min ,  product_max 값은 다른값을 비교해야 함..
            if ($(this).attr('id').indexOf('add_') > -1) {
                iProductMin = $('#'+$(this).attr('id').replace('quantity','productmin')).val();
                iProductMax = $('#'+$(this).attr('id').replace('quantity','productmax')).val();
                var iProductNum = $('#'+$(this).attr('id').replace('quantity','id')).attr('class').replace('option_add_box_','');
            }
            if (typeof(aQuantity[iProductNum]) === 'undefined') {
                aQuantity[iProductNum] = new Array();
            }
            aQuantity[iProductNum].push(iQuantity);

            // 상품기준의 경우 품목 총합으로 판단
            if (order_limit_type !== 'P') {
                if (iQuantity < iProductMin) {
                    alert(sprintf(__('상품별 최소 주문수량은 %s 입니다.'), iProductMin));
                    $(quantity_id).focus();
                    bResult = false;
                    return false;
                }
                if (iQuantity > iProductMax && iProductMax > 0) {
                    alert(sprintf(__('상품별 최대 주문수량은 %s 입니다.'), iProductMax));
                    $(quantity_id).focus();
                    bResult = false;
                    return false;
                }
            }
            iTotalOuantity = iTotalOuantity + iQuantity;
        });

        if (bResult == false) {
            return bResult;
        }
        if (typeof(EC_SHOP_FRONT_PRODUCT_DEATAIL_BUNDLE) === 'object') {
            for (var iProductNum in aQuantity) {
                if (aQuantity.hasOwnProperty(iProductNum) === false) {
                    continue;
                }
                if (EC_SHOP_FRONT_PRODUCT_DEATAIL_BUNDLE.oBundleConfig.hasOwnProperty(iProductNum) === false) {
                    continue;
                }

                if (EC_SHOP_FRONT_PRODUCT_DEATAIL_BUNDLE.isValidQuantity(aQuantity[iProductNum], iProductNum) === false) {
                    return false;
                }
            }
        }
        // 본상품 없이 구매가능하기때문에 본상품있을떄만 체크
        if (bSaleMainProduct === true) {
            if (order_limit_type === 'P') {
                if (iTotalOuantity < iProductMin) {
                    alert(sprintf(__('최소 주문수량은 %s개 입니다.'), iProductMin));
                    bResult = false;
                    return false;
                }
                if (iTotalOuantity > iProductMax && iProductMax > 0) {
                    alert(sprintf(__('최대 주문수량은 %s개 입니다.'), iProductMax));
                    bResult = false;
                    return false;
                }
            }
            if (buy_unit_type === 'P') {
                if (iTotalOuantity % parseInt(buy_unit, 10) !== 0) {
                    alert(sprintf(__('구매 주문단위는 %s개 입니다.'), parseInt(buy_unit, 10)));
                    bResult = false;
                    return false;
                }
            }
        }
        if ($('.add_products').find('[name="quantity_opt[]"]').length > 0) {
            var aTotalQuantity = {};
            $('.add_products').find('[name="quantity_opt[]"]').each(function () {
                    iQuantity = parseInt($(this).val());
                    if (typeof(aTotalQuantity[$(this).attr('product-no')]) === 'undefined' || aTotalQuantity[$(this).attr('product-no')] < 1) {
                        aTotalQuantity[$(this).attr('product-no')] = 0;
                    }
                    aTotalQuantity[$(this).attr('product-no')] += parseInt($(this).val(), 10);

                }
            );

            for (var iProductNo in aTotalQuantity) {
                var aProductQuantityInfo = ProductAdd.getProductQuantityInfo(iProductNo);

                if (aProductQuantityInfo.order_limit_type === 'P') {
                    if (aTotalQuantity[iProductNo] < aProductQuantityInfo.product_min) {
                        alert(sprintf(__('최소 주문수량은 %s개 입니다.'), aProductQuantityInfo.product_min));
                        bResult = false;
                        return false;
                    }
                    if (aTotalQuantity[iProductNo] > aProductQuantityInfo.product_max && aProductQuantityInfo.product_max > 0) {
                        alert(sprintf(__('최대 주문수량은 %s개 입니다.'), aProductQuantityInfo.product_max));
                        bResult = false;
                        return false;
                    }
                }
                if (aProductQuantityInfo.buy_unit_type === 'P') {
                    if (aTotalQuantity[iProductNo] % parseInt(aProductQuantityInfo.buy_unit, 10) !== 0) {
                        alert(sprintf(__('구매주문단위는 %s개 입니다.'), parseInt(aProductQuantityInfo.buy_unit, 10)));
                        bResult = false;
                        return false;
                    }
                }
            }
        }
        if (bResult == false) {
            return bResult;
        }
    }

    return iQuantity;
}

function commify(n)
{
    var reg = /(^[+-]?\d+)(\d{3})/; // 정규식
    n += ''; // 숫자를 문자열로 변환
    while (reg.test(n)) {
        n = n.replace(reg, '$1' + ',' + '$2');
    }
    return n;
}

var isClose = 'T';
function optionPreview(obj, sAction, sProductNo, closeType)
{
    var sPreviewId = 'btn_preview_';
    var sUrl = '/product/option_preview.html';
    var layerId = $('#opt_preview_' + sAction + '_' + sProductNo);

    // layerId = action명 + product_no 로 이루어짐 (한 페이지에 다른 종류의 상품리스트가 노출될때 구분 필요)
    if ($(layerId).length > 0) {
        $(layerId).show();
    } else if (sProductNo != '') {
        $.post(sUrl, 'product_no=' + sProductNo + '&action=' + sAction, function(result)
        {
            $(obj).after(result.replace(/[<]script( [^ ]+)? src=\"[^>]*>([\s\S]*?)[<]\/script>/g,""));
        });
    }
}

function closeOptionPreview(sAction, sProductNo)
{
    isClose = 'T';
    setTimeout("checkOptionPreview('" + sAction + "','" + sProductNo + "')", 150);
}

function checkOptionPreview(sAction, sProductNo)
{
    var layerId = $('#opt_preview_' + sAction + '_' + sProductNo);
    if (isClose == 'T') $(layerId).hide();
}

function openOptionPreview(sAction, sProductNo)
{
    isClose = 'F';
    var layerId = $('#opt_preview_' + sAction + '_' + sProductNo);
    $(layerId).show();

    $(layerId).mousemouseenter(function()
    {
        $(layerId).show();
    }).mouseleave(function()
    {
        $(layerId).hide();
    });

}

/**
 * 네이버 페이 주문하기
 */
function nv_add_basket_1_product()
{
    bIsMobile = false;

    if (_isProc == 'F') {
        alert(__("네이버 페이 입점상태를 확인하십시오."));
        return;
    }

    if (typeof(set_option_data) != 'undefined') {
        alert(__('세트상품은 네이버 페이 구매가 불가하오니, 쇼핑몰 바로구매를 이용해주세요. 감사합니다.'));
        return;
    }

    product_submit('naver_checkout', '/exec/front/order/basket/');
}

/**
 * 네이버 페이 찜하기
 */
function nv_add_basket_2_product()
{
    if (_isProc == 'F') {
        alert(__("네이버 페이 입점상태를 확인하십시오."));
        return;
    }

    window.open("/exec/front/order/navercheckoutwish?product_no=" + iProductNo, "navercheckout_basket",
            'scrollbars=yes,status=no,toolbar=no,width=450,height=300');
}

/**
 * 네이버 페이 주문하기
 */
function nv_add_basket_1_m_product()
{
    bIsMobile = true;

    if (_isProc == 'F') {
        alert(__("네이버 페이 입점상태를 확인하십시오."));
        return;
    }

    if (typeof(set_option_data) != 'undefined') {
        alert(__('세트상품은 네이버 페이 구매가 불가하오니, 쇼핑몰 바로구매를 이용해주세요. 감사합니다.'));
        return;
    }

    product_submit('naver_checkout', '/exec/front/order/basket/');
}

/**
 * 네이버 페이 찜하기
 */
function nv_add_basket_2_m_product()
{
    if (_isProc == 'F') {
        alert(__("네이버 페이 입점상태를 확인하십시오."));
        return;
    }

    window.location.href = "/exec/front/order/navercheckoutwish?product_no=" + iProductNo;
    //window.open("/exec/front/order/navercheckoutwish?product_no=" + iProductNo, "navercheckout_basket", 'scrollbars=yes,status=no,toolbar=no,width=450,height=300');
}

/**
 * 옵션 추가 구매시에 같은 옵션을 검사하는 함수
 *
 * @returns Boolean
 */
function duplicateOptionCheck()
{
    var bOptionDuplicate = getOptionDuplicate();
    //var bAddOptionDuplicate = getAddOptionDuplicate();

    if (bOptionDuplicate !== true  ){ //}&& bAddOptionDuplicate !== true) {
        alert(__('동일한 옵션의 상품이 있습니다.'));
        return false;
    }

    return true;
}

/**
 * 텍스트 인풋 옵션 중복 체크
 *
 * @returns {Boolean}
 */
function getAddOptionDuplicate()
{
    var aOptionRow = new Array();
    var iOptionLength = 0;
    var aOptionValue = new Array();
    var bReturn = true;
    // 기본 옵션
    $('[id^="' + add_option_id + '"]').each(function()
    {
        aOptionRow.push($(this).val());
    });
    aOptionValue.push(aOptionRow.join(',@,'));
    $('.EC_MultipleOption').each(function()
    {
        aOptionRow = new Array();
        $($(this).find('.' + $.data(document, 'multiple_option_input_class'))).each(function()
        {
            aOptionRow.push($(this).val());
        });
        var sOptionRow = aOptionRow.join(',@,');
        if ($.inArray(sOptionRow, aOptionValue) > -1) {
            bReturn = false;
            return false;
        } else {
            aOptionValue.push(sOptionRow);
        }
    });
    return bReturn;
}
/**
 * 일반 셀렉트박스형 옵션 체크 함수
 *
 * @returns {Boolean}
 */
function getOptionDuplicate() {
    // 선택여부는 이미 선택이 되어 있음
    var aOptionId = new Array();
    var aOptionValue = new Array();
    var aOptionRow = new Array();
    var iOptionLength = 0;
    // 기본 옵션
    $('select[id^="' + product_option_id + '"]').each(function (i) {
        aOptionValue.push($(this).val());
        iOptionLength++;
    });
    // 추가 구매
    $('.' + $.data(document, 'multiple_option_select_class')).each(function (i) {
        aOptionValue.push($(this).val());
    });

    var aOptionRow = new Array();
    for (var x in aOptionValue) {
        var sOptionValue = aOptionValue[x];
        aOptionRow.push(sOptionValue);
        if (x % iOptionLength == iOptionLength - 1) {
            var sOptionId = aOptionRow.join('-');

            if ($.inArray(sOptionId, aOptionId) > -1) {
                return false;
            }
            aOptionId.push(sOptionId);
            aOptionRow = new Array();
        }
    }

    return true;
}

//sms 재입고
function action_sms_restock(sParam)
{
    // 모바일 접속 및 레이어 팝업 여부 확인
    if (typeof(EC_SHOP_FRONT_PRODUCT_SMS_RESTOCK_LAYER) !== 'undefined') {
        if (EC_SHOP_FRONT_PRODUCT_SMS_RESTOCK_LAYER.createSmsRestockLayerDisplayResult(sParam) === true) {
            return;
        }
    }

    window.open('#none', 'sms_restock' ,'width=459, height=490, scrollbars=yes');
    $('#frm_image_zoom').attr('target', 'sms_restock');
    $('#frm_image_zoom').attr('action', '/product/sms_restock.html');
    $('#frm_image_zoom').submit();
}

//email 재입고
function action_email_restock(iProductNo)
{
    if (typeof(iProductNo) === 'undefined') {
        iProductNo = '';
    }
    if ((window.navigator.standalone || (window.matchMedia && window.matchMedia('(display-mode: standalone)').matches)) === true) {
        window.open('/product/email_restock.html?' + $('#frm_image_zoom').serialize(), 'email_restock' ,'width=459, height=490, scrollbars=yes');
    } else {
        window.open('#none', 'email_restock' ,'width=459, height=490, scrollbars=yes');
        $('#frm_image_zoom').attr('target', 'email_restock');
        $('#frm_image_zoom').attr('action', '/product/email_restock.html?product_no' + iProductNo);
        $('#frm_image_zoom').submit();
    }
}

// 최대 할인쿠폰 다운받기 팝업
function popupDcCoupon(product_no, coupon_no, cate_no, opener_url, location)
{
    var Url = '/';
    if ( location === 'Front' || typeof location === 'undefined') {
        Url += 'product/';
    }
    Url += '/coupon_popup.html';
    window.open(Url + "?product_no=" + product_no + "&coupon_no=" + coupon_no + "&cate_no=" + cate_no + "&opener_url=" + opener_url, "popupDcCoupon", "toolbar=no,scrollbars=no,resizable=yes,width=800,height=640,left=0,top=0");
}

/**
 * 관련상품 열고 닫기
 */
function ShowAndHideRelation()
{
    try {
        var sRelation = $('ul.mSetPrd').parent();
        var sRelationDisp = sRelation.css('display');
        if (sRelationDisp === 'none') {
            $('#setTitle').removeClass('show');
            sRelation.show();
        } else {
            $('#setTitle').addClass('show');
            sRelation.hide();
        }
    } catch(e) { }
 }

var ITEM = {
    getItemCode : function()
    {
        var chk_has_opt = '';
        try {
            chk_has_opt = has_option;
        }catch(e) {chk_has_opt = 'T';}

        if (chk_has_opt == 'F') {
            return [item_code];
        } else {
            // 필수값 체크
            var bRequire = false;
            // 옵션이 없음
            if ($('[id^="product_option_id"]').size() < 1) {
                return false;
            }
            $('[id^="product_option_id"]').each(function() {
                if (Boolean($(this).attr('required')) === true || $(this).attr('required') == 'required') {
                    bRequire = true;
                    return false;
                }
            });

            var aItemCode = new Array();
            if (bRequire === true) {
                if ($('#totalProducts').length === 0 || (typeof(EC_SHOP_FRONT_PRODUCT_FUNDING) === 'object' && EC_SHOP_FRONT_PRODUCT_FUNDING.isFundingProduct() === false)) {
                    sItemCode = this.getOldProductItemCode();
                    if (sItemCode !== false) {
                        if (typeof(sItemCode) === 'string') {
                            aItemCode.push(sItemCode);
                        } else {
                            aItemCode = sItemCode;
                        }
                    } else {
                        // 옵션이 선택되지 않음
                        return false;
                    }
                } else {
                    if ($('.option_box_id').length == 0) {
                        // 옵션이 선택되지 않음
                        return false;
                    }
                    $('.option_box_id').each(function() {
                        aItemCode.push($(this).val());
                    });
                }
            }


            return aItemCode;
        }
    },
    getWishItemCode : function()
    {
        var chk_has_opt = '';
        try {
            chk_has_opt = has_option;
        }catch(e) {chk_has_opt = 'T';}

        if (chk_has_opt == 'F') {
            return [item_code];
        } else {
            // 필수값 체크
            var bRequire = false;
            $('[id^="product_option_id"]').each(function() {
                if (Boolean($(this).attr('required')) === true || $(this).attr('required') == 'required') {
                    bRequire = true;
                    return false;
                }
            });

            var aItemCode = new Array();
            if (bRequire === true) {
                if ($('#totalProducts').length === 0) {
                    sItemCode = this.getOldProductItemCode();
                    if (sItemCode !== false) {
                        if (typeof(sItemCode) === 'string') {
                            aItemCode.push(sItemCode);
                        } else {
                            aItemCode = sItemCode;
                        }
                    } else {
                        // 옵션이 선택되지 않음
                        return false;
                    }
                } else {
                    if ($('.soldout_option_box_id,.option_box_id').length == 0) {
                        // 옵션이 선택되지 않음
                        return false;
                    }
                    $('.soldout_option_box_id,.option_box_id').each(function() {
                        aItemCode.push($(this).val());
                    });
                }
            }

            return aItemCode;
        }
    },
    getOldProductItemCode : function(sSelector)
    {
        if (sSelector === undefined) {
            sSelector = '[id^="product_option_id"]';
        }
        var sItemCode = null;
        // 뉴상품 옵션 선택 구매
        if (has_option === 'F') {
            // 화면에 있음
            sItemCode = item_code;
        } else {
            if (item_listing_type == 'S') {
                var aOptionValue = new Array();
                $(sSelector).each(function() {
                    if (ITEM.isOptionSelected($(this).val()) === true) {
                        aOptionValue.push($(this).val());
                    }
                });

                if (option_type === 'T') {
                    var aCodeMap = $.parseJSON(option_value_mapper);
                    sItemCode = aCodeMap[aOptionValue.join('#$%')];
                } else {
                    sItemCode = aOptionValue;
                }
            } else {
                sItemCode = $(sSelector).val();
            }
        }

        if (sItemCode === undefined) {
            return false;
        }

        return sItemCode;
    },
    isOptionSelected : function(aOption)
    {
        var sOptionValue = null;
        if (typeof aOption === 'string') {
            sOptionValue = aOption;
        } else {
            if (aOption.length === 0) return false;
            sOptionValue = aOption.join('-|');
        }

        sOptionValue = '-|'+sOptionValue+'-|';
        return !(/-\|\*{1,2}-\|/g).test(sOptionValue);
    },
    setBodyOverFlow : function(sType)
    {
        var sLocation =  location;
        var bBuyLayer = false;

        //var oReturnData = new Object();
        if (EC_SHOP_FRONT_PRODUCT_OPTIONLAYER.isExistLayer(true) === true) {
            //parent.$('html, body').css('overflowY', 'auto');
            closeBuyLayer(false);
            sLocation =  parent.location;
            bBuyLayer = true;
        }

        //프레임으로 선언된 페이지일경우
        if (typeof(bIsOptionSelectFrame) !== 'undefined' && bIsOptionSelectFrame === true) {
            sLocation =  parent.location;
            bBuyLayer = true;
        }
        /*
        oReturnData['sLocation'] = sLocation;
        oReturnData['bBuyLayer'] = bBuyLayer;
        */

        oReturnData = sLocation;

        if (typeof(sType) === 'boolean') {
            oReturnData = bBuyLayer;
        }
        return oReturnData;
    }
};

var EC_SHOP_FRONT_PRODUCT_RESTOCK = (function() {

    return {
        isRestock : function(sType) {

            if (sType === 'sms_restock') {
                return true;
            }

            if (sType === 'email_restock') {
                return true;
            }

            return false;
        },
        openRestockEmailPopup : function()
        {
            product_submit('email_restock');
        },
        bindOpenRestockEmailPopup : function(product_no)
        {
            action_email_restock(product_no);

        }
    };
})();

//상세 장바구니 담기확인창에서 스크립트를 중목으로 볼러오는부분을 제거하기위해서 추가
//사용자 디자인에서도 basket.js에 있는 함수에 의존적이라서 추가가 안되어있다면 아래 함수들을 실행하도록 함
if (typeof(layer_basket_paging) !== 'function') {
  //레이어 장바구니 페이징
  function layer_basket_paging(page_no)
  {
      var sUrl = '/product/add_basket2.html?page=' + page_no + '&layerbasket=T';
      if (typeof(sBasketDelvType) !== 'undefined') {
          sUrl += sUrl + '&delvtype=' + sBasketDelvType;
      }
      $.get(sUrl, '', function(sHtml)
      {
          sHtml = sHtml.replace(/<script.*?ind-script\/optimizer.php.*?<\/script>/g, '');
          $('#confirmLayer').html(sHtml);
          $('#confirmLayer').show();

          // set delvtype to basket
          try {
              $(".xans-order-layerbasket").find("a[href='/order/basket.html']").attr("href", "/order/basket.html?delvtype=" + delvtype);
          } catch (e) {}
      });
  }
}

if (typeof(Basket) === 'undefined') {
  var Basket = {
      orderLayerAll : function(oElem) {
          var aParam = {basket_type:'all_buy'};
          var sOrderUrl = $(oElem).attr('link-order') || '/order/orderform.html?basket_type='+ aParam.basket_type;

          if (sBasketDelvType != "") {
              sOrderUrl += '&delvtype=' + sBasketDelvType;
          }
          var sLoginUrl = $(oElem).attr('link-login') || '/member/login.html';

          $.post('/exec/front/order/order/', aParam, function(data){
              if (data.result < 0) {
                  alert(data.alertMSG);
                  return;
              }

              if (data.isLogin == 'F') { // 비로그인 주문 > 로그인페이지로 이동
                  location.href = sLoginUrl + '?noMember=1&returnUrl=' + escape(sOrderUrl);
              } else {
                  location.href = sOrderUrl;
              }
          }, 'json');
      },

      isInProgressMigrationCartData : function(aData) {
          if (aData['isInProgressMigrationCartData'] === true) {
              alert(__('SYSTEM.IS.BUSY.PLEASE.TRY', 'SHOP.FRONT.BASKET.JS'));
              window.location.reload();
          }
      }

  };
}

/**
 * 장바구니 유효성 검증 validation
 */
var EC_SHOP_FRONT_BASKET_VALIID = {
    // 장바구니 상품 중복여부 확인
    isBasketProductDuplicateValid : function (sParam)
    {
        var bReturn = true;

        $.ajax({
            url:  '/exec/front/order/Basketduplicate/',
            type: 'post',
            data: sParam,
            async: false,
            dataType: 'json',
            success: function(data) {
                if (data.result === true) {
                    console.log("장바구니에 동일한 상품 alert ->? ")
                    if (confirm(__('장바구니에 동일한 상품이 있습니다. ' + '\n' + '장바구니에 추가하시겠습니까?')) === false) {
                        bReturn = false;
                        return false;
                    }
                }
            }
        });

        return (bReturn === false) ? false : true;
    }
};

var EC_SHOP_FRONT_PRODUCT_DEATAIL_BUNDLE = {
    oBundleConfig : {},

    iProductQuantity : 0,

    init : function(oInit)
    {
        if (typeof(oInit) === 'object') {
            this.oBundleConfig  = oInit;
        } else {
            if (sBundlePromotion === '' || typeof(sBundlePromotion) === 'undefined') {
                return;
            }
            this.oBundleConfig = $.parseJSON(sBundlePromotion);
        }
        // 강제로 후킹
        buy_unit = 1;
        product_min = 1;
        product_max = 0;

        $.data(document,'BundlePromotion', true);
    },
    getQuantityStep : function(iProductNum)
    {
        return this.oBundleConfig[iProductNum].bundle_quantity + 1;
    },
    /**
     * 실제 UI의 수량대신 1+N 이벤트로 인해 후킹된 상품 수량을 리턴
     */
    getQuantity : function(iQuantity, iProductNum)
    {
        var iReturn = iQuantity;
        if (typeof(this.oBundleConfig[iProductNum]) === 'undefined') {
            return iReturn;
        }

        iReturn = Math.ceil(iQuantity / this.getQuantityStep(iProductNum));

        return iReturn;
    },
    /**
     * 정확한 구매 수량이 맞는지 검증
     */
    isValidQuantity : function(aQuantity, iProductNum)
    {
        var bReturn = true;
        if (typeof(this.oBundleConfig[iProductNum]) === 'undefined') {
            return bReturn;
        }

        if (this.isValidQuantityCheck(aQuantity, iProductNum) === false) {
            alert(this.getAlertMessage([iProductNum]));
            return false;
        }
        return bReturn;
    },
    isValidQuantityCheck : function(aQuantity, iProductNum)
    {
        var iQuantityStep = this.getQuantityStep(iProductNum);

        if (this.oBundleConfig[iProductNum].bundle_apply_type === 'P') {
            EC_SHOP_FRONT_PRODUCT_DEATAIL_BUNDLE.iProductQuantity = 0;
            $.map(aQuantity, function(pv, cv) {
                EC_SHOP_FRONT_PRODUCT_DEATAIL_BUNDLE.iProductQuantity += pv;
            });
            return (EC_SHOP_FRONT_PRODUCT_DEATAIL_BUNDLE.iProductQuantity % iQuantityStep) === 0;
        }

        if (this.oBundleConfig[iProductNum].bundle_apply_type === 'I') {
            for (var i in aQuantity) {
                if (aQuantity.hasOwnProperty(i) === false) {
                    continue;
                }
                if (aQuantity[i] % iQuantityStep !== 0) {
                    return false;
                }
            }
        }
        return true;
    },
    getAlertMessage : function(iProductNum)
    {
        var sSubject = this.oBundleConfig[iProductNum].bundle_apply_type === 'P' ? '옵션에 상관없이' : '동일한 옵션으로';
        var sReturn = '1+%s 이벤트상품입니다.\n'+sSubject+' 수량을 %s개 단위로 구매해주세요.';
        return sprintf(__(sReturn), this.oBundleConfig[iProductNum].bundle_quantity, this.getQuantityStep(iProductNum));
    }
};

/**
 * 접속통계 & 실시간접속통계
 */
$(document).ready(function(){
    // 이미 weblog.js 실행 되었을 경우 종료 
    if ($('#log_realtime').length > 0) {
        return;
    }
    /*
     * QueryString에서 디버그 표시 제거
     */
    function stripDebug(sLocation)
    {
        if (typeof sLocation != 'string') return '';

        sLocation = sLocation.replace(/^d[=]*[\d]*[&]*$/, '');
        sLocation = sLocation.replace(/^d[=]*[\d]*[&]/, '');
        sLocation = sLocation.replace(/(&d&|&d[=]*[\d]*[&]*)/, '&');

        return sLocation;
    }

    // 벤트 몰이 아닐 경우에만 V3(IFrame)을 로드합니다.
    // @date 190117
    // @date 191217 - 이벤트에도 V3 상시 적재로 변경.
    //if (EC_FRONT_JS_CONFIG_MANAGE.sWebLogEventFlag == "F")
    //{
    // T 일 경우 IFRAME 을 노출하지 않는다.
    if (EC_FRONT_JS_CONFIG_MANAGE.sWebLogOffFlag == "F")
    {
        if (window.self == window.top) {
            var rloc = escape(document.location);
            var rref = escape(document.referrer);
        } else {
            var rloc = (document.location).pathname;
            var rref = '';
        }

        // realconn & Ad aggregation
        var _aPrs = new Array();
        _sUserQs = window.location.search.substring(1);
        _sUserQs = stripDebug(_sUserQs);
        _aPrs[0] = 'rloc=' + rloc;
        _aPrs[1] = 'rref=' + rref;
        _aPrs[2] = 'udim=' + window.screen.width + '*' + window.screen.height;
        _aPrs[3] = 'rserv=' + aLogData.log_server2;
        _aPrs[4] = 'cid=' + eclog.getCid();
        _aPrs[5] = 'role_path=' + $('meta[name="path_role"]').attr('content');
        _aPrs[6] = 'stype=' + aLogData.stype;
        _aPrs[7] = 'shop_no=' + aLogData.shop_no;
        _aPrs[8] = 'lang=' + aLogData.lang;
        _aPrs[9] = 'ver=' + aLogData.ver;


        // 모바일웹일 경우 추가 파라미터 생성
        var _sMobilePrs = '';
        if (mobileWeb === true) _sMobilePrs = '&mobile=T&mobile_ver=new';

        _sUrlQs = _sUserQs + '&' + _aPrs.join('&') + _sMobilePrs;

        var _sUrlFull = '/exec/front/eclog/main/?' + _sUrlQs;

        var node = document.createElement('iframe');
        node.setAttribute('src', _sUrlFull);
        node.setAttribute('id', 'log_realtime');
        document.body.appendChild(node);

        $('#log_realtime').hide();
    }

    // eclog2.0, eclog1.9
    var sTime = new Date().getTime();//ECHOSTING-54575

    // 접속통계 서버값이 있다면 weblog.js 호출
    if (aLogData.log_server1 != null && aLogData.log_server1 != '') {
        var sScriptSrc = '//' + aLogData.log_server1 + '/weblog.js?uid=' + aLogData.mid + '&uname=' + aLogData.mid + '&r_ref=' + document.referrer + '&shop_no=' + aLogData.shop_no;
        if (mobileWeb === true) sScriptSrc += '&cafe_ec=mobile';
        sScriptSrc += '&t=' + sTime;//ECHOSTING-54575
        var node = document.createElement('script');
        node.setAttribute('type', 'text/javascript');
        node.setAttribute('src', sScriptSrc);
        node.setAttribute('id', 'log_script');
        document.body.appendChild(node);
    }
});

(function(window){
    window.htmlentities = {
        /**
         * Converts a string to its html characters completely.
         *
         * @param {String} str String with unescaped HTML characters
         **/
        encode : function(str) {
            var buf = [];

            for (var i=str.length-1; i>=0; i--) {
                buf.unshift(['&#', str[i].charCodeAt(), ';'].join(''));
            }

            return buf.join('');
        },
        /**
         * Converts an html characterSet into its original character.
         *
         * @param {String} str htmlSet entities
         **/
        decode : function(str) {
            return str.replace(/&#(\d+);/g, function(match, dec) {
                return String.fromCharCode(dec);
            });
        }
    };
})(window);
/**
 * 비동기식 데이터
 */
var CAPP_ASYNC_METHODS = {
    DEBUG: false,
    IS_LOGIN: (document.cookie.match(/(?:^| |;)iscache=F/) ? true : false),
    EC_PATH_ROLE: $('meta[name="path_role"]').attr('content') || '',
    aDatasetList: [],
    $xansMyshopMain: $('.xans-myshop-main'),
    init : function()
    {
    	var bDebug = CAPP_ASYNC_METHODS.DEBUG;

        var aUseModules = [];
        var aNoCachedModules = [];

        $(CAPP_ASYNC_METHODS.aDatasetList).each(function(){
            var sKey = this;

            var oTarget = CAPP_ASYNC_METHODS[sKey];

            if (bDebug) {
                console.log(sKey);
            }
            var bIsUse = oTarget.isUse();
            if (bDebug) {
                console.log('   isUse() : ' + bIsUse);
            }

            if (bIsUse === true) {
                aUseModules.push(sKey);

                if (oTarget.restoreCache === undefined || oTarget.restoreCache() === false) {
                    if (bDebug) {
                        console.log('   restoreCache() : true');
                    }
                    aNoCachedModules.push(sKey);
                }
            }
        });

        if (aNoCachedModules.length > 0) {
            var sEditor = '';
            try {
                if (bEditor === true) {
                    // 에디터에서 접근했을 경우 임의의 상품 지정
                    sEditor = '&PREVIEW_SDE=1';
                }
            } catch(e) { }

            var sPathRole = '&path_role=' + CAPP_ASYNC_METHODS.EC_PATH_ROLE;

            $.ajax(
            {
                url : '/exec/front/manage/async?module=' + aNoCachedModules.join(',') + sEditor + sPathRole,
                dataType : 'json',
                success : function(aData)
                {
                	CAPP_ASYNC_METHODS.setData(aData, aUseModules);
                }
            });

        } else {
        	CAPP_ASYNC_METHODS.setData({}, aUseModules);

        }
    },
    setData : function(aData, aUseModules)
    {
        aData = aData || {};

        $(aUseModules).each(function(){
            var sKey = this;

            var oTarget = CAPP_ASYNC_METHODS[sKey];

            if (oTarget.setData !== undefined && aData.hasOwnProperty(sKey) === true) {
                oTarget.setData(aData[sKey]);
            }

            if (oTarget.execute !== undefined) {
                oTarget.execute();
            }
        });
    },

    _getCookie: function(sCookieName)
    {
        var re = new RegExp('(?:^| |;)' + sCookieName + '=([^;]+)');
        var aCookieValue = document.cookie.match(re);
        return aCookieValue ? aCookieValue[1] : null;
    }
};
/**
 * 비동기식 데이터 - 회원 정보
 */
CAPP_ASYNC_METHODS.aDatasetList.push('member');
CAPP_ASYNC_METHODS.member = {
    __sEncryptedString: null,
    __isAdult: 'F',

    // 회원 데이터
    __sMemberId: null,
    __sName: null,
    __sNickName: null,
    __sGroupName: null,
    __sEmail: null,
    __sPhone: null,
    __sCellphone: null,
    __sBirthday: null,
    __sGroupNo: null,
    __sBoardWriteName: null,
    __sAdditionalInformation: null,
    __sCreatedDate: null,

    isUse: function()
    {
        if (CAPP_ASYNC_METHODS.IS_LOGIN === true) {
            if ($('.xans-layout-statelogon, .xans-layout-logon').length > 0) {
                return true;
            }

            if (CAPP_ASYNC_METHODS.recent.isUse() === true
                && typeof(EC_FRONT_JS_CONFIG_SHOP) !== 'undefined'
                && EC_FRONT_JS_CONFIG_SHOP.adult19Warning === 'T') {
                return true;
            }

            if ( typeof EC_APPSCRIPT_SDK_DATA != "undefined" && jQuery.inArray('customer', EC_APPSCRIPT_SDK_DATA ) > -1 ) {
                return true;
            }

        } else {
            // 비 로그인 상태에서 삭제처리
            this.removeCache();
        }

        return false;
    },

    restoreCache: function()
    {
        // sessionStorage 지원 여부 확인
        if (!window.sessionStorage) {
            return false;
        }

        // 데이터 복구 유무
        var bRestored = false;

        try {
            // 데이터 복구
            var oCache = JSON.parse(window.sessionStorage.getItem('member_' + EC_SDE_SHOP_NUM));

            // expire 체크
            if (oCache.exp < Date.now()) {
                throw 'cache has expired.';
            }

            // 데이터 체크
            if (typeof oCache.data.member_id === 'undefined'
                || oCache.data.member_id === ''
                || typeof oCache.data.name === 'undefined'
                || typeof oCache.data.nick_name === 'undefined'
                || typeof oCache.data.group_name === 'undefined'
                || typeof oCache.data.group_no === 'undefined'
                || typeof oCache.data.email === 'undefined'
                || typeof oCache.data.phone === 'undefined'
                || typeof oCache.data.cellphone === 'undefined'
                || typeof oCache.data.birthday === 'undefined'
                || typeof oCache.data.board_write_name === 'undefined'
                || typeof oCache.data.additional_information === 'undefined'
                || typeof oCache.data.created_date === 'undefined'
            ) {
                throw 'Invalid cache data.';
            }

            // 데이터 복구
            this.__sMemberId = oCache.data.member_id;
            this.__sName = oCache.data.name;
            this.__sNickName = oCache.data.nick_name;
            this.__sGroupName = oCache.data.group_name;
            this.__sGroupNo   = oCache.data.group_no;
            this.__sEmail = oCache.data.email;
            this.__sPhone = oCache.data.phone;
            this.__sCellphone = oCache.data.cellphone;
            this.__sBirthday = oCache.data.birthday;
            this.__sBoardWriteName = oCache.data.board_write_name;
            this.__sAdditionalInformation = oCache.data.additional_information;
            this.__sCreatedDate = oCache.data.created_date;

            bRestored = true;
        } catch(e) {
            // 복구 실패시 캐시 삭제
            this.removeCache();
        }

        return bRestored;
    },

    cache: function()
    {
        // sessionStorage 지원 여부 확인
        if (!window.sessionStorage) {
            return;
        }

        // 캐시
        window.sessionStorage.setItem('member_' + EC_SDE_SHOP_NUM, JSON.stringify({
            exp: Date.now() + (1000 * 60 * 10),
            data: this.getData()
        }));
    },

    removeCache: function()
    {
        // sessionStorage 지원 여부 확인
        if (!window.sessionStorage) {
            return;
        }

        // 캐시 삭제
        window.sessionStorage.removeItem('member_' + EC_SDE_SHOP_NUM);
    },

    setData: function(oData)
    {
        this.__sEncryptedString = oData.memberData;
        this.__isAdult = oData.memberIsAdult;
    },

    execute: function()
    {
        if (this.__sMemberId === null) {
            AuthSSLManager.weave({
                'auth_mode'          : 'decryptClient',
                'auth_string'        : this.__sEncryptedString,
                'auth_callbackName'  : 'CAPP_ASYNC_METHODS.member.setDataCallback'
            });
        } else {
            this.render();
        }
    },

    setDataCallback: function(sData)
    {
        try {
            var sDecodedData = decodeURIComponent(sData);

            if (AuthSSLManager.isError(sDecodedData) == true) {
                console.log(sDecodedData);
                return;
            }

            var oData = AuthSSLManager.unserialize(sDecodedData);
            this.__sMemberId = oData.id || '';
            this.__sName = oData.name || '';
            this.__sNickName = oData.nick || '';
            this.__sGroupName = oData.group_name || '';
            this.__sGroupNo   = oData.group_no || '';
            this.__sEmail = oData.email || '';
            this.__sPhone = oData.phone || '';
            this.__sCellphone = oData.cellphone || '';
            this.__sBirthday = oData.birthday || 'F';
            this.__sBoardWriteName = oData.board_write_name || '';
            this.__sAdditionalInformation = oData.additional_information || '';
            this.__sCreatedDate = oData.created_date || '';

            // 데이터 랜더링
            this.render();

            // 데이터 캐시
            this.cache();
        } catch(e) {}
    },

    render: function()
    {
        // 친구초대
        if ($('.xans-myshop-asyncbenefit').length > 0) {
            $('#reco_url').attr({value: $('#reco_url').val() + this.__sMemberId});
        }

        $('.xans-member-var-id').html(this.__sMemberId);
        $('.xans-member-var-name').html(this.__sName);
        $('.xans-member-var-nick').html(this.__sNickName);
        $('.xans-member-var-group_name').html(this.__sGroupName);
        $('.xans-member-var-group_no').html(this.__sGroupNo);
        $('.xans-member-var-email').html(this.__sEmail);
        $('.xans-member-var-phone').html(this.__sPhone);

        if ($('.xans-board-commentwrite').length > 0 && typeof BOARD_COMMENT !== 'undefined') {
            BOARD_COMMENT.setCmtData();
        }
    },

    getMemberIsAdult: function()
    {
        return this.__isAdult;
    },

    getData: function()
    {
        return {
            member_id: this.__sMemberId,
            name: this.__sName,
            nick_name: this.__sNickName,
            group_name: this.__sGroupName,
            group_no: this.__sGroupNo,
            email: this.__sEmail,
            phone: this.__sPhone,
            cellphone: this.__sCellphone,
            birthday: this.__sBirthday,
            board_write_name: this.__sBoardWriteName,
            additional_information: this.__sAdditionalInformation,
            created_date: this.__sCreatedDate
        };
    }
};
/**
 * 비동기식 데이터 - 예치금
 */
CAPP_ASYNC_METHODS.aDatasetList.push('Ordercnt');
CAPP_ASYNC_METHODS.Ordercnt = {
    __iOrderShppiedBeforeCount: null,
    __iOrderShppiedStandbyCount: null,
    __iOrderShppiedBeginCount: null,
    __iOrderShppiedComplateCount: null,
    __iOrderShppiedCancelCount: null,
    __iOrderShppiedExchangeCount: null,
    __iOrderShppiedReturnCount: null,

    __$target: $('#xans_myshop_orderstate_shppied_before_count'),
    __$target2: $('#xans_myshop_orderstate_shppied_standby_count'),
    __$target3: $('#xans_myshop_orderstate_shppied_begin_count'),
    __$target4: $('#xans_myshop_orderstate_shppied_complate_count'),
    __$target5: $('#xans_myshop_orderstate_order_cancel_count'),
    __$target6: $('#xans_myshop_orderstate_order_exchange_count'),
    __$target7: $('#xans_myshop_orderstate_order_return_count'),

    isUse: function()
    {
        if ($('.xans-myshop-orderstate').length > 0) {
            return true; 
        }

        return false;
    },

    restoreCache: function()
    {
        var sCookieName = 'ordercnt_' + EC_SDE_SHOP_NUM;
        var re = new RegExp('(?:^| |;)' + sCookieName + '=([^;]+)');
        var aCookieValue = document.cookie.match(re);
        if (aCookieValue) {
            var aData = jQuery.parseJSON(decodeURIComponent(aCookieValue[1]));
            this.__iOrderShppiedBeforeCount = aData.shipped_before_count;
            this.__iOrderShppiedStandbyCount = aData.shipped_standby_count;
            this.__iOrderShppiedBeginCount = aData.shipped_begin_count;
            this.__iOrderShppiedComplateCount = aData.shipped_complate_count;
            this.__iOrderShppiedCancelCount = aData.order_cancel_count;
            this.__iOrderShppiedExchangeCount = aData.order_exchange_count;
            this.__iOrderShppiedReturnCount = aData.order_return_count;
            return true;
        }

        return false;
    },

    setData: function(aData)
    {
        this.__iOrderShppiedBeforeCount = aData['shipped_before_count'];
        this.__iOrderShppiedStandbyCount = aData['shipped_standby_count'];
        this.__iOrderShppiedBeginCount = aData['shipped_begin_count'];
        this.__iOrderShppiedComplateCount = aData['shipped_complate_count'];
        this.__iOrderShppiedCancelCount = aData['order_cancel_count'];
        this.__iOrderShppiedExchangeCount = aData['order_exchange_count'];
        this.__iOrderShppiedReturnCount = aData['order_return_count'];
    },

    execute: function()
    {
        this.__$target.html(this.__iOrderShppiedBeforeCount);
        this.__$target2.html(this.__iOrderShppiedStandbyCount);
        this.__$target3.html(this.__iOrderShppiedBeginCount);
        this.__$target4.html(this.__iOrderShppiedComplateCount);
        this.__$target5.html(this.__iOrderShppiedCancelCount);
        this.__$target6.html(this.__iOrderShppiedExchangeCount);
        this.__$target7.html(this.__iOrderShppiedReturnCount);
    },

    getData: function()
    {
        return {
            shipped_before_count: this.__iOrderShppiedBeforeCount,
            shipped_standby_count: this.__iOrderShppiedStandbyCount,
            shipped_begin_count: this.__iOrderShppiedBeginCount,
            shipped_complate_count: this.__iOrderShppiedComplateCount,
            order_cancel_count: this.__iOrderShppiedCancelCount,
            order_exchange_count: this.__iOrderShppiedExchangeCount,
            order_return_count: this.__iOrderShppiedReturnCount
        };
    }
};
/**
 * 비동기식 데이터 - 장바구니 갯수
 */
CAPP_ASYNC_METHODS.aDatasetList.push('Basketcnt');
CAPP_ASYNC_METHODS.Basketcnt = {
    __iBasketCount: null,

    __$target: $('.xans-layout-orderbasketcount span a'),
    __$target2: $('#xans_myshop_basket_cnt'),
    __$target3: CAPP_ASYNC_METHODS.$xansMyshopMain.find('.xans_myshop_main_basket_cnt'),
    __$target4: $('.EC-Layout-Basket-count'),

    isUse: function()
    {
        if (this.__$target.length > 0) {
            return true;
        }
        if (this.__$target2.length > 0) {
            return true;
        }
        if (this.__$target3.length > 0) {
            return true;
        }
        if (this.__$target4.length > 0) {
            return true;
        }

        if ( typeof EC_APPSCRIPT_SDK_DATA != "undefined" && jQuery.inArray('personal', EC_APPSCRIPT_SDK_DATA ) > -1 ) {
            return true;
        }

        return false;
    },

    restoreCache: function()
    {
        var sCookieName = 'basketcount_' + EC_SDE_SHOP_NUM;
        var re = new RegExp('(?:^| |;)' + sCookieName + '=([^;]+)');
        var aCookieValue = document.cookie.match(re);
        if (aCookieValue) {
            this.__iBasketCount = parseInt(aCookieValue[1], 10);
            return true;
        }
        
        return false;
    },

    setData: function(sData)
    {
        this.__iBasketCount = Number(sData);
    },

    execute: function()
    {
        this.__$target.html(this.__iBasketCount);

        if (SHOP.getLanguage() === 'ko_KR') {
            this.__$target2.html(this.__iBasketCount + '개');
        } else {
            this.__$target2.html(this.__iBasketCount);
        }

        this.__$target3.html(this.__iBasketCount);
        
        this.__$target4.html(this.__iBasketCount);
        
        if (this.__iBasketCount > 0 && this.__$target4.length > 0) {
            var $oCountDisplay = $('.EC-Layout_Basket-count-display');

            if ($oCountDisplay.length > 0) {
                $oCountDisplay.removeClass('displaynone');
            }
        }
    },

    getData: function()
    {
        return {
            count: this.__iBasketCount
        };
    }
};
/**
 * 비동기식 데이터 - 장바구니 금액
 */
CAPP_ASYNC_METHODS.aDatasetList.push('Basketprice');
CAPP_ASYNC_METHODS.Basketprice = {
    __sBasketPrice: null,

    __$target: $('#xans_myshop_basket_price'),

    isUse: function()
    {
        if (this.__$target.length > 0) {
            return true;
        }

        if ( typeof EC_APPSCRIPT_SDK_DATA != "undefined" && jQuery.inArray('personal', EC_APPSCRIPT_SDK_DATA ) > -1 ) {
            return true;
        }

        return false;
    },

    restoreCache: function()
    {
        var sCookieName = 'basketprice_' + EC_SDE_SHOP_NUM;
        var re = new RegExp('(?:^| |;)' + sCookieName + '=([^;]+)');
        var aCookieValue = document.cookie.match(re);
        if (aCookieValue) {
            this.__sBasketPrice = decodeURIComponent((aCookieValue[1]+ '').replace(/\+/g, '%20'));
            return true;
        }
        
        return false;
    },

    setData: function(sData)
    {
        this.__sBasketPrice = sData;
    },

    execute: function()
    {
        this.__$target.html(this.__sBasketPrice);
    },

    getData: function()
    {
        // 데이터 없는경우 0
        var sBasketPrice = (this.__sBasketPrice || 0) + '';

        return {
            basket_price: parseFloat(SHOP_PRICE_FORMAT.detachFormat(htmlentities.decode(sBasketPrice))).toFixed(2)
        };
    }
};
/*
 * 비동기식 데이터 - 장바구니 상품리스트
 */
CAPP_ASYNC_METHODS.aDatasetList.push('BasketProduct');
CAPP_ASYNC_METHODS.BasketProduct = {

    STORAGE_KEY: 'BasketProduct_' +  EC_SDE_SHOP_NUM,

    __aData: null,

    __$target: $('.xans-layout-orderbasketcount span a'),
    __$target2: $('#xans_myshop_basket_cnt'),
    __$target3: CAPP_ASYNC_METHODS.$xansMyshopMain.find('.xans_myshop_main_basket_cnt'),
    __$target4: $('.EC-Layout-Basket-count'),

    isUse: function()
    {
        if (this.__$target.length > 0) {
            return true;
        }
        if (this.__$target2.length > 0) {
            return true;
        }
        if (this.__$target3.length > 0) {
            return true;
        }
        if (this.__$target4.length > 0) {
            return true;
        }

        if ( typeof EC_APPSCRIPT_SDK_DATA != "undefined" && jQuery.inArray('personal', EC_APPSCRIPT_SDK_DATA ) > -1 ) {
            return true;
        }
    },

    restoreCache: function()
    {
        // sessionStorage 지원 여부 확인
        if (!window.sessionStorage) {
            return false;
        }

        var sSessionStorageData = window.sessionStorage.getItem(this.STORAGE_KEY);
        if (sSessionStorageData === null) {
            return false;
        }

        try {
            this.__aData = [];
            var aStorageData = JSON.parse(sSessionStorageData);

            for (var iKey in aStorageData) {
                this.__aData.push(aStorageData[iKey]);
            }

            return true;
        } catch(e) {

            // 복구 실패시 캐시 삭제
            this.removeCache();

            return false;
        }
    },

    removeCache: function()
    {
        // sessionStorage 지원 여부 확인
        if (!window.sessionStorage) {
            return;
        }
        // 캐시 삭제
        window.sessionStorage.removeItem(this.STORAGE_KEY);
    },

    setData: function(oData)
    {
        this.__aData = oData;

        // sessionStorage 지원 여부 확인
        if (!window.sessionStorage) {
            return;
        }

        try {
            sessionStorage.setItem(this.STORAGE_KEY, JSON.stringify(this.getData()));
        } catch (error) {
        }
    },

    execute: function()
    {

    },

    getData: function()
    {
        var aStorageData = this.__aData;

        if (aStorageData != null) {
            var oNewStorageData = [];

            for (var iKey in aStorageData) {
                oNewStorageData.push(aStorageData[iKey]);
            }

            return oNewStorageData;
        } else {
            return false;
        }
    }
};
/**
 * 비동기식 데이터 - 쿠폰 갯수
 */
CAPP_ASYNC_METHODS.aDatasetList.push('Couponcnt');
CAPP_ASYNC_METHODS.Couponcnt = {
    __iCouponCount: null,

    __$target: $('.xans-layout-myshopcouponcount'),
    __$target2: $('#xans_myshop_coupon_cnt'),
    __$target3: CAPP_ASYNC_METHODS.$xansMyshopMain.find('.xans_myshop_main_coupon_cnt'),
    __$target4: $('#xans_myshop_bankbook_coupon_cnt'),

    isUse: function()
    {
        if (CAPP_ASYNC_METHODS.IS_LOGIN === true) {
            if (this.__$target.length > 0) {
                return true;
            }

            if (this.__$target2.length > 0) {
                return true;
            }

            if (this.__$target3.length > 0) {
                return true;
            }

            if (this.__$target4.length > 0) {
                return true;
            }

            if ( typeof EC_APPSCRIPT_SDK_DATA != "undefined" && jQuery.inArray('promotion', EC_APPSCRIPT_SDK_DATA ) > -1 ) {
                return true;
            }
        }

        return false;
    },
    
    restoreCache: function()
    {
        var sCookieName = 'couponcount_' + EC_SDE_SHOP_NUM;
        var re = new RegExp('(?:^| |;)' + sCookieName + '=([^;]+)');
        var aCookieValue = document.cookie.match(re);
        if (aCookieValue) {
            this.__iCouponCount = parseInt(aCookieValue[1], 10);
            return true;
        }
        
        return false;
    },
    setData: function(sData)
    {
        this.__iCouponCount = Number(sData);
    },

    execute: function()
    {
        this.__$target.html(this.__iCouponCount);

        if (SHOP.getLanguage() === 'ko_KR') {
            this.__$target2.html(this.__iCouponCount + '개');
        } else {
            this.__$target2.html(this.__iCouponCount);
        }

        this.__$target3.html(this.__iCouponCount);
        this.__$target4.html(this.__iCouponCount);
    },

    getData: function()
    {
        return {
            count: this.__iCouponCount
        };
    }
};
/**
 * 비동기식 데이터 - 적립금
 */
CAPP_ASYNC_METHODS.aDatasetList.push('Mileage');
CAPP_ASYNC_METHODS.Mileage = {
    __sAvailMileage: null,
    __sUsedMileage: null,
    __sTotalMileage: null,
    __sUnavailMileage: null,
    __sReturnedMileage: null,

    __$target: $('#xans_myshop_mileage'),
    __$target2: $('#xans_myshop_bankbook_avail_mileage, #xans_myshop_summary_avail_mileage'),
    __$target3: $('#xans_myshop_bankbook_used_mileage, #xans_myshop_summary_used_mileage'),
    __$target4: $('#xans_myshop_bankbook_total_mileage, #xans_myshop_summary_total_mileage'),
    __$target5: $('#xans_myshop_summary_unavail_mileage'),
    __$target6: $('#xans_myshop_summary_returned_mileage'),
    __$target7: $('#xans_myshop_avail_mileage'),

    isUse: function()
    {
        if (CAPP_ASYNC_METHODS.IS_LOGIN === true) {
            if (this.__$target.length > 0) {
                return true;
            }

            if (this.__$target2.length > 0) {
                return true;
            }

            if (this.__$target3.length > 0) {
                return true;
            }

            if (this.__$target4.length > 0) {
                return true;
            }

            if (this.__$target5.length > 0) {
                return true;
            }

            if (this.__$target6.length > 0) {
                return true;
            }

            if (this.__$target7.length > 0) {
                return true;
            }

            if ( typeof EC_APPSCRIPT_SDK_DATA != "undefined" && jQuery.inArray('customer', EC_APPSCRIPT_SDK_DATA ) > -1 ) {
                return true;
            }
        }

        return false;
    },

    restoreCache: function()
    {
        // 특정 경로 룰의 경우 복구 취소
        if (PathRoleValidator.isInvalidPathRole()) {
            return false;
        }

        // 쿠키로부터 데이터 획득
        var sAvailMileage = CAPP_ASYNC_METHODS._getCookie('ec_async_cache_avail_mileage_' + EC_SDE_SHOP_NUM);
        var sReturnedMileage = CAPP_ASYNC_METHODS._getCookie('ec_async_cache_returned_mileage_' + EC_SDE_SHOP_NUM);
        var sUnavailMileage = CAPP_ASYNC_METHODS._getCookie('ec_async_cache_unavail_mileage_' + EC_SDE_SHOP_NUM);
        var sUsedMileage = CAPP_ASYNC_METHODS._getCookie('ec_async_cache_used_mileage_' + EC_SDE_SHOP_NUM);

        // 데이터가 하나라도 없는경우 복구 실패
        if (sAvailMileage === null
            || sReturnedMileage === null
            || sUnavailMileage === null
            || sUsedMileage === null
        ) {
            return false;
        }

        // 전체 마일리지 계산
        var sTotalMileage = (parseFloat(sAvailMileage) +
            parseFloat(sUnavailMileage) +
            parseFloat(sUsedMileage)).toString();

        // 단위정보를 계산하여 필드에 셋
        this.__sAvailMileage = parseFloat(sAvailMileage).toFixed(2);
        this.__sReturnedMileage = parseFloat(sReturnedMileage).toFixed(2);
        this.__sUnavailMileage = parseFloat(sUnavailMileage).toFixed(2);
        this.__sUsedMileage = parseFloat(sUsedMileage).toFixed(2);
        this.__sTotalMileage = parseFloat(sTotalMileage).toFixed(2);

        return true;
    },

    setData: function(aData)
    {
        this.__sAvailMileage = parseFloat(aData['avail_mileage'] || 0).toFixed(2);
        this.__sUsedMileage = parseFloat(aData['used_mileage'] || 0).toFixed(2);
        this.__sTotalMileage = parseFloat(aData['total_mileage'] || 0).toFixed(2);
        this.__sUnavailMileage = parseFloat(aData['unavail_mileage'] || 0).toFixed(2);
        this.__sReturnedMileage = parseFloat(aData['returned_mileage'] || 0).toFixed(2);
    },

    execute: function()
    {
        this.__$target.html(SHOP_PRICE_FORMAT.toShopMileagePrice(this.__sAvailMileage));
        this.__$target2.html(SHOP_PRICE_FORMAT.toShopMileagePrice(this.__sAvailMileage));
        this.__$target3.html(SHOP_PRICE_FORMAT.toShopMileagePrice(this.__sUsedMileage));
        this.__$target4.html(SHOP_PRICE_FORMAT.toShopMileagePrice(this.__sTotalMileage));
        this.__$target5.html(SHOP_PRICE_FORMAT.toShopMileagePrice(this.__sUnavailMileage));
        this.__$target6.html(SHOP_PRICE_FORMAT.toShopMileagePrice(this.__sReturnedMileage));
        this.__$target7.html(SHOP_PRICE_FORMAT.toShopMileagePrice(this.__sAvailMileage));
    },

    getData: function()
    {
        return {
            available_mileage: this.__sAvailMileage,
            used_mileage: this.__sUsedMileage,
            total_mileage: this.__sTotalMileage,
            returned_mileage: this.__sReturnedMileage,
            unavailable_mileage: this.__sUnavailMileage
        };
    }
};
/**
 * 비동기식 데이터 - 예치금
 */
CAPP_ASYNC_METHODS.aDatasetList.push('Deposit');
CAPP_ASYNC_METHODS.Deposit = {
    __sTotalDeposit: null,
    __sAllDeposit: null,
    __sUsedDeposit: null,
    __sRefundWaitDeposit: null,
    __sMemberTotalDeposit: null,

    __$target: $('#xans_myshop_deposit'),
    __$target2: $('#xans_myshop_bankbook_deposit'),
    __$target3: $('#xans_myshop_summary_deposit'),
    __$target4: $('#xans_myshop_summary_all_deposit'),
    __$target5: $('#xans_myshop_summary_used_deposit'),
    __$target6: $('#xans_myshop_summary_refund_wait_deposit'),
    __$target7: $('#xans_myshop_total_deposit'),

    isUse: function()
    {
        if (CAPP_ASYNC_METHODS.IS_LOGIN === true) {
            if (this.__$target.length > 0) {
                return true;
            }

            if (this.__$target2.length > 0) {
                return true;
            }

            if (this.__$target3.length > 0) {
                return true;
            }

            if (this.__$target4.length > 0) {
                return true;
            }

            if (this.__$target5.length > 0) {
                return true;
            }

            if (this.__$target6.length > 0) {
                return true;
            }

            if (this.__$target7.length > 0) {
                return true;
            }

            if ( typeof EC_APPSCRIPT_SDK_DATA != "undefined" && jQuery.inArray('customer', EC_APPSCRIPT_SDK_DATA ) > -1 ) {
                return true;
            }
        }

        return false;
    },

    restoreCache: function()
    {
        // 특정 경로 룰의 경우 복구 취소
        if (PathRoleValidator.isInvalidPathRole()) {
            return false;
        }

        // 쿠키로부터 데이터 획득
        var sAllDeposit = CAPP_ASYNC_METHODS._getCookie('ec_async_cache_all_deposit_' + EC_SDE_SHOP_NUM);
        var sUsedDeposit = CAPP_ASYNC_METHODS._getCookie('ec_async_cache_used_deposit_' + EC_SDE_SHOP_NUM);
        var sRefundWaitDeposit = CAPP_ASYNC_METHODS._getCookie('ec_async_cache_deposit_refund_wait_' + EC_SDE_SHOP_NUM);
        var sMemberTotalDeposit = CAPP_ASYNC_METHODS._getCookie('ec_async_cache_member_total_deposit_' + EC_SDE_SHOP_NUM);

        // 데이터가 하나라도 없는경우 복구 실패
        if (sAllDeposit === null
            || sUsedDeposit === null
            || sRefundWaitDeposit === null
            || sMemberTotalDeposit === null
        ) {
            return false;
        }

        // 사용 가능한 예치금 계산
        var sTotalDeposit = (parseFloat(sAllDeposit) -
            parseFloat(sUsedDeposit) -
            parseFloat(sRefundWaitDeposit)).toString();

        // 단위정보를 계산하여 필드에 셋
        this.__sTotalDeposit = parseFloat(sTotalDeposit).toFixed(2);
        this.__sAllDeposit = parseFloat(sAllDeposit).toFixed(2);
        this.__sUsedDeposit = parseFloat(sUsedDeposit).toFixed(2);
        this.__sRefundWaitDeposit = parseFloat(sRefundWaitDeposit).toFixed(2);
        this.__sMemberTotalDeposit = parseFloat(sMemberTotalDeposit).toFixed(2);

        return true;
    },

    setData: function(aData)
    {
        this.__sTotalDeposit = parseFloat(aData['total_deposit'] || 0).toFixed(2);
        this.__sAllDeposit = parseFloat(aData['all_deposit'] || 0).toFixed(2);
        this.__sUsedDeposit = parseFloat(aData['used_deposit'] || 0).toFixed(2);
        this.__sRefundWaitDeposit = parseFloat(aData['deposit_refund_wait'] || 0).toFixed(2);
        this.__sMemberTotalDeposit = parseFloat(aData['member_total_deposit'] || 0).toFixed(2);
    },

    execute: function()
    {
        this.__$target.html(SHOP_PRICE_FORMAT.toShopDepositPrice(this.__sTotalDeposit));
        this.__$target2.html(SHOP_PRICE_FORMAT.toShopDepositPrice(this.__sTotalDeposit));
        this.__$target3.html(SHOP_PRICE_FORMAT.toShopDepositPrice(this.__sTotalDeposit));
        this.__$target4.html(SHOP_PRICE_FORMAT.toShopDepositPrice(this.__sAllDeposit));
        this.__$target5.html(SHOP_PRICE_FORMAT.toShopDepositPrice(this.__sUsedDeposit));
        this.__$target6.html(SHOP_PRICE_FORMAT.toShopDepositPrice(this.__sRefundWaitDeposit));
        this.__$target7.html(SHOP_PRICE_FORMAT.toShopDepositPrice(this.__sMemberTotalDeposit));
    },

    getData: function()
    {
        return {
            total_deposit: this.__sTotalDeposit,
            used_deposit: this.__sUsedDeposit,
            refund_wait_deposit: this.__sRefundWaitDeposit,
            all_deposit: this.__sAllDeposit,
            member_total_deposit: this.__sMemberTotalDeposit
        };
    }
};
/**
 * 비동기식 데이터 - 위시리스트
 */
CAPP_ASYNC_METHODS.aDatasetList.push('WishList');
CAPP_ASYNC_METHODS.WishList = {
    STORAGE_KEY: 'localWishList' +  EC_SDE_SHOP_NUM,
    __$targetWishIcon: $('.icon_img.ec-product-listwishicon'),
    __$targetWishList: $('.xans-myshop-wishlist'),
    __aWishList: null,
    __aTags_on: null,
    __aTags_off: null,

    isUse: function()
    {
        if (this.__$targetWishIcon.length > 0 || this.__$targetWishList.length > 0
        || CAPP_ASYNC_METHODS.EC_PATH_ROLE === 'PRODUCT_DETAIL') {
            return true;
        }
        return false;
    },

    restoreCache: function()
    {
        if (!window.sessionStorage) {
            return false;
        }

        var sSessionStorageData = window.sessionStorage.getItem(this.STORAGE_KEY);
        if (sSessionStorageData === null) {
            return false;
        }

        var aStorageData = $.parseJSON(sSessionStorageData);
        if (this.__$targetWishList.length > 0 || aStorageData['isLogin'] !== CAPP_ASYNC_METHODS.IS_LOGIN) {
            this.clearStorage();
            return false;
        }

        var aWishList = aStorageData['wishList'];
        this.__aTags_on = aStorageData['on_tags'];
        this.__aTags_off = aStorageData['off_tags'];
        this.__aWishList = [];
        for (var i = 0; i < aWishList.length; i++) {
            var aTempWishList = [];
            aTempWishList.product_no = aWishList[i];
            this.__aWishList.push(aTempWishList);
        }
        return true;
    },

    setData: function(aData)
    {
        if (aData.hasOwnProperty('wishList') === false || aData.hasOwnProperty('on_tags') === false) {
            return;
        }

        this.__aWishList = aData.wishList;
        this.__aTags_on = aData.on_tags;
        this.__aTags_off = aData.off_tags;

        if (window.sessionStorage) {
            var aWishList = [];

            for (var i = 0; i < aData.wishList.length; i++) {
                aWishList.push(aData.wishList[i].product_no);
            }

            var oNewStorageData = {
                'wishList' : aWishList,
                'on_tags' : aData.on_tags,
                'off_tags' : aData.off_tags,
                'isLogin' : CAPP_ASYNC_METHODS.IS_LOGIN
            };

            if (typeof oNewStorageData !== 'undefined') {
                sessionStorage.setItem(this.STORAGE_KEY , JSON.stringify(oNewStorageData));
            }
        }
    },

    execute: function()
    {
        var aWishList = this.__aWishList;
        var aTagsOn = this.__aTags_on;
        var aTagsOff = this.__aTags_off;

        if (aWishList === null || typeof aWishList === 'undefined') {
            aWishList = [];
        }

        var oTarget = $('.ec-product-listwishicon');
        for (var sKey in aTagsOff) {
            oTarget.attr(sKey, aTagsOff[sKey]);
        }

        for (var i = 0; i < aWishList.length; i++) {
            assignAttribute(aWishList[i]);
        }

        /**
         * oTarget 엘레먼트에 aData의 정보를 어싸인함.
         * @param array aData 위시리스트 정보
         */
        function assignAttribute(aData)
        {
            var iProductNo = aData['product_no'];
            var oTarget = $('.ec-product-listwishicon[productno="'+iProductNo+'"]');

            // oTarget의 src, alt, icon_status attribute의 값을 할당
            for (var sKey in aTagsOn) {
                oTarget.attr(sKey, aTagsOn[sKey]);
            }
        }

    },

    /**
     * 세션스토리지 삭제
     */
    clearStorage: function()
    {
        if (!window.sessionStorage) {
            return;
        }
        window.sessionStorage.removeItem(this.STORAGE_KEY);
    },

    /**
     * sCommand에 따른 sessionStorage Set
     * @param iProductNo
     * @param sCommand 추가(add)/삭제(del) sCommand
     */
    setSessionStorageItem: function(iProductNo, sCommand)
    {
        if (this.isUse() === false) {
            return;
        }

        var oStorageData = $.parseJSON(sessionStorage.getItem(this.STORAGE_KEY));
        var aWishList = oStorageData['wishList'];
        var iLimit = 200;

        if (aWishList === null) {
            aWishList = [];
        }

        var iProductNo = parseInt(iProductNo, 10);
        var iIndex = aWishList.indexOf(iProductNo);

        if (sCommand === 'add') {
            if (aWishList.length >= iLimit) {
                aWishList.splice(aWishList.length - 1, 1);
            }
            if (iIndex < 0) {
                aWishList.unshift(iProductNo);
            }
        } else {
            if (iIndex > -1) {
                aWishList.splice(iIndex, 1);
            }
        }

        oStorageData['wishList'] = aWishList;
        sessionStorage.setItem(this.STORAGE_KEY, JSON.stringify(oStorageData));
    }
};

/**
 * 비동기식 데이터 - 관심상품 갯수
 */
CAPP_ASYNC_METHODS.aDatasetList.push('Wishcount');
CAPP_ASYNC_METHODS.Wishcount = {
    __iWishCount: null,

    __$target: $('#xans_myshop_interest_prd_cnt'),
    __$target2: CAPP_ASYNC_METHODS.$xansMyshopMain.find('.xans_myshop_main_interest_prd_cnt'),

    isUse: function()
    {
        if (this.__$target.length > 0) {
            return true;
        }
        if (this.__$target2.length > 0) {
            return true;
        }

        if ( typeof EC_APPSCRIPT_SDK_DATA != "undefined" && jQuery.inArray('personal', EC_APPSCRIPT_SDK_DATA ) > -1 ) {
            return true;
        }

        return false;
    },

    restoreCache: function()
    {
        var sCookieName = 'wishcount_' + EC_SDE_SHOP_NUM;
        var re = new RegExp('(?:^| |;)' + sCookieName + '=([^;]+)');
        var aCookieValue = document.cookie.match(re);
        if (aCookieValue) {
            this.__iWishCount = parseInt(aCookieValue[1], 10);
            return true;
        }

        return false;
    },

    setData: function(sData)
    {
        this.__iWishCount = Number(sData);
    },

    execute: function()
    {
        if (SHOP.getLanguage() === 'ko_KR') {
            this.__$target.html(this.__iWishCount + '개');
        } else {
            this.__$target.html(this.__iWishCount);
        }

        this.__$target2.html(this.__iWishCount);
    },

    getData: function()
    {
        return {
            count: this.__iWishCount
        };
    }
};
/**
 * 비동기식 데이터 - 최근 본 상품
 */
CAPP_ASYNC_METHODS.aDatasetList.push('recent');
CAPP_ASYNC_METHODS.recent = {
    STORAGE_KEY: 'localRecentProduct' +  EC_SDE_SHOP_NUM,

    __$target: $('.xans-layout-productrecent'),

    __aData: null,

    isUse: function()
    {
        this.__$target.hide();

        if (this.__$target.find('.xans-record-').length > 0) {
            return true;
        }

        return false;
    },

    restoreCache: function()
    {
        this.__aData = [];

        var iTotalCount = CAPP_ASYNC_METHODS.RecentTotalCount.getData();
        if (iTotalCount == 0) {
            // 총 갯수가 없는 경우 복구할 것이 없으므로 복구한 것으로 리턴
            return true;
        }

        var sAdultImage = '';

        if (window.sessionStorage === undefined) {
            return false;
        }

        var sSessionStorageData = window.sessionStorage.getItem(this.STORAGE_KEY);
        if (sSessionStorageData === null) {
            return false;
        }

        var iViewCount = EC_FRONT_JS_CONFIG_SHOP.recent_count;

        this.__aData = [];
        var aStorageData = $.parseJSON(sSessionStorageData);
        var iCount = 1;
        var bDispRecent = true;
        for (var iKey in aStorageData) {
            var sProductImgSrc = aStorageData[iKey].sImgSrc;

            if (isFinite(iKey) === false) {
                continue;
            }

            var aDataTmp = [];
            aDataTmp.recent_img = getImageUrl(sProductImgSrc);
            aDataTmp.name = aStorageData[iKey].sProductName;
            aDataTmp.disp_recent = true;
            aDataTmp.is_adult_product = aStorageData[iKey].isAdultProduct;
            aDataTmp.link_product_detail = aStorageData[iKey].link_product_detail;

            //aDataTmp.param = '?product_no=' + aStorageData[iKey].iProductNo + '&cate_no=' + aStorageData[iKey].iCateNum + '&display_group=' + aStorageData[iKey].iDisplayGroup;
            aDataTmp.param = filterXssUrlParameter(aStorageData[iKey].sParam);
            if ( iViewCount < iCount ) {
                bDispRecent = false;
            }
            aDataTmp.disp_recent = bDispRecent;

            iCount++;
            this.__aData.push(aDataTmp);
        }

        return true;

        /**
         * get SessionStorage image url
         * @param sNewImgUrl DB에 저장되어 있는 tiny값
         */
        function getImageUrl(sImgUrl)
        {
            if (typeof(sImgUrl) === 'undefined' || sImgUrl === null) {
                return;
            }
            var sNewImgUrl = '';

            if (sImgUrl.indexOf('http://') >= 0 || sImgUrl.indexOf('https://') >= 0 || sImgUrl.substr(0, 2) === '//') {
                sNewImgUrl = sImgUrl;
            } else {
                sNewImgUrl = EC_FRONT_JS_CONFIG_SHOP.cdnUrl + '/web/product/tiny/' + sImgUrl;
            }

            return sNewImgUrl;
        }

        /**
         * 파라미터 URL에서 XSS 공격 관련 파라미터를 필터링합니다. ECHOSTING-162977
         * @param string sParam 파라미터
         * @return string 필터링된 파라미터
         */
        function filterXssUrlParameter(sParam)
        {
            sParam = sParam || '';

            var sPrefix = '';
            if (sParam.substr(0, 1) === '?') {
                sPrefix = '?';
                sParam = sParam.substr(1);
            }

            var aParam = {};

            var aParamList = (sParam).split('&');
            $.each(aParamList, function() {
                var aMatch = this.match(/^([^=]+)=(.*)$/);
                if (aMatch) {
                    aParam[aMatch[1]] = aMatch[2];
                }
            });

            return sPrefix + $.param(aParam);
        }

    },

    setData: function(aData)
    {
        this.__aData = aData;

        // 쿠키엔 있지만 sessionStorage에 없는 데이터 복구
        if (window.sessionStorage) {

            var oNewStorageData = [];

            for ( var i = 0; i < aData.length; i++) {
                if (aData[i].bNewProduct !== true) {
                    continue;
                }

                var aNewStorageData = {
                    'iProductNo': aData[i].product_no,
                    'sProductName': aData[i].name,
                    'sImgSrc': aData[i].recent_img,
                    'sParam': aData[i].param,
                    'link_product_detail': aData[i].link_product_detail
                };

                oNewStorageData.push(aNewStorageData);
            }

            if ( oNewStorageData.length > 0 ) {
                sessionStorage.setItem(this.STORAGE_KEY , JSON.stringify(oNewStorageData));
            }
        }
    },

    execute: function()
    {
        var sAdult19Warning = EC_FRONT_JS_CONFIG_SHOP.adult19Warning;

        var aData = this.__aData;

        var aNodes = this.__$target.find('.xans-record-');
        var iRecordCnt = aNodes.length;
        var iAddedElementCount = 0;

        var aNodesParent = $(aNodes[0]).parent();
        for ( var i = 0; i < aData.length; i++) {
            if (!aNodes[i]) {
                $(aNodes[iRecordCnt - 1]).clone().appendTo(aNodesParent);
                iAddedElementCount++;
            }
        }

        if (iAddedElementCount > 0) {
            aNodes = this.__$target.find('.xans-record-');
        }

        if (aData.length > 0) {
            this.__$target.show();
        }

        for ( var i = 0; i < aData.length; i++) {
            assignVariables(aNodes[i], aData[i]);
        }

        // 종료 카운트 지정
        if (aData.length < aNodes.length) {
            iLength = aData.length;
            deleteNode();
        }

        recentBntInit(this.__$target);

        /**
         * 패치되지 않은 노드를 제거
         */
        function deleteNode()
        {
            for ( var i = iLength; i < aNodes.length; i++) {
                $(aNodes[i]).remove();
            }
        }

        /**
         * oTarget 엘레먼트에 aData의 변수를 어싸인합니다.
         * @param Element oTarget 변수를 어싸인할 엘레먼트
         * @param array aData 변수 데이터
         */
        function assignVariables(oTarget, aData)
        {
            var recentImage = aData.recent_img;

            if (sAdult19Warning === 'T' && CAPP_ASYNC_METHODS.member.getMemberIsAdult() === 'F' && aData.is_adult_product === 'T') {
                    recentImage = EC_FRONT_JS_CONFIG_SHOP.adult19BaseTinyImage;
            }

            var $oTarget = $(oTarget);

            var sHtml = $oTarget.html();

            sHtml = sHtml.replace('about:blank', recentImage)
                         .replace('##param##', aData.param)
                         .replace('##name##',aData.name)
                         .replace('##link_product_detail##', aData.link_product_detail);
            $oTarget.html(sHtml);

            if (aData.disp_recent === true) {
                $oTarget.removeClass('displaynone');
            }
        }

        function recentBntInit($target)
        {
            // 화면에 뿌려진 갯수
            var iDisplayCount = 0;
            // 보여지는 style
            var sDisplay = '';
            var iIdx = 0;
            //
            var iDisplayNoneIdx = 0;

            var nodes = $target.find('.xans-record-').each(function()
            {
                sDisplay = $(this).css('display');
                if (sDisplay != 'none') {
                    iDisplayCount++;
                } else {
                    if (iDisplayNoneIdx == 0) {
                        iDisplayNoneIdx = iIdx;
                    }

                }
                iIdx++;
            });

            var iRecentCount = nodes.length;
            var bBtnActive = iDisplayCount > 0;
            $('.xans-layout-productrecent .prev').unbind('click').click(function()
            {
                if (bBtnActive !== true) return;
                var iFirstNode = iDisplayNoneIdx - iDisplayCount;
                if (iFirstNode == 0 || iDisplayCount == iRecentCount) {
                    alert(__('최근 본 첫번째 상품입니다.'));
                    return;
                } else {
                    iDisplayNoneIdx--;
                    $(nodes[iDisplayNoneIdx]).hide();
                    $(nodes[iFirstNode - 1]).removeClass('displaynone');
                    $(nodes[iFirstNode - 1]).fadeIn('fast');

                }
            }).css(
            {
                cursor : 'pointer'
            });

            $('.xans-layout-productrecent .next').unbind('click').click(function()
            {
                if (bBtnActive !== true) return;
                if ( (iRecentCount ) == iDisplayNoneIdx || iDisplayCount == iRecentCount) {
                    alert(__('최근 본 마지막 상품입니다.'));
                } else {
                    $(nodes[iDisplayNoneIdx]).fadeIn('fast');
                    $(nodes[iDisplayNoneIdx]).removeClass('displaynone');
                    $(nodes[ (iDisplayNoneIdx - iDisplayCount)]).hide();
                    iDisplayNoneIdx++;
                }
            }).css(
            {
                cursor : 'pointer'
            });

        }

    }
};

/**
 * 비동기식 데이터 - 최근본상품 총 갯수
 */
CAPP_ASYNC_METHODS.aDatasetList.push('RecentTotalCount');
CAPP_ASYNC_METHODS.RecentTotalCount = {
    __iRecentCount: null,

    __$target: CAPP_ASYNC_METHODS.$xansMyshopMain.find('.xans_myshop_main_recent_cnt'),

    isUse: function()
    {
        if (this.__$target.length > 0) {
            return true;
        }

        return false;
    },

    restoreCache: function()
    {
        var sCookieName = 'recent_plist';
        if (EC_SDE_SHOP_NUM > 1) {
            sCookieName = 'recent_plist' + EC_SDE_SHOP_NUM;
        }
        var re = new RegExp('(?:^| |;)' + sCookieName + '=([^;]+)');
        var aCookieValue = document.cookie.match(re);
        if (aCookieValue) {
            this.__iRecentCount = decodeURI(aCookieValue[1]).split('|').length;
        } else {
            this.__iRecentCount = 0;
        }
    },

    execute: function()
    {
        this.__$target.html(this.__iRecentCount);
    },

    getData: function()
    {
        if (this.__iRecentCount === null) {
            // this.isUse값이 false라서 복구되지 않았는데 이 값이 필요한 경우 복구
            this.restoreCache();
        }

        return this.__iRecentCount;
    }
};
/**
 * 비동기식 데이터 - 주문정보
 */
CAPP_ASYNC_METHODS.aDatasetList.push('Order');
CAPP_ASYNC_METHODS.Order = {
    __iOrderCount: null,
    __iOrderTotalPrice: null,
    __iGradeIncreaseValue: null,

    __$target: $('#xans_myshop_bankbook_order_count'),
    __$target2: $('#xans_myshop_bankbook_order_price'),
    __$target3: $('#xans_myshop_bankbook_grade_increase_value'),

    isUse: function()
    {
        if (CAPP_ASYNC_METHODS.IS_LOGIN === true) {
            if (this.__$target.length > 0) {
                return true;
            }

            if (this.__$target2.length > 0) {
                return true;
            }

            if (this.__$target3.length > 0) {
                return true;
            }
        }
        
        return false;        
    },

    restoreCache: function()
    {
        var sCookieName = 'order_' + EC_SDE_SHOP_NUM;
        var re = new RegExp('(?:^| |;)' + sCookieName + '=([^;]+)');
        var aCookieValue = document.cookie.match(re);
        if (aCookieValue) {
            var aData = jQuery.parseJSON(decodeURIComponent(aCookieValue[1]));
            this.__iOrderCount = aData.total_order_count;
            this.__iOrderTotalPrice = aData.total_order_price;
            this.__iGradeIncreaseValue = Number(aData.grade_increase_value);
            return true;
        }

        return false;
    },

    setData: function(aData)
    {
        this.__iOrderCount = aData['total_order_count'];
        this.__iOrderTotalPrice = aData['total_order_price'];
        this.__iGradeIncreaseValue = Number(aData['grade_increase_value']);
    },

    execute: function()
    {
        this.__$target.html(this.__iOrderCount);
        this.__$target2.html(this.__iOrderTotalPrice);
        this.__$target3.html(this.__iGradeIncreaseValue);
    },

    getData: function()
    {
        return {
            total_order_count: this.__iOrderCount,
            total_order_price: this.__iOrderTotalPrice,
            grade_increase_value: this.__iGradeIncreaseValue
        };
    }
};
/**
 * 비동기식 데이터 - Benefit
 */
CAPP_ASYNC_METHODS.aDatasetList.push('Benefit');
CAPP_ASYNC_METHODS.Benefit = {
    __aBenefit: null,
    __$target: $('.xans-myshop-asyncbenefit'),

    isUse: function()
    {
        if (CAPP_ASYNC_METHODS.IS_LOGIN === true) {
            if (this.__$target.length > 0) {
                return true;
            }
        }

        return false;
    },

    setData: function(aData)
    {
        this.__aBenefit = aData;
    },

    execute: function()
    {
        var aFilter = ['group_image_tag', 'group_icon_tag', 'display_no_benefit', 'display_with_all', 'display_mobile_use_dc', 'display_mobile_use_mileage'];
        var __aData = this.__aBenefit;
        
        // 그룹이미지
        $('.myshop_benefit_group_image_tag').attr({alt: __aData['group_name'], src: __aData['group_image']});

        // 그룹아이콘
        $('.myshop_benefit_group_icon_tag').attr({alt: __aData['group_name'], src: __aData['group_icon']});

        if (__aData['display_no_benefit'] === true) {
            $('.myshop_benefit_display_no_benefit').removeClass('displaynone').show();
        }
        
        if (__aData['display_with_all'] === true) {
            $('.myshop_benefit_display_with_all').removeClass('displaynone').show();
        }
        
        if (__aData['display_mobile_use_dc'] === true) {
            $('.myshop_benefit_display_mobile_use_dc').removeClass('displaynone').show();
        } 
        
        if (__aData['display_mobile_use_mileage'] === true) {
            $('.myshop_benefit_display_mobile_use_mileage').removeClass('displaynone').show();
        }

        $.each(__aData, function(key, val) {
            if ($.inArray(key, aFilter) === -1) {
                $('.myshop_benefit_' + key).html(val);
            }
        });
    }    
};
/**
 * 비동기식 데이터 - 비동기장바구니 레이어
 */
CAPP_ASYNC_METHODS.aDatasetList.push('BasketLayer');
CAPP_ASYNC_METHODS.BasketLayer = {
    __sBasketLayerHtml: null,
    __$target: document.getElementById('ec_async_basket_layer_container'),

    isUse: function()
    {
        if (this.__$target !== null) {
            return true;
        }
        return false;
    },

    execute: function()
    {
        $.ajax({
            url: '/order/async_basket_layer.html?__popupPage=T',
            async: false,
            success: function(data) {
                var sBasketLayerHtml = data;
                var sBasketLayerStyle = '';
                var sBasketLayerBody = '';

                sBasketLayerHtml = sBasketLayerHtml.replace(/<script([\s\S]*?)<\/script>/gi,''); // 스크립트 제거
                sBasketLayerHtml = sBasketLayerHtml.replace(/<link([\s\S]*?)\/>/gi,''); // 옵티마이져 제거

                var regexStyle = /<style([\s\S]*?)<\/style>/; // Style 추출
                if (regexStyle.exec(sBasketLayerHtml) != null) sBasketLayerStyle = regexStyle.exec(sBasketLayerHtml)[0];

                var regexBody = /<body[\s\S]*?>([\s\S]*?)<\/body>/; // Body 추출
                if (regexBody.exec(sBasketLayerHtml) != null) sBasketLayerBody = regexBody.exec(sBasketLayerHtml)[1];

                CAPP_ASYNC_METHODS.BasketLayer.__sBasketLayerHtml = sBasketLayerStyle + sBasketLayerBody;
            }
        });
        this.__$target.innerHTML = this.__sBasketLayerHtml;
    }
};
/**
 * 비동기식 데이터 - Benefit
 */
CAPP_ASYNC_METHODS.aDatasetList.push('Grade');
CAPP_ASYNC_METHODS.Grade = {
    __aGrade: null,
    __$target: $('#sGradeAutoDisplayArea'),

    isUse: function()
    {
        if (CAPP_ASYNC_METHODS.IS_LOGIN === true) {
            if (this.__$target.length > 0) {
                return true;
            }
        }

        return false;
    },

    setData: function(aData)
    {
        this.__aGrade = aData;
    },

    execute: function()
    {
        var __aData = this.__aGrade;
        var aFilter = ['bChangeMaxTypePrice', 'bChangeMaxTypePriceAndCount', 'bChangeMaxTypePriceOrCount', 'bChangeMaxTypeCount'];

        var aMaxDisplayJson = {
            "bChangeMaxTypePrice": [
                {"sId": "sChangeMaxTypePriceArea"}
            ],
            "bChangeMaxTypePriceAndCount": [
                {"sId": "sChangeMaxTypePriceAndCountArea"}
            ],
            "bChangeMaxTypePriceOrCount": [
                {"sId": "sChangeMaxTypePriceOrCountArea"}
            ],
            "bChangeMaxTypeCount": [
                {"sId": "sChangeMaxTypeCountArea"}
            ]
        };

        if ($('.sNextGroupIconArea').length > 0) {
            if (__aData['bDisplayNextGroupIcon'] === true) {
                $('.sNextGroupIconArea').removeClass('displaynone').show();
                $('.myshop_benefit_next_group_icon_tag').attr({alt: __aData['sNextGrade'], src: __aData['sNextGroupIcon']});
            } else {
                $('.sNextGroupIconArea').addClass('displaynone');
            }
        }

        var sIsAutoGradeDisplay = "F";
        $.each(__aData, function(key, val) {
            if ($.inArray(key, aFilter) === -1) {
                return true;
            }
            if (val === true) {
                if ($('#'+aMaxDisplayJson[key][0].sId).length > 0) {
                    $('#' + aMaxDisplayJson[key][0].sId).removeClass('displaynone').show();
                }
                sIsAutoGradeDisplay = "T";
            }
        });
        if (sIsAutoGradeDisplay == "T" && $('#sGradeAutoDisplayArea .sAutoGradeDisplay').length > 0) {
            $('#sGradeAutoDisplayArea .sAutoGradeDisplay').addClass('displaynone');
        }

        $.each(__aData, function(key, val) {
            if ($.inArray(key, aFilter) === -1) {
                if ($('.xans-member-var-' + key).length > 0) {
                    $('.xans-member-var-' + key).html(val);
                }
            }
        });
    }    
};
/**
 * 비동기식 데이터 - Benefit
 */
CAPP_ASYNC_METHODS.aDatasetList.push('AutomaticGradeShow');
CAPP_ASYNC_METHODS.AutomaticGradeShow = {
    __aGrade: null,
    __$target: $('#sAutomaticGradeShowArea'),

    isUse: function()
    {
        if (CAPP_ASYNC_METHODS.IS_LOGIN === true) {
            if (this.__$target.length > 0) {
                return true;
            }
        }
        return false;
    },

    setData: function(aData)
    {
        this.__aGrade = aData;
    },

    execute: function()
    {
        var __aData = this.__aGrade;

        /**
         * 아이콘 표기 제외
        if ($('.sNextGroupIconArea').length > 0) {
            if (__aData['bDisplayNextGroupIcon'] === true) {
                $('.sNextGroupIconArea').removeClass('displaynone').show();
                $('.myshop_benefit_next_group_icon_tag').attr({alt: __aData['sNextGrade'], src: __aData['sNextGroupIcon']});
            } else {
                $('.sNextGroupIconArea').addClass('displaynone');
            }
        }
         */

        var sIsAutoGradeDisplay = "F";
        $.each(__aData, function(key, val) {
            if (val === true) {
                sIsAutoGradeDisplay = "T";
                return false;
            }
        });
        if (sIsAutoGradeDisplay == "T" && $('#sAutomaticGradeShowArea .sAutoGradeDisplay').length > 0) {
            $('#sAutomaticGradeShowArea .sAutoGradeDisplay').addClass('displaynone');
        }

        $.each(__aData, function(key, val) {
            if ($('.xans-member-var-' + key).length > 0) {
                $('.xans-member-var-' + key).html(val);
            }
        });
    }    
};
/**
 * 비동기식 데이터 - 비동기장바구니 레이어
 */
CAPP_ASYNC_METHODS.aDatasetList.push('MobileMutiPopup');
CAPP_ASYNC_METHODS.MobileMutiPopup = {
    __$target: $('div[class^="ec-async-multi-popup-layer-container"]'),

    isUse: function()
    {
        if (this.__$target.length > 0) {
            return true;
        }
        return false;
    },

    execute: function()
    {
        for (var i=0; i < this.__$target.length; i++) {
            $.ajax({
                url: '/exec/front/popup/AjaxMultiPopup?index='+i,
                data : EC_ASYNC_MULTI_POPUP_OPTION[i],
                dataType: "json",
                success : function (oResult) {
                    switch (oResult.code) {
                        case '0000' :
                            if (oResult.data.length < 1) {
                                break;
                            }
                            $('.ec-async-multi-popup-layer-container-' + oResult.data.html_index).html(oResult.data.html_text);
                            if (oResult.data.type == 'P') {
                                BANNER_POPUP_OPEN.setPopupSetting();
                                BANNER_POPUP_OPEN.setPopupWidth();
                                BANNER_POPUP_OPEN.setPopupClose();
                            } else {
                                /**
                                 * 이중 스크롤 방지 클래스 추가(비동기) 
                                 *
                                 */
                                $('body').addClass('eMobilePopup');
                                $('body').width('100%');

                                BANNER_POPUP_OPEN.setFullPopupSetting();
                                BANNER_POPUP_OPEN.setFullPopupClose();
                            }
                            break;
                        default :
                            break;
                    }
                },
                error : function () {
                }
            });
        }
    }
};
/**
 * 비동기식 데이터 - 좋아요 상품 갯수
 */
CAPP_ASYNC_METHODS.aDatasetList.push('MyLikeProductCount');
CAPP_ASYNC_METHODS.MyLikeProductCount = {
    __iMyLikeCount: null,

    __$target: $('#xans_myshop_like_prd_cnt'),
    __$target_main: $('#xans_myshop_main_like_prd_cnt'),
    isUse: function()
    {
        if (this.__$target.length > 0 && SHOP.getLanguage() === 'ko_KR') {
            return true;
        }

        if (this.__$target_main.length > 0 && SHOP.getLanguage() === 'ko_KR') {
            return true;
        }

        return false;
    },
    restoreCache: function()
    {
        var sCookieName = 'like_product_cnt' + EC_SDE_SHOP_NUM;
        var re = new RegExp('(?:^| |;)' + sCookieName + '=([^;]+)');
        var aCookieValue = document.cookie.match(re);
        if (aCookieValue) {
            this.__iMyLikeCount = parseInt(aCookieValue[1], 10);
            return true;
        }

        return false;
    },

    setData: function(sData)
    {
        this.__iMyLikeCount = Number(sData);
    },

    execute: function()
    {
        if (SHOP.getLanguage() === 'ko_KR') {
            this.__$target.html(this.__iMyLikeCount + '개');
            this.__$target_main.html(this.__iMyLikeCount);
        }
    }
};
/**
 * 비동기식 데이터 - 좋아요 상품 list
 */
CAPP_ASYNC_METHODS.aDatasetList.push('MyLikeProductList');
CAPP_ASYNC_METHODS.MyLikeProductList = {
    __aMyLikeList: null,
    __iMyLikeListLimit : 10,
    __$target: $('.xans-product-likeproductasync'),
    isUse: function()
    {
        if (this.__$target.length > 0 && SHOP.getLanguage() === 'ko_KR') {
            return true;
        }

        if ($('#EC_LIKE_ASYNC_LINK_DATA_LIST').length > 0) {
            return true;
        }
        return false;
    },
    setData: function(aData)
    {
        this.__iMyLikeListLimit = EC_FRONT_JS_CONFIG_SHOP.aSyncLikeLimit;
        this.__aMyLikeList = aData;
    },
    execute: function()
    {

        if (this.__aMyLikeList === null || this.__aMyLikeList.length === 0) {
            $('#EC_LIKE_ASYNC_LINK_DATA_EMPTY').html('');
            return;
        }

        //$('#EC_LIKE_ASYNC_LINK_DATA_EMPTY').remove();
        var sSpaceIcon = ' ';
        for (var iKey = 0; iKey < this.__aMyLikeList.length ; iKey++) {
            var oRowData = $('#EC_LIKE_ASYNC_LINK_DATA_LIST_TEMP').clone().removeAttr('id');
            oRowData.find('a[href^="/product/detail.html"').attr('href', this.__aMyLikeList[iKey].link_product_detail);
            oRowData.find('.thumb img').attr('src',this.__aMyLikeList[iKey].image_medium);
            oRowData.find('.EC_LIKE_ASYNC_LINK_DATA_PRODUCT_NAME').html('<a href="' + this.__aMyLikeList[iKey].link_product_detail + '">' + this.__aMyLikeList[iKey].disp_product_name + '</a>');

            var sIconListHtml = this.__aMyLikeList[iKey].soldout_icon + sSpaceIcon +  this.__aMyLikeList[iKey].stock_icon + sSpaceIcon + this.__aMyLikeList[iKey].recommend_icon + sSpaceIcon +
                this.__aMyLikeList[iKey].new_icon + sSpaceIcon + this.__aMyLikeList[iKey].product_icons + sSpaceIcon + this.__aMyLikeList[iKey].benefit_icons;
             if (sIconListHtml !== '') {
                oRowData.find('.EC_LIKE_ASYNC_LINK_DATA_ICON_LIST').html(sIconListHtml);
            }

            $('#EC_LIKE_ASYNC_LINK_DATA_APPEND').append(oRowData);

            if (iKey >= (this.__iMyLikeListLimit - 1)) {
                break;
            }
        }
        $('#EC_LIKE_ASYNC_LINK_DATA_LIST_TEMP').remove();
        if (this.__aMyLikeList.length < this.__iMyLikeListLimit) {
            $('#EC_LIKE_ASYNC_LINK_DATA_MORE_VIEW').remove();
        }

        if (EC_FRONT_JS_CONFIG_SHOP.bAutoView === 'T') {
            document.getElementById('EC_LIKE_ASYNC_LINK_DATA_LIST').style.display = 'block';
        }

    }
};
/**
 * 라이브 링콘 on/off이미지
 */
CAPP_ASYNC_METHODS.aDatasetList.push('Livelinkon');
CAPP_ASYNC_METHODS.Livelinkon = {
    __$target: $('#ec_livelinkon_campain_on'),
    __$target2: $('#ec_livelinkon_campain_off'),

    isUse: function()
    {
        if (this.__$target.length > 0 && this.__$target2.length > 0) {
            return true;
        }
        return false;
    },

    execute: function()
    {
        var sCampaignid = '';
        if (EC_ASYNC_LIVELINKON_ID != undefined) {
            sCampaignid = EC_ASYNC_LIVELINKON_ID;
        }
        $.ajax({
            url: '/exec/front/Livelinkon/Campaignajax?campaign_id='+sCampaignid,
            async: false,
            success: function(data) {
                if (data == 'on') {
                    CAPP_ASYNC_METHODS.Livelinkon.__$target.removeClass('displaynone').show();
                    CAPP_ASYNC_METHODS.Livelinkon.__$target2.removeClass('displaynone').hide();
                } else if (data == 'off') {
                    CAPP_ASYNC_METHODS.Livelinkon.__$target.removeClass('displaynone').hide();
                    CAPP_ASYNC_METHODS.Livelinkon.__$target2.removeClass('displaynone').show();
                } else {
                    CAPP_ASYNC_METHODS.Livelinkon.__$target.removeClass('displaynone').hide();
                    CAPP_ASYNC_METHODS.Livelinkon.__$target2.removeClass('displaynone').hide();
                }
            }
        });
    }
};
/**
 * 비동기식 데이터 - 마이쇼핑 > 주문 카운트 (주문 건수 / CS건수 / 예전주문)
 */
CAPP_ASYNC_METHODS.aDatasetList.push('OrderHistoryCount');
CAPP_ASYNC_METHODS.OrderHistoryCount = {
    __sTotalOrder: null,
    __sTotalOrderCs: null,
    __sTotalOrderOld: null,

    __$target: $('#ec_myshop_total_orders'),
    __$target2: $('#ec_myshop_total_orders_cs'),
    __$target3: $('#ec_myshop_total_orders_old'),

    isUse: function()
    {
        if (CAPP_ASYNC_METHODS.IS_LOGIN === true) {
            if (this.__$target.length > 0) {
                return true;
            }

            if (this.__$target2.length > 0) {
                return true;
            }

            if (this.__$target3.length > 0) {
                return true;
            }
        }

        return false;
    },

    setData: function(aData)
    {
        this.__sTotalOrder = aData['total_orders'];
        this.__sTotalOrderCs = aData['total_orders_cs'];
        this.__sTotalOrderOld = aData['total_orders_old'];

    },

    execute: function()
    {
        this.__$target.html(this.__sTotalOrder);
        this.__$target2.html(this.__sTotalOrderCs);
        this.__$target3.html(this.__sTotalOrderOld);
    }
};
/**
 * 주문조회 > 주문내역조회 및 취소/교환/반품내역 등 탭(OrderHistoryTab) 갯수 비동기호출
 */
CAPP_ASYNC_METHODS.aDatasetList.push('OrderHistoryTab');
CAPP_ASYNC_METHODS.OrderHistoryTab = {
    __$targetTotalOrders: $('#xans_myshop_total_orders'),
    __$targetTotalOrdersCs: $('#xans_myshop_total_orders_cs'),
    __$targetTotalOrdersPast: $('#xans_myshop_total_orders_past'),
    __$targetTotalOrdersOld: $('#xans_myshop_total_orders_old'),

    isUse: function()
    {
        if (CAPP_ASYNC_METHODS.IS_LOGIN === true) {
            if ($('.xans-myshop-orderhistorytab').length > 0) {
                return true;
            }
        }
        return false;
    },
    execute: function()
    {
        try {
            var mode = this.getUrlParam('mode');
            var order_id = this.getUrlParam('order_id');
            var order_status = this.getUrlParam('order_status');
            var history_start_date = this.getUrlParam('history_start_date');
            var history_end_date = this.getUrlParam('history_end_date');
            var past_year = this.getUrlParam('past_year');
            var count = this.getUrlParam('count');

            var sPathName = window.location.pathname;

            var oParameters = {
                'mode': mode == null ? '' : mode,
                'order_id': order_id == null ? '' : order_id,
                'order_status': order_status == null ? '' : order_status,
                'history_start_date': history_start_date == null ? '' : history_start_date,
                'history_end_date': history_end_date == null ? '' : history_end_date,
                'past_year': past_year == null ? '' : past_year,
                'count': count == null ? '' : count,
                'page_name': sPathName.substring(sPathName.lastIndexOf("/") + 1, sPathName.indexOf('.'))
            };

            if (typeof EC_ASYNC_ORDERHISTORYTAB_ORDER_ID !== 'undefined') {
                oParameters['encrypted_str'] = EC_ASYNC_ORDERHISTORYTAB_ORDER_ID;
            }

            var oThis = this;

            $.ajax({
                url: '/exec/front/Myshop/OrderHistoryTab',
                dataType: 'json',
                data: oParameters,
                success: function (aData) {
                    if (aData['result'] === true) {
                        oThis.__$targetTotalOrders.html(aData['total_orders']);
                        oThis.__$targetTotalOrdersCs.html(aData['total_orders_cs']);
                        oThis.__$targetTotalOrdersOld.html(aData['total_orders_old']);
                        oThis.__$targetTotalOrdersPast.html(aData['total_orders_past']);

                        var oTabATagList = {
                            'param' : $('.tab_class a'),
                            'param_cs' : $('.tab_class_cs a'),
                            'param_past' : $('.tab_class_past a'),
                            'param_old' : $('.tab_class_old a'),
                        };
                        var sHref;
                        $.each(oTabATagList, function(sKey, oTarget) {
                            if (oTarget.length > 0) {
                                sHref = oTarget.attr("href");
                                sHref = sHref.replace("$" + sKey, aData[sKey]);
                                oTarget.attr("href", sHref);
                            }
                        });

                        $("." + aData['selected_tab_class']).addClass('selected');

                        if (aData['is_past_list_display'] === false) {
                            $('.tab_class_past').addClass("displaynone");
                        } else {
                            $('.tab_class_past').removeClass("displaynone");
                        }

                        if (aData['old_list_display'] === false) {
                            $('.tab_class_old').addClass("displaynone");
                        } else {
                            $('.tab_class_old').removeClass("displaynone");
                        }
                    }
                }
            });
        } catch (oError) {
            this.errorAjaxCall(oError);
        }
    },
    getUrlParam : function(name)
    {
        var param = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
        if (param == null) {
            return null;
        } else {
            return decodeURI(param[1]) || null;
        }
    },
    errorAjaxCall : function(oError)
    {
        var sError = oError.toString();
        var aMatch = sError.match(/Error*/g);

        if ( typeof(oError) !== 'object' || aMatch == null || aMatch.length < 1 || !oError.stack ) return;

        $.ajax({
            url: '/exec/front/order/FormJserror/',
            method: 'POST',
            cache: false,
            async : false,
            data: {
                errorMessage : oError.message,
                errorStack : oError.stack,
                errorName : oError.name
            }
        });
    }
};
var PathRoleValidator = (function() {
    /**
     * Milage, Deposit 의 경우 처리되지 말아야할 페이지 확인
     * @returns {boolean}
     */
    function isInvalidPathRole()
    {
        // path role
        var sCurrentPathRole = null;

        // // euckr 환경에서 path role 획득
        if (SHOP.getProductVer() === 1) {
            // path 와 role 매핑
            var aPathRoleMap = {
                '/myshop/index.html': 'MYSHOP_MAIN',
                '/myshop/mileage/historyList.html': 'MYSHOP_MILEAGE_LIST',
                '/myshop/deposits/historyList.html': 'MYSHOP_DEPOSIT_LIST',
                '/order/orderform.html': 'ORDER_ORDERFORM'
            };

            // 페이지 경로로부터 path role 획득
            sCurrentPathRole = aPathRoleMap[document.location.pathname];

            // utf8 환경에서 path role 획득
        } else {
            // 현재 페이지 path role 획득
            sCurrentPathRole = $('meta[name="path_role"]').attr('content');
        }

        // 처리되면 안되는 경로
        var aInvalidPathRole = [
            'MYSHOP_MAIN',
            'MYSHOP_MILEAGE_LIST',
            'MYSHOP_DEPOSIT_LIST',
            'ORDER_ORDERFORM'
        ];

        return $.inArray(sCurrentPathRole, aInvalidPathRole) >= 0;
    }

    return {
        isInvalidPathRole: isInvalidPathRole
    };
})();
        

    var EC_SHOP_FRONT_NEW_LIKE_BROWSER_CACHE = {
        /**
             * 로컬 스토리지 지원 여부
             * @return bool 지원하면 true, 지원하지 않으면 false
             */
        isSupport: function() {
            if (window.localStorage) {
                return true;
            } else {
                return false;
            }
        },

        /**
             * 로컬 스토리지에 데이터 셋팅
             * @param string sKey 키
             * @param mixed mData 저장할 데이터
             * @param int iLifeTime 살아있는 시간(초) (기본 1일)
             * @return bool 정상 저장 여부
             */
        setItem: function(sKey, mData, iLifeTime) {
            if (this.isSupport() === false) {
                return false;
            }

            iLifeTime = iLifeTime || 86400;

            try {
                window.localStorage.setItem(sKey, JSON.stringify({
                    iExpireTime: Math.floor(new Date().getTime() / 1000) + iLifeTime,
                    mContent: mData
                }));
            } catch (e) {
                return false;
            }

            return true;
        },

        /**
             * 로컬 스토리지에서 데이터 리턴
             * @param string sKey 키
             * @return mixed 데이터
             */
        getItem: function(sKey) {
            if (this.isSupport() === false) {
                return null;
            }

            var sData = window.localStorage.getItem(sKey);
            try {
                if (sData) {
                    var aData = JSON.parse(sData);
                    if (aData.iExpireTime > Math.floor(new Date().getTime() / 1000)) {
                        return aData.mContent;
                    } else {
                        window.localStorage.removeItem(sKey);
                    }
                }
            } catch (e) { }

            return null;
        },

        /**
             * 로컬 스토리지에서 데이터 삭제
             * @param string sKey 키
             */
        removeItem: function(sKey) {
            if (this.isSupport() === false) {
                return;
            }

            window.localStorage.removeItem(sKey);
        }
    };



    var CAPP_SHOP_NEW_PRODUCT_OPTIONSELECT = {
        sLayerID : 'capp-shop-new-product-optionselect-layer',
        sBackLayerID : 'capp-shop-new-product-optionselect-backlayer',
        sIframeID : 'capp-shop-new-product-optionselect-iframe',
        iProductNo : 0,
        iCategoryNo : 0,
        sActionType : '',
        sIsMobile : '',
        tedCustomBasket : function(iProductNo, iCategoryNo, sActionType, sIsMobile)
        {
            this.iProductNo = iProductNo;
            this.sActionType = sActionType;
            this.iCategoryNo = iCategoryNo;
            this.sIsMobile = sIsMobile;
            this.createLayer();
        },

        createLayer : function()
        {
            if (this.sIsMobile) {
                var container = '<div id="'+this.sLayerID+'" style="position:fixed;z-index:10001;display:block;top:50px;left:0px;width:100%;height:480px;"><iframe id="'+this.sIframeID+'" scroll="0" scrolling="no" frameBorder="0"  style="height:100%;width:100%;"></iframe></div>';
                $('body').append($(container));
            } else {
                var container = '<div id="'+this.sLayerID+'" style="position:absolute;z-index:10001;display:block;width:600px;height:524px;"><iframe id="'+this.sIframeID+'" scroll="0" scrolling="no" frameBorder="0" style="height:100%;width:100%;background: transparent;" allowtransparency="true"></iframe></div>';
                $('body').append($('<div id="' + this.sBackLayerID +'" style="position:absolute;top:0px;left:0px;z-index:10000;"></div>')).append($(container));

                $('#' + this.sBackLayerID).live('click', function() {
                    CAPP_SHOP_NEW_PRODUCT_OPTIONSELECT.closeOptionCommon();
                });

                $('#' + this.sBackLayerID).css({width:$("body").width(),height:$("body").height(),opacity:.4}).show();
            }

            var url = '/product/basket_option.html?product_no=' + this.iProductNo + '&sActionType=' + this.sActionType + '&cate_no=' + this.iCategoryNo;

            $('#' + this.sIframeID).attr('src', url);
            $('#' + this.sIframeID).bind("load",function(){
                $(".close",this.contentWindow.document.body).bind("click", function() {
                    CAPP_SHOP_NEW_PRODUCT_OPTIONSELECT.closeOptionCommon();
                });
            });

            CAPP_SHOP_NEW_PRODUCT_OPTIONSELECT.centerLayer();
            $('#' + this.sLayerID).show();
        },

        closeOptionCommon : function()
        {
            $('div').remove('#' + this.sBackLayerID);
            $('#' + this.sIframeID).remove();
            $('div').remove('#' + this.sLayerID);
        },

        centerLayer: function() {
            var oThis = $('#' + this.sLayerID);
            var oWindow = $(window);
            oThis.css({
                position: "absolute",
                top: ~~((oWindow.height() - oThis.outerHeight()) / 2) + oWindow.scrollTop() + "px",
                left: '50%',
                'margin-left' : ((oThis.outerWidth() / 2) * -1)+'px'
            });
            return this;
        }
    };
    var categoryOddColor = new Object();
    var categoryEvenColor = new Object();

    function move_basket_page() {
        window.location.href = '/order/basket.html';
    }
</script>






<script>
    // setTimeout(() => {
    
    	window.addEventListener('message', function(e) {
          console.log('닥맘에서 받은 메세지', "e.data :", e.data);
          // console.log(); // { childData : 'test data' }
          let { target_id, target_category_id, product_code } = e.data;
          // category_add_basket('436','239', '1', 'A0000', false, '1', 'P00000QU', 'A', 'F', '0');
		 // category_add_basket(target_id, target_category_id, '1', 'A0000', false, '1', product_code, 'A', 'F', '0');
		  // category_add_basket('437','239', '1', 'A0000', false, '1', 'P00000QV', 'A', 'F', '0');
          
            
            // CAPP_SHOP_NEW_PRODUCT_OPTIONSELECT.tedCustomBasket(parseInt(436), 239, 'basket', 'true')
          category_add_basket('436','239', '1', 'A0000', false, '10', 'P00000QU', 'A', 'F', '0');
		  category_add_basket('437','239', '1', 'A0000', false, '15', 'P00000QV', 'A', 'F', '0');
          // category_add_basket('438','239', '1', 'A0000', false, '1', 'P00000QW', 'A', 'F', '0');
            
      //    if(e.data.childData === "test data!!!!!!!!!!!!!! 들어가!!!!!!"){
        //    console.log("그래그래 데이ㅏ터 맞다임마");
          //}
        }); 
    
    
   //  }, 500)
    
</script>




